var MS=Object.defineProperty;var VS=(r,t,n)=>t in r?MS(r,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):r[t]=n;var wr=(r,t,n)=>VS(r,typeof t!="symbol"?t+"":t,n);(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))s(o);new MutationObserver(o=>{for(const u of o)if(u.type==="childList")for(const f of u.addedNodes)f.tagName==="LINK"&&f.rel==="modulepreload"&&s(f)}).observe(document,{childList:!0,subtree:!0});function n(o){const u={};return o.integrity&&(u.integrity=o.integrity),o.referrerPolicy&&(u.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?u.credentials="include":o.crossOrigin==="anonymous"?u.credentials="omit":u.credentials="same-origin",u}function s(o){if(o.ep)return;o.ep=!0;const u=n(o);fetch(o.href,u)}})();var Vd={exports:{}},pl={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var D_;function xS(){if(D_)return pl;D_=1;var r=Symbol.for("react.transitional.element"),t=Symbol.for("react.fragment");function n(s,o,u){var f=null;if(u!==void 0&&(f=""+u),o.key!==void 0&&(f=""+o.key),"key"in o){u={};for(var m in o)m!=="key"&&(u[m]=o[m])}else u=o;return o=u.ref,{$$typeof:r,type:s,key:f,ref:o!==void 0?o:null,props:u}}return pl.Fragment=t,pl.jsx=n,pl.jsxs=n,pl}var O_;function PS(){return O_||(O_=1,Vd.exports=xS()),Vd.exports}var Lt=PS(),xd={exports:{}},wt={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var N_;function kS(){if(N_)return wt;N_=1;var r=Symbol.for("react.transitional.element"),t=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),s=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),u=Symbol.for("react.consumer"),f=Symbol.for("react.context"),m=Symbol.for("react.forward_ref"),g=Symbol.for("react.suspense"),y=Symbol.for("react.memo"),E=Symbol.for("react.lazy"),b=Symbol.iterator;function S(D){return D===null||typeof D!="object"?null:(D=b&&D[b]||D["@@iterator"],typeof D=="function"?D:null)}var L={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},P=Object.assign,Q={};function F(D,tt,at){this.props=D,this.context=tt,this.refs=Q,this.updater=at||L}F.prototype.isReactComponent={},F.prototype.setState=function(D,tt){if(typeof D!="object"&&typeof D!="function"&&D!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,D,tt,"setState")},F.prototype.forceUpdate=function(D){this.updater.enqueueForceUpdate(this,D,"forceUpdate")};function $(){}$.prototype=F.prototype;function J(D,tt,at){this.props=D,this.context=tt,this.refs=Q,this.updater=at||L}var it=J.prototype=new $;it.constructor=J,P(it,F.prototype),it.isPureReactComponent=!0;var ht=Array.isArray,ut={H:null,A:null,T:null,S:null,V:null},bt=Object.prototype.hasOwnProperty;function M(D,tt,at,nt,mt,Ct){return at=Ct.ref,{$$typeof:r,type:D,key:tt,ref:at!==void 0?at:null,props:Ct}}function w(D,tt){return M(D.type,tt,void 0,void 0,void 0,D.props)}function R(D){return typeof D=="object"&&D!==null&&D.$$typeof===r}function O(D){var tt={"=":"=0",":":"=2"};return"$"+D.replace(/[=:]/g,function(at){return tt[at]})}var V=/\/+/g;function k(D,tt){return typeof D=="object"&&D!==null&&D.key!=null?O(""+D.key):tt.toString(36)}function C(){}function xe(D){switch(D.status){case"fulfilled":return D.value;case"rejected":throw D.reason;default:switch(typeof D.status=="string"?D.then(C,C):(D.status="pending",D.then(function(tt){D.status==="pending"&&(D.status="fulfilled",D.value=tt)},function(tt){D.status==="pending"&&(D.status="rejected",D.reason=tt)})),D.status){case"fulfilled":return D.value;case"rejected":throw D.reason}}throw D}function ae(D,tt,at,nt,mt){var Ct=typeof D;(Ct==="undefined"||Ct==="boolean")&&(D=null);var Tt=!1;if(D===null)Tt=!0;else switch(Ct){case"bigint":case"string":case"number":Tt=!0;break;case"object":switch(D.$$typeof){case r:case t:Tt=!0;break;case E:return Tt=D._init,ae(Tt(D._payload),tt,at,nt,mt)}}if(Tt)return mt=mt(D),Tt=nt===""?"."+k(D,0):nt,ht(mt)?(at="",Tt!=null&&(at=Tt.replace(V,"$&/")+"/"),ae(mt,tt,at,"",function(Hn){return Hn})):mt!=null&&(R(mt)&&(mt=w(mt,at+(mt.key==null||D&&D.key===mt.key?"":(""+mt.key).replace(V,"$&/")+"/")+Tt)),tt.push(mt)),1;Tt=0;var Ie=nt===""?".":nt+":";if(ht(D))for(var Wt=0;Wt<D.length;Wt++)nt=D[Wt],Ct=Ie+k(nt,Wt),Tt+=ae(nt,tt,at,Ct,mt);else if(Wt=S(D),typeof Wt=="function")for(D=Wt.call(D),Wt=0;!(nt=D.next()).done;)nt=nt.value,Ct=Ie+k(nt,Wt++),Tt+=ae(nt,tt,at,Ct,mt);else if(Ct==="object"){if(typeof D.then=="function")return ae(xe(D),tt,at,nt,mt);throw tt=String(D),Error("Objects are not valid as a React child (found: "+(tt==="[object Object]"?"object with keys {"+Object.keys(D).join(", ")+"}":tt)+"). If you meant to render a collection of children, use an array instead.")}return Tt}function K(D,tt,at){if(D==null)return D;var nt=[],mt=0;return ae(D,nt,"","",function(Ct){return tt.call(at,Ct,mt++)}),nt}function st(D){if(D._status===-1){var tt=D._result;tt=tt(),tt.then(function(at){(D._status===0||D._status===-1)&&(D._status=1,D._result=at)},function(at){(D._status===0||D._status===-1)&&(D._status=2,D._result=at)}),D._status===-1&&(D._status=0,D._result=tt)}if(D._status===1)return D._result.default;throw D._result}var ft=typeof reportError=="function"?reportError:function(D){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var tt=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof D=="object"&&D!==null&&typeof D.message=="string"?String(D.message):String(D),error:D});if(!window.dispatchEvent(tt))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",D);return}console.error(D)};function Bt(){}return wt.Children={map:K,forEach:function(D,tt,at){K(D,function(){tt.apply(this,arguments)},at)},count:function(D){var tt=0;return K(D,function(){tt++}),tt},toArray:function(D){return K(D,function(tt){return tt})||[]},only:function(D){if(!R(D))throw Error("React.Children.only expected to receive a single React element child.");return D}},wt.Component=F,wt.Fragment=n,wt.Profiler=o,wt.PureComponent=J,wt.StrictMode=s,wt.Suspense=g,wt.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=ut,wt.__COMPILER_RUNTIME={__proto__:null,c:function(D){return ut.H.useMemoCache(D)}},wt.cache=function(D){return function(){return D.apply(null,arguments)}},wt.cloneElement=function(D,tt,at){if(D==null)throw Error("The argument must be a React element, but you passed "+D+".");var nt=P({},D.props),mt=D.key,Ct=void 0;if(tt!=null)for(Tt in tt.ref!==void 0&&(Ct=void 0),tt.key!==void 0&&(mt=""+tt.key),tt)!bt.call(tt,Tt)||Tt==="key"||Tt==="__self"||Tt==="__source"||Tt==="ref"&&tt.ref===void 0||(nt[Tt]=tt[Tt]);var Tt=arguments.length-2;if(Tt===1)nt.children=at;else if(1<Tt){for(var Ie=Array(Tt),Wt=0;Wt<Tt;Wt++)Ie[Wt]=arguments[Wt+2];nt.children=Ie}return M(D.type,mt,void 0,void 0,Ct,nt)},wt.createContext=function(D){return D={$$typeof:f,_currentValue:D,_currentValue2:D,_threadCount:0,Provider:null,Consumer:null},D.Provider=D,D.Consumer={$$typeof:u,_context:D},D},wt.createElement=function(D,tt,at){var nt,mt={},Ct=null;if(tt!=null)for(nt in tt.key!==void 0&&(Ct=""+tt.key),tt)bt.call(tt,nt)&&nt!=="key"&&nt!=="__self"&&nt!=="__source"&&(mt[nt]=tt[nt]);var Tt=arguments.length-2;if(Tt===1)mt.children=at;else if(1<Tt){for(var Ie=Array(Tt),Wt=0;Wt<Tt;Wt++)Ie[Wt]=arguments[Wt+2];mt.children=Ie}if(D&&D.defaultProps)for(nt in Tt=D.defaultProps,Tt)mt[nt]===void 0&&(mt[nt]=Tt[nt]);return M(D,Ct,void 0,void 0,null,mt)},wt.createRef=function(){return{current:null}},wt.forwardRef=function(D){return{$$typeof:m,render:D}},wt.isValidElement=R,wt.lazy=function(D){return{$$typeof:E,_payload:{_status:-1,_result:D},_init:st}},wt.memo=function(D,tt){return{$$typeof:y,type:D,compare:tt===void 0?null:tt}},wt.startTransition=function(D){var tt=ut.T,at={};ut.T=at;try{var nt=D(),mt=ut.S;mt!==null&&mt(at,nt),typeof nt=="object"&&nt!==null&&typeof nt.then=="function"&&nt.then(Bt,ft)}catch(Ct){ft(Ct)}finally{ut.T=tt}},wt.unstable_useCacheRefresh=function(){return ut.H.useCacheRefresh()},wt.use=function(D){return ut.H.use(D)},wt.useActionState=function(D,tt,at){return ut.H.useActionState(D,tt,at)},wt.useCallback=function(D,tt){return ut.H.useCallback(D,tt)},wt.useContext=function(D){return ut.H.useContext(D)},wt.useDebugValue=function(){},wt.useDeferredValue=function(D,tt){return ut.H.useDeferredValue(D,tt)},wt.useEffect=function(D,tt,at){var nt=ut.H;if(typeof at=="function")throw Error("useEffect CRUD overload is not enabled in this build of React.");return nt.useEffect(D,tt)},wt.useId=function(){return ut.H.useId()},wt.useImperativeHandle=function(D,tt,at){return ut.H.useImperativeHandle(D,tt,at)},wt.useInsertionEffect=function(D,tt){return ut.H.useInsertionEffect(D,tt)},wt.useLayoutEffect=function(D,tt){return ut.H.useLayoutEffect(D,tt)},wt.useMemo=function(D,tt){return ut.H.useMemo(D,tt)},wt.useOptimistic=function(D,tt){return ut.H.useOptimistic(D,tt)},wt.useReducer=function(D,tt,at){return ut.H.useReducer(D,tt,at)},wt.useRef=function(D){return ut.H.useRef(D)},wt.useState=function(D){return ut.H.useState(D)},wt.useSyncExternalStore=function(D,tt,at){return ut.H.useSyncExternalStore(D,tt,at)},wt.useTransition=function(){return ut.H.useTransition()},wt.version="19.1.0",wt}var M_;function bm(){return M_||(M_=1,xd.exports=kS()),xd.exports}var G=bm(),Pd={exports:{}},gl={},kd={exports:{}},Ud={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var V_;function US(){return V_||(V_=1,function(r){function t(K,st){var ft=K.length;K.push(st);t:for(;0<ft;){var Bt=ft-1>>>1,D=K[Bt];if(0<o(D,st))K[Bt]=st,K[ft]=D,ft=Bt;else break t}}function n(K){return K.length===0?null:K[0]}function s(K){if(K.length===0)return null;var st=K[0],ft=K.pop();if(ft!==st){K[0]=ft;t:for(var Bt=0,D=K.length,tt=D>>>1;Bt<tt;){var at=2*(Bt+1)-1,nt=K[at],mt=at+1,Ct=K[mt];if(0>o(nt,ft))mt<D&&0>o(Ct,nt)?(K[Bt]=Ct,K[mt]=ft,Bt=mt):(K[Bt]=nt,K[at]=ft,Bt=at);else if(mt<D&&0>o(Ct,ft))K[Bt]=Ct,K[mt]=ft,Bt=mt;else break t}}return st}function o(K,st){var ft=K.sortIndex-st.sortIndex;return ft!==0?ft:K.id-st.id}if(r.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var u=performance;r.unstable_now=function(){return u.now()}}else{var f=Date,m=f.now();r.unstable_now=function(){return f.now()-m}}var g=[],y=[],E=1,b=null,S=3,L=!1,P=!1,Q=!1,F=!1,$=typeof setTimeout=="function"?setTimeout:null,J=typeof clearTimeout=="function"?clearTimeout:null,it=typeof setImmediate<"u"?setImmediate:null;function ht(K){for(var st=n(y);st!==null;){if(st.callback===null)s(y);else if(st.startTime<=K)s(y),st.sortIndex=st.expirationTime,t(g,st);else break;st=n(y)}}function ut(K){if(Q=!1,ht(K),!P)if(n(g)!==null)P=!0,bt||(bt=!0,k());else{var st=n(y);st!==null&&ae(ut,st.startTime-K)}}var bt=!1,M=-1,w=5,R=-1;function O(){return F?!0:!(r.unstable_now()-R<w)}function V(){if(F=!1,bt){var K=r.unstable_now();R=K;var st=!0;try{t:{P=!1,Q&&(Q=!1,J(M),M=-1),L=!0;var ft=S;try{e:{for(ht(K),b=n(g);b!==null&&!(b.expirationTime>K&&O());){var Bt=b.callback;if(typeof Bt=="function"){b.callback=null,S=b.priorityLevel;var D=Bt(b.expirationTime<=K);if(K=r.unstable_now(),typeof D=="function"){b.callback=D,ht(K),st=!0;break e}b===n(g)&&s(g),ht(K)}else s(g);b=n(g)}if(b!==null)st=!0;else{var tt=n(y);tt!==null&&ae(ut,tt.startTime-K),st=!1}}break t}finally{b=null,S=ft,L=!1}st=void 0}}finally{st?k():bt=!1}}}var k;if(typeof it=="function")k=function(){it(V)};else if(typeof MessageChannel<"u"){var C=new MessageChannel,xe=C.port2;C.port1.onmessage=V,k=function(){xe.postMessage(null)}}else k=function(){$(V,0)};function ae(K,st){M=$(function(){K(r.unstable_now())},st)}r.unstable_IdlePriority=5,r.unstable_ImmediatePriority=1,r.unstable_LowPriority=4,r.unstable_NormalPriority=3,r.unstable_Profiling=null,r.unstable_UserBlockingPriority=2,r.unstable_cancelCallback=function(K){K.callback=null},r.unstable_forceFrameRate=function(K){0>K||125<K?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):w=0<K?Math.floor(1e3/K):5},r.unstable_getCurrentPriorityLevel=function(){return S},r.unstable_next=function(K){switch(S){case 1:case 2:case 3:var st=3;break;default:st=S}var ft=S;S=st;try{return K()}finally{S=ft}},r.unstable_requestPaint=function(){F=!0},r.unstable_runWithPriority=function(K,st){switch(K){case 1:case 2:case 3:case 4:case 5:break;default:K=3}var ft=S;S=K;try{return st()}finally{S=ft}},r.unstable_scheduleCallback=function(K,st,ft){var Bt=r.unstable_now();switch(typeof ft=="object"&&ft!==null?(ft=ft.delay,ft=typeof ft=="number"&&0<ft?Bt+ft:Bt):ft=Bt,K){case 1:var D=-1;break;case 2:D=250;break;case 5:D=1073741823;break;case 4:D=1e4;break;default:D=5e3}return D=ft+D,K={id:E++,callback:st,priorityLevel:K,startTime:ft,expirationTime:D,sortIndex:-1},ft>Bt?(K.sortIndex=ft,t(y,K),n(g)===null&&K===n(y)&&(Q?(J(M),M=-1):Q=!0,ae(ut,ft-Bt))):(K.sortIndex=D,t(g,K),P||L||(P=!0,bt||(bt=!0,k()))),K},r.unstable_shouldYield=O,r.unstable_wrapCallback=function(K){var st=S;return function(){var ft=S;S=st;try{return K.apply(this,arguments)}finally{S=ft}}}}(Ud)),Ud}var x_;function LS(){return x_||(x_=1,kd.exports=US()),kd.exports}var Ld={exports:{}},Ge={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var P_;function zS(){if(P_)return Ge;P_=1;var r=bm();function t(g){var y="https://react.dev/errors/"+g;if(1<arguments.length){y+="?args[]="+encodeURIComponent(arguments[1]);for(var E=2;E<arguments.length;E++)y+="&args[]="+encodeURIComponent(arguments[E])}return"Minified React error #"+g+"; visit "+y+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function n(){}var s={d:{f:n,r:function(){throw Error(t(522))},D:n,C:n,L:n,m:n,X:n,S:n,M:n},p:0,findDOMNode:null},o=Symbol.for("react.portal");function u(g,y,E){var b=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:o,key:b==null?null:""+b,children:g,containerInfo:y,implementation:E}}var f=r.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function m(g,y){if(g==="font")return"";if(typeof y=="string")return y==="use-credentials"?y:""}return Ge.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=s,Ge.createPortal=function(g,y){var E=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!y||y.nodeType!==1&&y.nodeType!==9&&y.nodeType!==11)throw Error(t(299));return u(g,y,null,E)},Ge.flushSync=function(g){var y=f.T,E=s.p;try{if(f.T=null,s.p=2,g)return g()}finally{f.T=y,s.p=E,s.d.f()}},Ge.preconnect=function(g,y){typeof g=="string"&&(y?(y=y.crossOrigin,y=typeof y=="string"?y==="use-credentials"?y:"":void 0):y=null,s.d.C(g,y))},Ge.prefetchDNS=function(g){typeof g=="string"&&s.d.D(g)},Ge.preinit=function(g,y){if(typeof g=="string"&&y&&typeof y.as=="string"){var E=y.as,b=m(E,y.crossOrigin),S=typeof y.integrity=="string"?y.integrity:void 0,L=typeof y.fetchPriority=="string"?y.fetchPriority:void 0;E==="style"?s.d.S(g,typeof y.precedence=="string"?y.precedence:void 0,{crossOrigin:b,integrity:S,fetchPriority:L}):E==="script"&&s.d.X(g,{crossOrigin:b,integrity:S,fetchPriority:L,nonce:typeof y.nonce=="string"?y.nonce:void 0})}},Ge.preinitModule=function(g,y){if(typeof g=="string")if(typeof y=="object"&&y!==null){if(y.as==null||y.as==="script"){var E=m(y.as,y.crossOrigin);s.d.M(g,{crossOrigin:E,integrity:typeof y.integrity=="string"?y.integrity:void 0,nonce:typeof y.nonce=="string"?y.nonce:void 0})}}else y==null&&s.d.M(g)},Ge.preload=function(g,y){if(typeof g=="string"&&typeof y=="object"&&y!==null&&typeof y.as=="string"){var E=y.as,b=m(E,y.crossOrigin);s.d.L(g,E,{crossOrigin:b,integrity:typeof y.integrity=="string"?y.integrity:void 0,nonce:typeof y.nonce=="string"?y.nonce:void 0,type:typeof y.type=="string"?y.type:void 0,fetchPriority:typeof y.fetchPriority=="string"?y.fetchPriority:void 0,referrerPolicy:typeof y.referrerPolicy=="string"?y.referrerPolicy:void 0,imageSrcSet:typeof y.imageSrcSet=="string"?y.imageSrcSet:void 0,imageSizes:typeof y.imageSizes=="string"?y.imageSizes:void 0,media:typeof y.media=="string"?y.media:void 0})}},Ge.preloadModule=function(g,y){if(typeof g=="string")if(y){var E=m(y.as,y.crossOrigin);s.d.m(g,{as:typeof y.as=="string"&&y.as!=="script"?y.as:void 0,crossOrigin:E,integrity:typeof y.integrity=="string"?y.integrity:void 0})}else s.d.m(g)},Ge.requestFormReset=function(g){s.d.r(g)},Ge.unstable_batchedUpdates=function(g,y){return g(y)},Ge.useFormState=function(g,y,E){return f.H.useFormState(g,y,E)},Ge.useFormStatus=function(){return f.H.useHostTransitionStatus()},Ge.version="19.1.0",Ge}var k_;function BS(){if(k_)return Ld.exports;k_=1;function r(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(r)}catch(t){console.error(t)}}return r(),Ld.exports=zS(),Ld.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var U_;function HS(){if(U_)return gl;U_=1;var r=LS(),t=bm(),n=BS();function s(e){var i="https://react.dev/errors/"+e;if(1<arguments.length){i+="?args[]="+encodeURIComponent(arguments[1]);for(var a=2;a<arguments.length;a++)i+="&args[]="+encodeURIComponent(arguments[a])}return"Minified React error #"+e+"; visit "+i+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function o(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function u(e){var i=e,a=e;if(e.alternate)for(;i.return;)i=i.return;else{e=i;do i=e,(i.flags&4098)!==0&&(a=i.return),e=i.return;while(e)}return i.tag===3?a:null}function f(e){if(e.tag===13){var i=e.memoizedState;if(i===null&&(e=e.alternate,e!==null&&(i=e.memoizedState)),i!==null)return i.dehydrated}return null}function m(e){if(u(e)!==e)throw Error(s(188))}function g(e){var i=e.alternate;if(!i){if(i=u(e),i===null)throw Error(s(188));return i!==e?null:e}for(var a=e,l=i;;){var h=a.return;if(h===null)break;var d=h.alternate;if(d===null){if(l=h.return,l!==null){a=l;continue}break}if(h.child===d.child){for(d=h.child;d;){if(d===a)return m(h),e;if(d===l)return m(h),i;d=d.sibling}throw Error(s(188))}if(a.return!==l.return)a=h,l=d;else{for(var v=!1,T=h.child;T;){if(T===a){v=!0,a=h,l=d;break}if(T===l){v=!0,l=h,a=d;break}T=T.sibling}if(!v){for(T=d.child;T;){if(T===a){v=!0,a=d,l=h;break}if(T===l){v=!0,l=d,a=h;break}T=T.sibling}if(!v)throw Error(s(189))}}if(a.alternate!==l)throw Error(s(190))}if(a.tag!==3)throw Error(s(188));return a.stateNode.current===a?e:i}function y(e){var i=e.tag;if(i===5||i===26||i===27||i===6)return e;for(e=e.child;e!==null;){if(i=y(e),i!==null)return i;e=e.sibling}return null}var E=Object.assign,b=Symbol.for("react.element"),S=Symbol.for("react.transitional.element"),L=Symbol.for("react.portal"),P=Symbol.for("react.fragment"),Q=Symbol.for("react.strict_mode"),F=Symbol.for("react.profiler"),$=Symbol.for("react.provider"),J=Symbol.for("react.consumer"),it=Symbol.for("react.context"),ht=Symbol.for("react.forward_ref"),ut=Symbol.for("react.suspense"),bt=Symbol.for("react.suspense_list"),M=Symbol.for("react.memo"),w=Symbol.for("react.lazy"),R=Symbol.for("react.activity"),O=Symbol.for("react.memo_cache_sentinel"),V=Symbol.iterator;function k(e){return e===null||typeof e!="object"?null:(e=V&&e[V]||e["@@iterator"],typeof e=="function"?e:null)}var C=Symbol.for("react.client.reference");function xe(e){if(e==null)return null;if(typeof e=="function")return e.$$typeof===C?null:e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case P:return"Fragment";case F:return"Profiler";case Q:return"StrictMode";case ut:return"Suspense";case bt:return"SuspenseList";case R:return"Activity"}if(typeof e=="object")switch(e.$$typeof){case L:return"Portal";case it:return(e.displayName||"Context")+".Provider";case J:return(e._context.displayName||"Context")+".Consumer";case ht:var i=e.render;return e=e.displayName,e||(e=i.displayName||i.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case M:return i=e.displayName||null,i!==null?i:xe(e.type)||"Memo";case w:i=e._payload,e=e._init;try{return xe(e(i))}catch{}}return null}var ae=Array.isArray,K=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,st=n.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ft={pending:!1,data:null,method:null,action:null},Bt=[],D=-1;function tt(e){return{current:e}}function at(e){0>D||(e.current=Bt[D],Bt[D]=null,D--)}function nt(e,i){D++,Bt[D]=e.current,e.current=i}var mt=tt(null),Ct=tt(null),Tt=tt(null),Ie=tt(null);function Wt(e,i){switch(nt(Tt,i),nt(Ct,e),nt(mt,null),i.nodeType){case 9:case 11:e=(e=i.documentElement)&&(e=e.namespaceURI)?i_(e):0;break;default:if(e=i.tagName,i=i.namespaceURI)i=i_(i),e=r_(i,e);else switch(e){case"svg":e=1;break;case"math":e=2;break;default:e=0}}at(mt),nt(mt,e)}function Hn(){at(mt),at(Ct),at(Tt)}function $i(e){e.memoizedState!==null&&nt(Ie,e);var i=mt.current,a=r_(i,e.type);i!==a&&(nt(Ct,e),nt(mt,a))}function mi(e){Ct.current===e&&(at(mt),at(Ct)),Ie.current===e&&(at(Ie),cl._currentValue=ft)}var jr=Object.prototype.hasOwnProperty,Fr=r.unstable_scheduleCallback,Gr=r.unstable_cancelCallback,ao=r.unstable_shouldYield,Zl=r.unstable_requestPaint,mn=r.unstable_now,Mh=r.unstable_getCurrentPriorityLevel,oo=r.unstable_ImmediatePriority,Hs=r.unstable_UserBlockingPriority,Qr=r.unstable_NormalPriority,Vh=r.unstable_LowPriority,qs=r.unstable_IdlePriority,lo=r.log,Wl=r.unstable_setDisableYieldValue,oe=null,Ft=null;function sn(e){if(typeof lo=="function"&&Wl(e),Ft&&typeof Ft.setStrictMode=="function")try{Ft.setStrictMode(oe,e)}catch{}}var je=Math.clz32?Math.clz32:Kr,Jl=Math.log,xh=Math.LN2;function Kr(e){return e>>>=0,e===0?32:31-(Jl(e)/xh|0)|0}var Yr=256,Xr=4194304;function On(e){var i=e&42;if(i!==0)return i;switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194048;case 4194304:case 8388608:case 16777216:case 33554432:return e&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return e}}function js(e,i,a){var l=e.pendingLanes;if(l===0)return 0;var h=0,d=e.suspendedLanes,v=e.pingedLanes;e=e.warmLanes;var T=l&134217727;return T!==0?(l=T&~d,l!==0?h=On(l):(v&=T,v!==0?h=On(v):a||(a=T&~e,a!==0&&(h=On(a))))):(T=l&~d,T!==0?h=On(T):v!==0?h=On(v):a||(a=l&~e,a!==0&&(h=On(a)))),h===0?0:i!==0&&i!==h&&(i&d)===0&&(d=h&-h,a=i&-i,d>=a||d===32&&(a&4194048)!==0)?i:h}function $r(e,i){return(e.pendingLanes&~(e.suspendedLanes&~e.pingedLanes)&i)===0}function uo(e,i){switch(e){case 1:case 2:case 4:case 8:case 64:return i+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return i+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function co(){var e=Yr;return Yr<<=1,(Yr&4194048)===0&&(Yr=256),e}function ho(){var e=Xr;return Xr<<=1,(Xr&62914560)===0&&(Xr=4194304),e}function pi(e){for(var i=[],a=0;31>a;a++)i.push(e);return i}function gi(e,i){e.pendingLanes|=i,i!==268435456&&(e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0)}function fo(e,i,a,l,h,d){var v=e.pendingLanes;e.pendingLanes=a,e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0,e.expiredLanes&=a,e.entangledLanes&=a,e.errorRecoveryDisabledLanes&=a,e.shellSuspendCounter=0;var T=e.entanglements,I=e.expirationTimes,B=e.hiddenUpdates;for(a=v&~a;0<a;){var Y=31-je(a),Z=1<<Y;T[Y]=0,I[Y]=-1;var H=B[Y];if(H!==null)for(B[Y]=null,Y=0;Y<H.length;Y++){var q=H[Y];q!==null&&(q.lane&=-536870913)}a&=~Z}l!==0&&qn(e,l,0),d!==0&&h===0&&e.tag!==0&&(e.suspendedLanes|=d&~(v&~i))}function qn(e,i,a){e.pendingLanes|=i,e.suspendedLanes&=~i;var l=31-je(i);e.entangledLanes|=i,e.entanglements[l]=e.entanglements[l]|1073741824|a&4194090}function mo(e,i){var a=e.entangledLanes|=i;for(e=e.entanglements;a;){var l=31-je(a),h=1<<l;h&i|e[l]&i&&(e[l]|=i),a&=~h}}function Zi(e){switch(e){case 2:e=1;break;case 8:e=4;break;case 32:e=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:e=128;break;case 268435456:e=134217728;break;default:e=0}return e}function Fs(e){return e&=-e,2<e?8<e?(e&134217727)!==0?32:268435456:8:2}function Wi(){var e=st.p;return e!==0?e:(e=window.event,e===void 0?32:S_(e.type))}function tu(e,i){var a=st.p;try{return st.p=e,i()}finally{st.p=a}}var te=Math.random().toString(36).slice(2),ve="__reactFiber$"+te,me="__reactProps$"+te,pn="__reactContainer$"+te,po="__reactEvents$"+te,Ph="__reactListeners$"+te,Ji="__reactHandles$"+te,eu="__reactResources$"+te,Zr="__reactMarker$"+te;function tr(e){delete e[ve],delete e[me],delete e[po],delete e[Ph],delete e[Ji]}function yi(e){var i=e[ve];if(i)return i;for(var a=e.parentNode;a;){if(i=a[pn]||a[ve]){if(a=i.alternate,i.child!==null||a!==null&&a.child!==null)for(e=l_(e);e!==null;){if(a=e[ve])return a;e=l_(e)}return i}e=a,a=e.parentNode}return null}function jn(e){if(e=e[ve]||e[pn]){var i=e.tag;if(i===5||i===6||i===13||i===26||i===27||i===3)return e}return null}function Fn(e){var i=e.tag;if(i===5||i===26||i===27||i===6)return e.stateNode;throw Error(s(33))}function $e(e){var i=e[eu];return i||(i=e[eu]={hoistableStyles:new Map,hoistableScripts:new Map}),i}function ce(e){e[Zr]=!0}var go=new Set,Gs={};function Nn(e,i){_i(e,i),_i(e+"Capture",i)}function _i(e,i){for(Gs[e]=i,e=0;e<i.length;e++)go.add(i[e])}var nu=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),iu={},Wr={};function ru(e){return jr.call(Wr,e)?!0:jr.call(iu,e)?!1:nu.test(e)?Wr[e]=!0:(iu[e]=!0,!1)}function er(e,i,a){if(ru(i))if(a===null)e.removeAttribute(i);else{switch(typeof a){case"undefined":case"function":case"symbol":e.removeAttribute(i);return;case"boolean":var l=i.toLowerCase().slice(0,5);if(l!=="data-"&&l!=="aria-"){e.removeAttribute(i);return}}e.setAttribute(i,""+a)}}function Gn(e,i,a){if(a===null)e.removeAttribute(i);else{switch(typeof a){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(i);return}e.setAttribute(i,""+a)}}function Pe(e,i,a,l){if(l===null)e.removeAttribute(a);else{switch(typeof l){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(a);return}e.setAttributeNS(i,a,""+l)}}var Jr,su;function vi(e){if(Jr===void 0)try{throw Error()}catch(a){var i=a.stack.trim().match(/\n( *(at )?)/);Jr=i&&i[1]||"",su=-1<a.stack.indexOf(`
    at`)?" (<anonymous>)":-1<a.stack.indexOf("@")?"@unknown:0:0":""}return`
`+Jr+e+su}var Qs=!1;function Ks(e,i){if(!e||Qs)return"";Qs=!0;var a=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var l={DetermineComponentFrameRoot:function(){try{if(i){var Z=function(){throw Error()};if(Object.defineProperty(Z.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(Z,[])}catch(q){var H=q}Reflect.construct(e,[],Z)}else{try{Z.call()}catch(q){H=q}e.call(Z.prototype)}}else{try{throw Error()}catch(q){H=q}(Z=e())&&typeof Z.catch=="function"&&Z.catch(function(){})}}catch(q){if(q&&H&&typeof q.stack=="string")return[q.stack,H.stack]}return[null,null]}};l.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var h=Object.getOwnPropertyDescriptor(l.DetermineComponentFrameRoot,"name");h&&h.configurable&&Object.defineProperty(l.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var d=l.DetermineComponentFrameRoot(),v=d[0],T=d[1];if(v&&T){var I=v.split(`
`),B=T.split(`
`);for(h=l=0;l<I.length&&!I[l].includes("DetermineComponentFrameRoot");)l++;for(;h<B.length&&!B[h].includes("DetermineComponentFrameRoot");)h++;if(l===I.length||h===B.length)for(l=I.length-1,h=B.length-1;1<=l&&0<=h&&I[l]!==B[h];)h--;for(;1<=l&&0<=h;l--,h--)if(I[l]!==B[h]){if(l!==1||h!==1)do if(l--,h--,0>h||I[l]!==B[h]){var Y=`
`+I[l].replace(" at new "," at ");return e.displayName&&Y.includes("<anonymous>")&&(Y=Y.replace("<anonymous>",e.displayName)),Y}while(1<=l&&0<=h);break}}}finally{Qs=!1,Error.prepareStackTrace=a}return(a=e?e.displayName||e.name:"")?vi(a):""}function yo(e){switch(e.tag){case 26:case 27:case 5:return vi(e.type);case 16:return vi("Lazy");case 13:return vi("Suspense");case 19:return vi("SuspenseList");case 0:case 15:return Ks(e.type,!1);case 11:return Ks(e.type.render,!1);case 1:return Ks(e.type,!0);case 31:return vi("Activity");default:return""}}function Ys(e){try{var i="";do i+=yo(e),e=e.return;while(e);return i}catch(a){return`
Error generating stack: `+a.message+`
`+a.stack}}function Ze(e){switch(typeof e){case"bigint":case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function _o(e){var i=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(i==="checkbox"||i==="radio")}function kh(e){var i=_o(e)?"checked":"value",a=Object.getOwnPropertyDescriptor(e.constructor.prototype,i),l=""+e[i];if(!e.hasOwnProperty(i)&&typeof a<"u"&&typeof a.get=="function"&&typeof a.set=="function"){var h=a.get,d=a.set;return Object.defineProperty(e,i,{configurable:!0,get:function(){return h.call(this)},set:function(v){l=""+v,d.call(this,v)}}),Object.defineProperty(e,i,{enumerable:a.enumerable}),{getValue:function(){return l},setValue:function(v){l=""+v},stopTracking:function(){e._valueTracker=null,delete e[i]}}}}function Xs(e){e._valueTracker||(e._valueTracker=kh(e))}function vo(e){if(!e)return!1;var i=e._valueTracker;if(!i)return!0;var a=i.getValue(),l="";return e&&(l=_o(e)?e.checked?"true":"false":e.value),e=l,e!==a?(i.setValue(e),!0):!1}function ts(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}var Uh=/[\n"\\]/g;function pe(e){return e.replace(Uh,function(i){return"\\"+i.charCodeAt(0).toString(16)+" "})}function an(e,i,a,l,h,d,v,T){e.name="",v!=null&&typeof v!="function"&&typeof v!="symbol"&&typeof v!="boolean"?e.type=v:e.removeAttribute("type"),i!=null?v==="number"?(i===0&&e.value===""||e.value!=i)&&(e.value=""+Ze(i)):e.value!==""+Ze(i)&&(e.value=""+Ze(i)):v!=="submit"&&v!=="reset"||e.removeAttribute("value"),i!=null?nr(e,v,Ze(i)):a!=null?nr(e,v,Ze(a)):l!=null&&e.removeAttribute("value"),h==null&&d!=null&&(e.defaultChecked=!!d),h!=null&&(e.checked=h&&typeof h!="function"&&typeof h!="symbol"),T!=null&&typeof T!="function"&&typeof T!="symbol"&&typeof T!="boolean"?e.name=""+Ze(T):e.removeAttribute("name")}function es(e,i,a,l,h,d,v,T){if(d!=null&&typeof d!="function"&&typeof d!="symbol"&&typeof d!="boolean"&&(e.type=d),i!=null||a!=null){if(!(d!=="submit"&&d!=="reset"||i!=null))return;a=a!=null?""+Ze(a):"",i=i!=null?""+Ze(i):a,T||i===e.value||(e.value=i),e.defaultValue=i}l=l??h,l=typeof l!="function"&&typeof l!="symbol"&&!!l,e.checked=T?e.checked:!!l,e.defaultChecked=!!l,v!=null&&typeof v!="function"&&typeof v!="symbol"&&typeof v!="boolean"&&(e.name=v)}function nr(e,i,a){i==="number"&&ts(e.ownerDocument)===e||e.defaultValue===""+a||(e.defaultValue=""+a)}function Ei(e,i,a,l){if(e=e.options,i){i={};for(var h=0;h<a.length;h++)i["$"+a[h]]=!0;for(a=0;a<e.length;a++)h=i.hasOwnProperty("$"+e[a].value),e[a].selected!==h&&(e[a].selected=h),h&&l&&(e[a].defaultSelected=!0)}else{for(a=""+Ze(a),i=null,h=0;h<e.length;h++){if(e[h].value===a){e[h].selected=!0,l&&(e[h].defaultSelected=!0);return}i!==null||e[h].disabled||(i=e[h])}i!==null&&(i.selected=!0)}}function Kt(e,i,a){if(i!=null&&(i=""+Ze(i),i!==e.value&&(e.value=i),a==null)){e.defaultValue!==i&&(e.defaultValue=i);return}e.defaultValue=a!=null?""+Ze(a):""}function ns(e,i,a,l){if(i==null){if(l!=null){if(a!=null)throw Error(s(92));if(ae(l)){if(1<l.length)throw Error(s(93));l=l[0]}a=l}a==null&&(a=""),i=a}a=Ze(i),e.defaultValue=a,l=e.textContent,l===a&&l!==""&&l!==null&&(e.value=l)}function gn(e,i){if(i){var a=e.firstChild;if(a&&a===e.lastChild&&a.nodeType===3){a.nodeValue=i;return}}e.textContent=i}var is=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function au(e,i,a){var l=i.indexOf("--")===0;a==null||typeof a=="boolean"||a===""?l?e.setProperty(i,""):i==="float"?e.cssFloat="":e[i]="":l?e.setProperty(i,a):typeof a!="number"||a===0||is.has(i)?i==="float"?e.cssFloat=a:e[i]=(""+a).trim():e[i]=a+"px"}function Eo(e,i,a){if(i!=null&&typeof i!="object")throw Error(s(62));if(e=e.style,a!=null){for(var l in a)!a.hasOwnProperty(l)||i!=null&&i.hasOwnProperty(l)||(l.indexOf("--")===0?e.setProperty(l,""):l==="float"?e.cssFloat="":e[l]="");for(var h in i)l=i[h],i.hasOwnProperty(h)&&a[h]!==l&&au(e,h,l)}else for(var d in i)i.hasOwnProperty(d)&&au(e,d,i[d])}function To(e){if(e.indexOf("-")===-1)return!1;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Lh=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),zh=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function $s(e){return zh.test(""+e)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":e}var Ti=null;function yn(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var Ai=null,Si=null;function Ao(e){var i=jn(e);if(i&&(e=i.stateNode)){var a=e[me]||null;t:switch(e=i.stateNode,i.type){case"input":if(an(e,a.value,a.defaultValue,a.defaultValue,a.checked,a.defaultChecked,a.type,a.name),i=a.name,a.type==="radio"&&i!=null){for(a=e;a.parentNode;)a=a.parentNode;for(a=a.querySelectorAll('input[name="'+pe(""+i)+'"][type="radio"]'),i=0;i<a.length;i++){var l=a[i];if(l!==e&&l.form===e.form){var h=l[me]||null;if(!h)throw Error(s(90));an(l,h.value,h.defaultValue,h.defaultValue,h.checked,h.defaultChecked,h.type,h.name)}}for(i=0;i<a.length;i++)l=a[i],l.form===e.form&&vo(l)}break t;case"textarea":Kt(e,a.value,a.defaultValue);break t;case"select":i=a.value,i!=null&&Ei(e,!!a.multiple,i,!1)}}}var Qn=!1;function ou(e,i,a){if(Qn)return e(i,a);Qn=!0;try{var l=e(i);return l}finally{if(Qn=!1,(Ai!==null||Si!==null)&&(tc(),Ai&&(i=Ai,e=Si,Si=Ai=null,Ao(i),e)))for(i=0;i<e.length;i++)Ao(e[i])}}function rs(e,i){var a=e.stateNode;if(a===null)return null;var l=a[me]||null;if(l===null)return null;a=l[i];t:switch(i){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(l=!l.disabled)||(e=e.type,l=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!l;break t;default:e=!1}if(e)return null;if(a&&typeof a!="function")throw Error(s(231,i,typeof a));return a}var Mn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),_n=!1;if(Mn)try{var ss={};Object.defineProperty(ss,"passive",{get:function(){_n=!0}}),window.addEventListener("test",ss,ss),window.removeEventListener("test",ss,ss)}catch{_n=!1}var Kn=null,ir=null,bi=null;function So(){if(bi)return bi;var e,i=ir,a=i.length,l,h="value"in Kn?Kn.value:Kn.textContent,d=h.length;for(e=0;e<a&&i[e]===h[e];e++);var v=a-e;for(l=1;l<=v&&i[a-l]===h[d-l];l++);return bi=h.slice(e,1<l?1-l:void 0)}function Yn(e){var i=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&i===13&&(e=13)):e=i,e===10&&(e=13),32<=e||e===13?e:0}function Xn(){return!0}function bo(){return!1}function Ce(e){function i(a,l,h,d,v){this._reactName=a,this._targetInst=h,this.type=l,this.nativeEvent=d,this.target=v,this.currentTarget=null;for(var T in e)e.hasOwnProperty(T)&&(a=e[T],this[T]=a?a(d):d[T]);return this.isDefaultPrevented=(d.defaultPrevented!=null?d.defaultPrevented:d.returnValue===!1)?Xn:bo,this.isPropagationStopped=bo,this}return E(i.prototype,{preventDefault:function(){this.defaultPrevented=!0;var a=this.nativeEvent;a&&(a.preventDefault?a.preventDefault():typeof a.returnValue!="unknown"&&(a.returnValue=!1),this.isDefaultPrevented=Xn)},stopPropagation:function(){var a=this.nativeEvent;a&&(a.stopPropagation?a.stopPropagation():typeof a.cancelBubble!="unknown"&&(a.cancelBubble=!0),this.isPropagationStopped=Xn)},persist:function(){},isPersistent:Xn}),i}var qt={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Zs=Ce(qt),as=E({},qt,{view:0,detail:0}),lu=Ce(as),Ws,Js,$n,os=E({},as,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:cs,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==$n&&($n&&e.type==="mousemove"?(Ws=e.screenX-$n.screenX,Js=e.screenY-$n.screenY):Js=Ws=0,$n=e),Ws)},movementY:function(e){return"movementY"in e?e.movementY:Js}}),vn=Ce(os),uu=E({},os,{dataTransfer:0}),Bh=Ce(uu),ls=E({},as,{relatedTarget:0}),ta=Ce(ls),wo=E({},qt,{animationName:0,elapsedTime:0,pseudoElement:0}),ea=Ce(wo),cu=E({},qt,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),na=Ce(cu),Hh=E({},qt,{data:0}),Ro=Ce(Hh),us={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},hu={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},fu={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Io(e){var i=this.nativeEvent;return i.getModifierState?i.getModifierState(e):(e=fu[e])?!!i[e]:!1}function cs(){return Io}var du=E({},as,{key:function(e){if(e.key){var i=us[e.key]||e.key;if(i!=="Unidentified")return i}return e.type==="keypress"?(e=Yn(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?hu[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:cs,charCode:function(e){return e.type==="keypress"?Yn(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?Yn(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),ia=Ce(du),mu=E({},os,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Co=Ce(mu),wi=E({},as,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:cs}),pu=Ce(wi),gu=E({},qt,{propertyName:0,elapsedTime:0,pseudoElement:0}),yu=Ce(gu),_u=E({},os,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),ra=Ce(_u),We=E({},qt,{newState:0,oldState:0}),vu=Ce(We),Eu=[9,13,27,32],Zn=Mn&&"CompositionEvent"in window,c=null;Mn&&"documentMode"in document&&(c=document.documentMode);var p=Mn&&"TextEvent"in window&&!c,_=Mn&&(!Zn||c&&8<c&&11>=c),A=" ",U=!1;function j(e,i){switch(e){case"keyup":return Eu.indexOf(i.keyCode)!==-1;case"keydown":return i.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function rt(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var xt=!1;function Ee(e,i){switch(e){case"compositionend":return rt(i);case"keypress":return i.which!==32?null:(U=!0,A);case"textInput":return e=i.data,e===A&&U?null:e;default:return null}}function Pt(e,i){if(xt)return e==="compositionend"||!Zn&&j(e,i)?(e=So(),bi=ir=Kn=null,xt=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(i.ctrlKey||i.altKey||i.metaKey)||i.ctrlKey&&i.altKey){if(i.char&&1<i.char.length)return i.char;if(i.which)return String.fromCharCode(i.which)}return null;case"compositionend":return _&&i.locale!=="ko"?null:i.data;default:return null}}var De={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Te(e){var i=e&&e.nodeName&&e.nodeName.toLowerCase();return i==="input"?!!De[e.type]:i==="textarea"}function Ri(e,i,a,l){Ai?Si?Si.push(l):Si=[l]:Ai=l,i=ac(i,"onChange"),0<i.length&&(a=new Zs("onChange","change",null,a,l),e.push({event:a,listeners:i}))}var ke=null,Wn=null;function Do(e){Wy(e,0)}function Tu(e){var i=Fn(e);if(vo(i))return e}function vp(e,i){if(e==="change")return i}var Ep=!1;if(Mn){var qh;if(Mn){var jh="oninput"in document;if(!jh){var Tp=document.createElement("div");Tp.setAttribute("oninput","return;"),jh=typeof Tp.oninput=="function"}qh=jh}else qh=!1;Ep=qh&&(!document.documentMode||9<document.documentMode)}function Ap(){ke&&(ke.detachEvent("onpropertychange",Sp),Wn=ke=null)}function Sp(e){if(e.propertyName==="value"&&Tu(Wn)){var i=[];Ri(i,Wn,e,yn(e)),ou(Do,i)}}function lA(e,i,a){e==="focusin"?(Ap(),ke=i,Wn=a,ke.attachEvent("onpropertychange",Sp)):e==="focusout"&&Ap()}function uA(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return Tu(Wn)}function cA(e,i){if(e==="click")return Tu(i)}function hA(e,i){if(e==="input"||e==="change")return Tu(i)}function fA(e,i){return e===i&&(e!==0||1/e===1/i)||e!==e&&i!==i}var on=typeof Object.is=="function"?Object.is:fA;function Oo(e,i){if(on(e,i))return!0;if(typeof e!="object"||e===null||typeof i!="object"||i===null)return!1;var a=Object.keys(e),l=Object.keys(i);if(a.length!==l.length)return!1;for(l=0;l<a.length;l++){var h=a[l];if(!jr.call(i,h)||!on(e[h],i[h]))return!1}return!0}function bp(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function wp(e,i){var a=bp(e);e=0;for(var l;a;){if(a.nodeType===3){if(l=e+a.textContent.length,e<=i&&l>=i)return{node:a,offset:i-e};e=l}t:{for(;a;){if(a.nextSibling){a=a.nextSibling;break t}a=a.parentNode}a=void 0}a=bp(a)}}function Rp(e,i){return e&&i?e===i?!0:e&&e.nodeType===3?!1:i&&i.nodeType===3?Rp(e,i.parentNode):"contains"in e?e.contains(i):e.compareDocumentPosition?!!(e.compareDocumentPosition(i)&16):!1:!1}function Ip(e){e=e!=null&&e.ownerDocument!=null&&e.ownerDocument.defaultView!=null?e.ownerDocument.defaultView:window;for(var i=ts(e.document);i instanceof e.HTMLIFrameElement;){try{var a=typeof i.contentWindow.location.href=="string"}catch{a=!1}if(a)e=i.contentWindow;else break;i=ts(e.document)}return i}function Fh(e){var i=e&&e.nodeName&&e.nodeName.toLowerCase();return i&&(i==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||i==="textarea"||e.contentEditable==="true")}var dA=Mn&&"documentMode"in document&&11>=document.documentMode,sa=null,Gh=null,No=null,Qh=!1;function Cp(e,i,a){var l=a.window===a?a.document:a.nodeType===9?a:a.ownerDocument;Qh||sa==null||sa!==ts(l)||(l=sa,"selectionStart"in l&&Fh(l)?l={start:l.selectionStart,end:l.selectionEnd}:(l=(l.ownerDocument&&l.ownerDocument.defaultView||window).getSelection(),l={anchorNode:l.anchorNode,anchorOffset:l.anchorOffset,focusNode:l.focusNode,focusOffset:l.focusOffset}),No&&Oo(No,l)||(No=l,l=ac(Gh,"onSelect"),0<l.length&&(i=new Zs("onSelect","select",null,i,a),e.push({event:i,listeners:l}),i.target=sa)))}function hs(e,i){var a={};return a[e.toLowerCase()]=i.toLowerCase(),a["Webkit"+e]="webkit"+i,a["Moz"+e]="moz"+i,a}var aa={animationend:hs("Animation","AnimationEnd"),animationiteration:hs("Animation","AnimationIteration"),animationstart:hs("Animation","AnimationStart"),transitionrun:hs("Transition","TransitionRun"),transitionstart:hs("Transition","TransitionStart"),transitioncancel:hs("Transition","TransitionCancel"),transitionend:hs("Transition","TransitionEnd")},Kh={},Dp={};Mn&&(Dp=document.createElement("div").style,"AnimationEvent"in window||(delete aa.animationend.animation,delete aa.animationiteration.animation,delete aa.animationstart.animation),"TransitionEvent"in window||delete aa.transitionend.transition);function fs(e){if(Kh[e])return Kh[e];if(!aa[e])return e;var i=aa[e],a;for(a in i)if(i.hasOwnProperty(a)&&a in Dp)return Kh[e]=i[a];return e}var Op=fs("animationend"),Np=fs("animationiteration"),Mp=fs("animationstart"),mA=fs("transitionrun"),pA=fs("transitionstart"),gA=fs("transitioncancel"),Vp=fs("transitionend"),xp=new Map,Yh="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");Yh.push("scrollEnd");function Vn(e,i){xp.set(e,i),Nn(i,[e])}var Pp=new WeakMap;function En(e,i){if(typeof e=="object"&&e!==null){var a=Pp.get(e);return a!==void 0?a:(i={value:e,source:i,stack:Ys(i)},Pp.set(e,i),i)}return{value:e,source:i,stack:Ys(i)}}var Tn=[],oa=0,Xh=0;function Au(){for(var e=oa,i=Xh=oa=0;i<e;){var a=Tn[i];Tn[i++]=null;var l=Tn[i];Tn[i++]=null;var h=Tn[i];Tn[i++]=null;var d=Tn[i];if(Tn[i++]=null,l!==null&&h!==null){var v=l.pending;v===null?h.next=h:(h.next=v.next,v.next=h),l.pending=h}d!==0&&kp(a,h,d)}}function Su(e,i,a,l){Tn[oa++]=e,Tn[oa++]=i,Tn[oa++]=a,Tn[oa++]=l,Xh|=l,e.lanes|=l,e=e.alternate,e!==null&&(e.lanes|=l)}function $h(e,i,a,l){return Su(e,i,a,l),bu(e)}function la(e,i){return Su(e,null,null,i),bu(e)}function kp(e,i,a){e.lanes|=a;var l=e.alternate;l!==null&&(l.lanes|=a);for(var h=!1,d=e.return;d!==null;)d.childLanes|=a,l=d.alternate,l!==null&&(l.childLanes|=a),d.tag===22&&(e=d.stateNode,e===null||e._visibility&1||(h=!0)),e=d,d=d.return;return e.tag===3?(d=e.stateNode,h&&i!==null&&(h=31-je(a),e=d.hiddenUpdates,l=e[h],l===null?e[h]=[i]:l.push(i),i.lane=a|536870912),d):null}function bu(e){if(50<nl)throw nl=0,id=null,Error(s(185));for(var i=e.return;i!==null;)e=i,i=e.return;return e.tag===3?e.stateNode:null}var ua={};function yA(e,i,a,l){this.tag=e,this.key=a,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=i,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=l,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function ln(e,i,a,l){return new yA(e,i,a,l)}function Zh(e){return e=e.prototype,!(!e||!e.isReactComponent)}function Ii(e,i){var a=e.alternate;return a===null?(a=ln(e.tag,i,e.key,e.mode),a.elementType=e.elementType,a.type=e.type,a.stateNode=e.stateNode,a.alternate=e,e.alternate=a):(a.pendingProps=i,a.type=e.type,a.flags=0,a.subtreeFlags=0,a.deletions=null),a.flags=e.flags&65011712,a.childLanes=e.childLanes,a.lanes=e.lanes,a.child=e.child,a.memoizedProps=e.memoizedProps,a.memoizedState=e.memoizedState,a.updateQueue=e.updateQueue,i=e.dependencies,a.dependencies=i===null?null:{lanes:i.lanes,firstContext:i.firstContext},a.sibling=e.sibling,a.index=e.index,a.ref=e.ref,a.refCleanup=e.refCleanup,a}function Up(e,i){e.flags&=65011714;var a=e.alternate;return a===null?(e.childLanes=0,e.lanes=i,e.child=null,e.subtreeFlags=0,e.memoizedProps=null,e.memoizedState=null,e.updateQueue=null,e.dependencies=null,e.stateNode=null):(e.childLanes=a.childLanes,e.lanes=a.lanes,e.child=a.child,e.subtreeFlags=0,e.deletions=null,e.memoizedProps=a.memoizedProps,e.memoizedState=a.memoizedState,e.updateQueue=a.updateQueue,e.type=a.type,i=a.dependencies,e.dependencies=i===null?null:{lanes:i.lanes,firstContext:i.firstContext}),e}function wu(e,i,a,l,h,d){var v=0;if(l=e,typeof e=="function")Zh(e)&&(v=1);else if(typeof e=="string")v=vS(e,a,mt.current)?26:e==="html"||e==="head"||e==="body"?27:5;else t:switch(e){case R:return e=ln(31,a,i,h),e.elementType=R,e.lanes=d,e;case P:return ds(a.children,h,d,i);case Q:v=8,h|=24;break;case F:return e=ln(12,a,i,h|2),e.elementType=F,e.lanes=d,e;case ut:return e=ln(13,a,i,h),e.elementType=ut,e.lanes=d,e;case bt:return e=ln(19,a,i,h),e.elementType=bt,e.lanes=d,e;default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case $:case it:v=10;break t;case J:v=9;break t;case ht:v=11;break t;case M:v=14;break t;case w:v=16,l=null;break t}v=29,a=Error(s(130,e===null?"null":typeof e,"")),l=null}return i=ln(v,a,i,h),i.elementType=e,i.type=l,i.lanes=d,i}function ds(e,i,a,l){return e=ln(7,e,l,i),e.lanes=a,e}function Wh(e,i,a){return e=ln(6,e,null,i),e.lanes=a,e}function Jh(e,i,a){return i=ln(4,e.children!==null?e.children:[],e.key,i),i.lanes=a,i.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},i}var ca=[],ha=0,Ru=null,Iu=0,An=[],Sn=0,ms=null,Ci=1,Di="";function ps(e,i){ca[ha++]=Iu,ca[ha++]=Ru,Ru=e,Iu=i}function Lp(e,i,a){An[Sn++]=Ci,An[Sn++]=Di,An[Sn++]=ms,ms=e;var l=Ci;e=Di;var h=32-je(l)-1;l&=~(1<<h),a+=1;var d=32-je(i)+h;if(30<d){var v=h-h%5;d=(l&(1<<v)-1).toString(32),l>>=v,h-=v,Ci=1<<32-je(i)+h|a<<h|l,Di=d+e}else Ci=1<<d|a<<h|l,Di=e}function tf(e){e.return!==null&&(ps(e,1),Lp(e,1,0))}function ef(e){for(;e===Ru;)Ru=ca[--ha],ca[ha]=null,Iu=ca[--ha],ca[ha]=null;for(;e===ms;)ms=An[--Sn],An[Sn]=null,Di=An[--Sn],An[Sn]=null,Ci=An[--Sn],An[Sn]=null}var Je=null,le=null,Ht=!1,gs=null,Jn=!1,nf=Error(s(519));function ys(e){var i=Error(s(418,""));throw xo(En(i,e)),nf}function zp(e){var i=e.stateNode,a=e.type,l=e.memoizedProps;switch(i[ve]=e,i[me]=l,a){case"dialog":Nt("cancel",i),Nt("close",i);break;case"iframe":case"object":case"embed":Nt("load",i);break;case"video":case"audio":for(a=0;a<rl.length;a++)Nt(rl[a],i);break;case"source":Nt("error",i);break;case"img":case"image":case"link":Nt("error",i),Nt("load",i);break;case"details":Nt("toggle",i);break;case"input":Nt("invalid",i),es(i,l.value,l.defaultValue,l.checked,l.defaultChecked,l.type,l.name,!0),Xs(i);break;case"select":Nt("invalid",i);break;case"textarea":Nt("invalid",i),ns(i,l.value,l.defaultValue,l.children),Xs(i)}a=l.children,typeof a!="string"&&typeof a!="number"&&typeof a!="bigint"||i.textContent===""+a||l.suppressHydrationWarning===!0||n_(i.textContent,a)?(l.popover!=null&&(Nt("beforetoggle",i),Nt("toggle",i)),l.onScroll!=null&&Nt("scroll",i),l.onScrollEnd!=null&&Nt("scrollend",i),l.onClick!=null&&(i.onclick=oc),i=!0):i=!1,i||ys(e)}function Bp(e){for(Je=e.return;Je;)switch(Je.tag){case 5:case 13:Jn=!1;return;case 27:case 3:Jn=!0;return;default:Je=Je.return}}function Mo(e){if(e!==Je)return!1;if(!Ht)return Bp(e),Ht=!0,!1;var i=e.tag,a;if((a=i!==3&&i!==27)&&((a=i===5)&&(a=e.type,a=!(a!=="form"&&a!=="button")||vd(e.type,e.memoizedProps)),a=!a),a&&le&&ys(e),Bp(e),i===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(s(317));t:{for(e=e.nextSibling,i=0;e;){if(e.nodeType===8)if(a=e.data,a==="/$"){if(i===0){le=Pn(e.nextSibling);break t}i--}else a!=="$"&&a!=="$!"&&a!=="$?"||i++;e=e.nextSibling}le=null}}else i===27?(i=le,vr(e.type)?(e=Sd,Sd=null,le=e):le=i):le=Je?Pn(e.stateNode.nextSibling):null;return!0}function Vo(){le=Je=null,Ht=!1}function Hp(){var e=gs;return e!==null&&(nn===null?nn=e:nn.push.apply(nn,e),gs=null),e}function xo(e){gs===null?gs=[e]:gs.push(e)}var rf=tt(null),_s=null,Oi=null;function rr(e,i,a){nt(rf,i._currentValue),i._currentValue=a}function Ni(e){e._currentValue=rf.current,at(rf)}function sf(e,i,a){for(;e!==null;){var l=e.alternate;if((e.childLanes&i)!==i?(e.childLanes|=i,l!==null&&(l.childLanes|=i)):l!==null&&(l.childLanes&i)!==i&&(l.childLanes|=i),e===a)break;e=e.return}}function af(e,i,a,l){var h=e.child;for(h!==null&&(h.return=e);h!==null;){var d=h.dependencies;if(d!==null){var v=h.child;d=d.firstContext;t:for(;d!==null;){var T=d;d=h;for(var I=0;I<i.length;I++)if(T.context===i[I]){d.lanes|=a,T=d.alternate,T!==null&&(T.lanes|=a),sf(d.return,a,e),l||(v=null);break t}d=T.next}}else if(h.tag===18){if(v=h.return,v===null)throw Error(s(341));v.lanes|=a,d=v.alternate,d!==null&&(d.lanes|=a),sf(v,a,e),v=null}else v=h.child;if(v!==null)v.return=h;else for(v=h;v!==null;){if(v===e){v=null;break}if(h=v.sibling,h!==null){h.return=v.return,v=h;break}v=v.return}h=v}}function Po(e,i,a,l){e=null;for(var h=i,d=!1;h!==null;){if(!d){if((h.flags&524288)!==0)d=!0;else if((h.flags&262144)!==0)break}if(h.tag===10){var v=h.alternate;if(v===null)throw Error(s(387));if(v=v.memoizedProps,v!==null){var T=h.type;on(h.pendingProps.value,v.value)||(e!==null?e.push(T):e=[T])}}else if(h===Ie.current){if(v=h.alternate,v===null)throw Error(s(387));v.memoizedState.memoizedState!==h.memoizedState.memoizedState&&(e!==null?e.push(cl):e=[cl])}h=h.return}e!==null&&af(i,e,a,l),i.flags|=262144}function Cu(e){for(e=e.firstContext;e!==null;){if(!on(e.context._currentValue,e.memoizedValue))return!0;e=e.next}return!1}function vs(e){_s=e,Oi=null,e=e.dependencies,e!==null&&(e.firstContext=null)}function Fe(e){return qp(_s,e)}function Du(e,i){return _s===null&&vs(e),qp(e,i)}function qp(e,i){var a=i._currentValue;if(i={context:i,memoizedValue:a,next:null},Oi===null){if(e===null)throw Error(s(308));Oi=i,e.dependencies={lanes:0,firstContext:i},e.flags|=524288}else Oi=Oi.next=i;return a}var _A=typeof AbortController<"u"?AbortController:function(){var e=[],i=this.signal={aborted:!1,addEventListener:function(a,l){e.push(l)}};this.abort=function(){i.aborted=!0,e.forEach(function(a){return a()})}},vA=r.unstable_scheduleCallback,EA=r.unstable_NormalPriority,Ae={$$typeof:it,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function of(){return{controller:new _A,data:new Map,refCount:0}}function ko(e){e.refCount--,e.refCount===0&&vA(EA,function(){e.controller.abort()})}var Uo=null,lf=0,fa=0,da=null;function TA(e,i){if(Uo===null){var a=Uo=[];lf=0,fa=cd(),da={status:"pending",value:void 0,then:function(l){a.push(l)}}}return lf++,i.then(jp,jp),i}function jp(){if(--lf===0&&Uo!==null){da!==null&&(da.status="fulfilled");var e=Uo;Uo=null,fa=0,da=null;for(var i=0;i<e.length;i++)(0,e[i])()}}function AA(e,i){var a=[],l={status:"pending",value:null,reason:null,then:function(h){a.push(h)}};return e.then(function(){l.status="fulfilled",l.value=i;for(var h=0;h<a.length;h++)(0,a[h])(i)},function(h){for(l.status="rejected",l.reason=h,h=0;h<a.length;h++)(0,a[h])(void 0)}),l}var Fp=K.S;K.S=function(e,i){typeof i=="object"&&i!==null&&typeof i.then=="function"&&TA(e,i),Fp!==null&&Fp(e,i)};var Es=tt(null);function uf(){var e=Es.current;return e!==null?e:Jt.pooledCache}function Ou(e,i){i===null?nt(Es,Es.current):nt(Es,i.pool)}function Gp(){var e=uf();return e===null?null:{parent:Ae._currentValue,pool:e}}var Lo=Error(s(460)),Qp=Error(s(474)),Nu=Error(s(542)),cf={then:function(){}};function Kp(e){return e=e.status,e==="fulfilled"||e==="rejected"}function Mu(){}function Yp(e,i,a){switch(a=e[a],a===void 0?e.push(i):a!==i&&(i.then(Mu,Mu),i=a),i.status){case"fulfilled":return i.value;case"rejected":throw e=i.reason,$p(e),e;default:if(typeof i.status=="string")i.then(Mu,Mu);else{if(e=Jt,e!==null&&100<e.shellSuspendCounter)throw Error(s(482));e=i,e.status="pending",e.then(function(l){if(i.status==="pending"){var h=i;h.status="fulfilled",h.value=l}},function(l){if(i.status==="pending"){var h=i;h.status="rejected",h.reason=l}})}switch(i.status){case"fulfilled":return i.value;case"rejected":throw e=i.reason,$p(e),e}throw zo=i,Lo}}var zo=null;function Xp(){if(zo===null)throw Error(s(459));var e=zo;return zo=null,e}function $p(e){if(e===Lo||e===Nu)throw Error(s(483))}var sr=!1;function hf(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function ff(e,i){e=e.updateQueue,i.updateQueue===e&&(i.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,callbacks:null})}function ar(e){return{lane:e,tag:0,payload:null,callback:null,next:null}}function or(e,i,a){var l=e.updateQueue;if(l===null)return null;if(l=l.shared,(Gt&2)!==0){var h=l.pending;return h===null?i.next=i:(i.next=h.next,h.next=i),l.pending=i,i=bu(e),kp(e,null,a),i}return Su(e,l,i,a),bu(e)}function Bo(e,i,a){if(i=i.updateQueue,i!==null&&(i=i.shared,(a&4194048)!==0)){var l=i.lanes;l&=e.pendingLanes,a|=l,i.lanes=a,mo(e,a)}}function df(e,i){var a=e.updateQueue,l=e.alternate;if(l!==null&&(l=l.updateQueue,a===l)){var h=null,d=null;if(a=a.firstBaseUpdate,a!==null){do{var v={lane:a.lane,tag:a.tag,payload:a.payload,callback:null,next:null};d===null?h=d=v:d=d.next=v,a=a.next}while(a!==null);d===null?h=d=i:d=d.next=i}else h=d=i;a={baseState:l.baseState,firstBaseUpdate:h,lastBaseUpdate:d,shared:l.shared,callbacks:l.callbacks},e.updateQueue=a;return}e=a.lastBaseUpdate,e===null?a.firstBaseUpdate=i:e.next=i,a.lastBaseUpdate=i}var mf=!1;function Ho(){if(mf){var e=da;if(e!==null)throw e}}function qo(e,i,a,l){mf=!1;var h=e.updateQueue;sr=!1;var d=h.firstBaseUpdate,v=h.lastBaseUpdate,T=h.shared.pending;if(T!==null){h.shared.pending=null;var I=T,B=I.next;I.next=null,v===null?d=B:v.next=B,v=I;var Y=e.alternate;Y!==null&&(Y=Y.updateQueue,T=Y.lastBaseUpdate,T!==v&&(T===null?Y.firstBaseUpdate=B:T.next=B,Y.lastBaseUpdate=I))}if(d!==null){var Z=h.baseState;v=0,Y=B=I=null,T=d;do{var H=T.lane&-536870913,q=H!==T.lane;if(q?(kt&H)===H:(l&H)===H){H!==0&&H===fa&&(mf=!0),Y!==null&&(Y=Y.next={lane:0,tag:T.tag,payload:T.payload,callback:null,next:null});t:{var vt=e,gt=T;H=i;var $t=a;switch(gt.tag){case 1:if(vt=gt.payload,typeof vt=="function"){Z=vt.call($t,Z,H);break t}Z=vt;break t;case 3:vt.flags=vt.flags&-65537|128;case 0:if(vt=gt.payload,H=typeof vt=="function"?vt.call($t,Z,H):vt,H==null)break t;Z=E({},Z,H);break t;case 2:sr=!0}}H=T.callback,H!==null&&(e.flags|=64,q&&(e.flags|=8192),q=h.callbacks,q===null?h.callbacks=[H]:q.push(H))}else q={lane:H,tag:T.tag,payload:T.payload,callback:T.callback,next:null},Y===null?(B=Y=q,I=Z):Y=Y.next=q,v|=H;if(T=T.next,T===null){if(T=h.shared.pending,T===null)break;q=T,T=q.next,q.next=null,h.lastBaseUpdate=q,h.shared.pending=null}}while(!0);Y===null&&(I=Z),h.baseState=I,h.firstBaseUpdate=B,h.lastBaseUpdate=Y,d===null&&(h.shared.lanes=0),pr|=v,e.lanes=v,e.memoizedState=Z}}function Zp(e,i){if(typeof e!="function")throw Error(s(191,e));e.call(i)}function Wp(e,i){var a=e.callbacks;if(a!==null)for(e.callbacks=null,e=0;e<a.length;e++)Zp(a[e],i)}var ma=tt(null),Vu=tt(0);function Jp(e,i){e=Li,nt(Vu,e),nt(ma,i),Li=e|i.baseLanes}function pf(){nt(Vu,Li),nt(ma,ma.current)}function gf(){Li=Vu.current,at(ma),at(Vu)}var lr=0,Rt=null,Yt=null,ge=null,xu=!1,pa=!1,Ts=!1,Pu=0,jo=0,ga=null,SA=0;function he(){throw Error(s(321))}function yf(e,i){if(i===null)return!1;for(var a=0;a<i.length&&a<e.length;a++)if(!on(e[a],i[a]))return!1;return!0}function _f(e,i,a,l,h,d){return lr=d,Rt=i,i.memoizedState=null,i.updateQueue=null,i.lanes=0,K.H=e===null||e.memoizedState===null?kg:Ug,Ts=!1,d=a(l,h),Ts=!1,pa&&(d=eg(i,a,l,h)),tg(e),d}function tg(e){K.H=Hu;var i=Yt!==null&&Yt.next!==null;if(lr=0,ge=Yt=Rt=null,xu=!1,jo=0,ga=null,i)throw Error(s(300));e===null||Oe||(e=e.dependencies,e!==null&&Cu(e)&&(Oe=!0))}function eg(e,i,a,l){Rt=e;var h=0;do{if(pa&&(ga=null),jo=0,pa=!1,25<=h)throw Error(s(301));if(h+=1,ge=Yt=null,e.updateQueue!=null){var d=e.updateQueue;d.lastEffect=null,d.events=null,d.stores=null,d.memoCache!=null&&(d.memoCache.index=0)}K.H=OA,d=i(a,l)}while(pa);return d}function bA(){var e=K.H,i=e.useState()[0];return i=typeof i.then=="function"?Fo(i):i,e=e.useState()[0],(Yt!==null?Yt.memoizedState:null)!==e&&(Rt.flags|=1024),i}function vf(){var e=Pu!==0;return Pu=0,e}function Ef(e,i,a){i.updateQueue=e.updateQueue,i.flags&=-2053,e.lanes&=~a}function Tf(e){if(xu){for(e=e.memoizedState;e!==null;){var i=e.queue;i!==null&&(i.pending=null),e=e.next}xu=!1}lr=0,ge=Yt=Rt=null,pa=!1,jo=Pu=0,ga=null}function tn(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return ge===null?Rt.memoizedState=ge=e:ge=ge.next=e,ge}function ye(){if(Yt===null){var e=Rt.alternate;e=e!==null?e.memoizedState:null}else e=Yt.next;var i=ge===null?Rt.memoizedState:ge.next;if(i!==null)ge=i,Yt=e;else{if(e===null)throw Rt.alternate===null?Error(s(467)):Error(s(310));Yt=e,e={memoizedState:Yt.memoizedState,baseState:Yt.baseState,baseQueue:Yt.baseQueue,queue:Yt.queue,next:null},ge===null?Rt.memoizedState=ge=e:ge=ge.next=e}return ge}function Af(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function Fo(e){var i=jo;return jo+=1,ga===null&&(ga=[]),e=Yp(ga,e,i),i=Rt,(ge===null?i.memoizedState:ge.next)===null&&(i=i.alternate,K.H=i===null||i.memoizedState===null?kg:Ug),e}function ku(e){if(e!==null&&typeof e=="object"){if(typeof e.then=="function")return Fo(e);if(e.$$typeof===it)return Fe(e)}throw Error(s(438,String(e)))}function Sf(e){var i=null,a=Rt.updateQueue;if(a!==null&&(i=a.memoCache),i==null){var l=Rt.alternate;l!==null&&(l=l.updateQueue,l!==null&&(l=l.memoCache,l!=null&&(i={data:l.data.map(function(h){return h.slice()}),index:0})))}if(i==null&&(i={data:[],index:0}),a===null&&(a=Af(),Rt.updateQueue=a),a.memoCache=i,a=i.data[i.index],a===void 0)for(a=i.data[i.index]=Array(e),l=0;l<e;l++)a[l]=O;return i.index++,a}function Mi(e,i){return typeof i=="function"?i(e):i}function Uu(e){var i=ye();return bf(i,Yt,e)}function bf(e,i,a){var l=e.queue;if(l===null)throw Error(s(311));l.lastRenderedReducer=a;var h=e.baseQueue,d=l.pending;if(d!==null){if(h!==null){var v=h.next;h.next=d.next,d.next=v}i.baseQueue=h=d,l.pending=null}if(d=e.baseState,h===null)e.memoizedState=d;else{i=h.next;var T=v=null,I=null,B=i,Y=!1;do{var Z=B.lane&-536870913;if(Z!==B.lane?(kt&Z)===Z:(lr&Z)===Z){var H=B.revertLane;if(H===0)I!==null&&(I=I.next={lane:0,revertLane:0,action:B.action,hasEagerState:B.hasEagerState,eagerState:B.eagerState,next:null}),Z===fa&&(Y=!0);else if((lr&H)===H){B=B.next,H===fa&&(Y=!0);continue}else Z={lane:0,revertLane:B.revertLane,action:B.action,hasEagerState:B.hasEagerState,eagerState:B.eagerState,next:null},I===null?(T=I=Z,v=d):I=I.next=Z,Rt.lanes|=H,pr|=H;Z=B.action,Ts&&a(d,Z),d=B.hasEagerState?B.eagerState:a(d,Z)}else H={lane:Z,revertLane:B.revertLane,action:B.action,hasEagerState:B.hasEagerState,eagerState:B.eagerState,next:null},I===null?(T=I=H,v=d):I=I.next=H,Rt.lanes|=Z,pr|=Z;B=B.next}while(B!==null&&B!==i);if(I===null?v=d:I.next=T,!on(d,e.memoizedState)&&(Oe=!0,Y&&(a=da,a!==null)))throw a;e.memoizedState=d,e.baseState=v,e.baseQueue=I,l.lastRenderedState=d}return h===null&&(l.lanes=0),[e.memoizedState,l.dispatch]}function wf(e){var i=ye(),a=i.queue;if(a===null)throw Error(s(311));a.lastRenderedReducer=e;var l=a.dispatch,h=a.pending,d=i.memoizedState;if(h!==null){a.pending=null;var v=h=h.next;do d=e(d,v.action),v=v.next;while(v!==h);on(d,i.memoizedState)||(Oe=!0),i.memoizedState=d,i.baseQueue===null&&(i.baseState=d),a.lastRenderedState=d}return[d,l]}function ng(e,i,a){var l=Rt,h=ye(),d=Ht;if(d){if(a===void 0)throw Error(s(407));a=a()}else a=i();var v=!on((Yt||h).memoizedState,a);v&&(h.memoizedState=a,Oe=!0),h=h.queue;var T=sg.bind(null,l,h,e);if(Go(2048,8,T,[e]),h.getSnapshot!==i||v||ge!==null&&ge.memoizedState.tag&1){if(l.flags|=2048,ya(9,Lu(),rg.bind(null,l,h,a,i),null),Jt===null)throw Error(s(349));d||(lr&124)!==0||ig(l,i,a)}return a}function ig(e,i,a){e.flags|=16384,e={getSnapshot:i,value:a},i=Rt.updateQueue,i===null?(i=Af(),Rt.updateQueue=i,i.stores=[e]):(a=i.stores,a===null?i.stores=[e]:a.push(e))}function rg(e,i,a,l){i.value=a,i.getSnapshot=l,ag(i)&&og(e)}function sg(e,i,a){return a(function(){ag(i)&&og(e)})}function ag(e){var i=e.getSnapshot;e=e.value;try{var a=i();return!on(e,a)}catch{return!0}}function og(e){var i=la(e,2);i!==null&&dn(i,e,2)}function Rf(e){var i=tn();if(typeof e=="function"){var a=e;if(e=a(),Ts){sn(!0);try{a()}finally{sn(!1)}}}return i.memoizedState=i.baseState=e,i.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Mi,lastRenderedState:e},i}function lg(e,i,a,l){return e.baseState=a,bf(e,Yt,typeof l=="function"?l:Mi)}function wA(e,i,a,l,h){if(Bu(e))throw Error(s(485));if(e=i.action,e!==null){var d={payload:h,action:e,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(v){d.listeners.push(v)}};K.T!==null?a(!0):d.isTransition=!1,l(d),a=i.pending,a===null?(d.next=i.pending=d,ug(i,d)):(d.next=a.next,i.pending=a.next=d)}}function ug(e,i){var a=i.action,l=i.payload,h=e.state;if(i.isTransition){var d=K.T,v={};K.T=v;try{var T=a(h,l),I=K.S;I!==null&&I(v,T),cg(e,i,T)}catch(B){If(e,i,B)}finally{K.T=d}}else try{d=a(h,l),cg(e,i,d)}catch(B){If(e,i,B)}}function cg(e,i,a){a!==null&&typeof a=="object"&&typeof a.then=="function"?a.then(function(l){hg(e,i,l)},function(l){return If(e,i,l)}):hg(e,i,a)}function hg(e,i,a){i.status="fulfilled",i.value=a,fg(i),e.state=a,i=e.pending,i!==null&&(a=i.next,a===i?e.pending=null:(a=a.next,i.next=a,ug(e,a)))}function If(e,i,a){var l=e.pending;if(e.pending=null,l!==null){l=l.next;do i.status="rejected",i.reason=a,fg(i),i=i.next;while(i!==l)}e.action=null}function fg(e){e=e.listeners;for(var i=0;i<e.length;i++)(0,e[i])()}function dg(e,i){return i}function mg(e,i){if(Ht){var a=Jt.formState;if(a!==null){t:{var l=Rt;if(Ht){if(le){e:{for(var h=le,d=Jn;h.nodeType!==8;){if(!d){h=null;break e}if(h=Pn(h.nextSibling),h===null){h=null;break e}}d=h.data,h=d==="F!"||d==="F"?h:null}if(h){le=Pn(h.nextSibling),l=h.data==="F!";break t}}ys(l)}l=!1}l&&(i=a[0])}}return a=tn(),a.memoizedState=a.baseState=i,l={pending:null,lanes:0,dispatch:null,lastRenderedReducer:dg,lastRenderedState:i},a.queue=l,a=Vg.bind(null,Rt,l),l.dispatch=a,l=Rf(!1),d=Mf.bind(null,Rt,!1,l.queue),l=tn(),h={state:i,dispatch:null,action:e,pending:null},l.queue=h,a=wA.bind(null,Rt,h,d,a),h.dispatch=a,l.memoizedState=e,[i,a,!1]}function pg(e){var i=ye();return gg(i,Yt,e)}function gg(e,i,a){if(i=bf(e,i,dg)[0],e=Uu(Mi)[0],typeof i=="object"&&i!==null&&typeof i.then=="function")try{var l=Fo(i)}catch(v){throw v===Lo?Nu:v}else l=i;i=ye();var h=i.queue,d=h.dispatch;return a!==i.memoizedState&&(Rt.flags|=2048,ya(9,Lu(),RA.bind(null,h,a),null)),[l,d,e]}function RA(e,i){e.action=i}function yg(e){var i=ye(),a=Yt;if(a!==null)return gg(i,a,e);ye(),i=i.memoizedState,a=ye();var l=a.queue.dispatch;return a.memoizedState=e,[i,l,!1]}function ya(e,i,a,l){return e={tag:e,create:a,deps:l,inst:i,next:null},i=Rt.updateQueue,i===null&&(i=Af(),Rt.updateQueue=i),a=i.lastEffect,a===null?i.lastEffect=e.next=e:(l=a.next,a.next=e,e.next=l,i.lastEffect=e),e}function Lu(){return{destroy:void 0,resource:void 0}}function _g(){return ye().memoizedState}function zu(e,i,a,l){var h=tn();l=l===void 0?null:l,Rt.flags|=e,h.memoizedState=ya(1|i,Lu(),a,l)}function Go(e,i,a,l){var h=ye();l=l===void 0?null:l;var d=h.memoizedState.inst;Yt!==null&&l!==null&&yf(l,Yt.memoizedState.deps)?h.memoizedState=ya(i,d,a,l):(Rt.flags|=e,h.memoizedState=ya(1|i,d,a,l))}function vg(e,i){zu(8390656,8,e,i)}function Eg(e,i){Go(2048,8,e,i)}function Tg(e,i){return Go(4,2,e,i)}function Ag(e,i){return Go(4,4,e,i)}function Sg(e,i){if(typeof i=="function"){e=e();var a=i(e);return function(){typeof a=="function"?a():i(null)}}if(i!=null)return e=e(),i.current=e,function(){i.current=null}}function bg(e,i,a){a=a!=null?a.concat([e]):null,Go(4,4,Sg.bind(null,i,e),a)}function Cf(){}function wg(e,i){var a=ye();i=i===void 0?null:i;var l=a.memoizedState;return i!==null&&yf(i,l[1])?l[0]:(a.memoizedState=[e,i],e)}function Rg(e,i){var a=ye();i=i===void 0?null:i;var l=a.memoizedState;if(i!==null&&yf(i,l[1]))return l[0];if(l=e(),Ts){sn(!0);try{e()}finally{sn(!1)}}return a.memoizedState=[l,i],l}function Df(e,i,a){return a===void 0||(lr&1073741824)!==0?e.memoizedState=i:(e.memoizedState=a,e=Dy(),Rt.lanes|=e,pr|=e,a)}function Ig(e,i,a,l){return on(a,i)?a:ma.current!==null?(e=Df(e,a,l),on(e,i)||(Oe=!0),e):(lr&42)===0?(Oe=!0,e.memoizedState=a):(e=Dy(),Rt.lanes|=e,pr|=e,i)}function Cg(e,i,a,l,h){var d=st.p;st.p=d!==0&&8>d?d:8;var v=K.T,T={};K.T=T,Mf(e,!1,i,a);try{var I=h(),B=K.S;if(B!==null&&B(T,I),I!==null&&typeof I=="object"&&typeof I.then=="function"){var Y=AA(I,l);Qo(e,i,Y,fn(e))}else Qo(e,i,l,fn(e))}catch(Z){Qo(e,i,{then:function(){},status:"rejected",reason:Z},fn())}finally{st.p=d,K.T=v}}function IA(){}function Of(e,i,a,l){if(e.tag!==5)throw Error(s(476));var h=Dg(e).queue;Cg(e,h,i,ft,a===null?IA:function(){return Og(e),a(l)})}function Dg(e){var i=e.memoizedState;if(i!==null)return i;i={memoizedState:ft,baseState:ft,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Mi,lastRenderedState:ft},next:null};var a={};return i.next={memoizedState:a,baseState:a,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Mi,lastRenderedState:a},next:null},e.memoizedState=i,e=e.alternate,e!==null&&(e.memoizedState=i),i}function Og(e){var i=Dg(e).next.queue;Qo(e,i,{},fn())}function Nf(){return Fe(cl)}function Ng(){return ye().memoizedState}function Mg(){return ye().memoizedState}function CA(e){for(var i=e.return;i!==null;){switch(i.tag){case 24:case 3:var a=fn();e=ar(a);var l=or(i,e,a);l!==null&&(dn(l,i,a),Bo(l,i,a)),i={cache:of()},e.payload=i;return}i=i.return}}function DA(e,i,a){var l=fn();a={lane:l,revertLane:0,action:a,hasEagerState:!1,eagerState:null,next:null},Bu(e)?xg(i,a):(a=$h(e,i,a,l),a!==null&&(dn(a,e,l),Pg(a,i,l)))}function Vg(e,i,a){var l=fn();Qo(e,i,a,l)}function Qo(e,i,a,l){var h={lane:l,revertLane:0,action:a,hasEagerState:!1,eagerState:null,next:null};if(Bu(e))xg(i,h);else{var d=e.alternate;if(e.lanes===0&&(d===null||d.lanes===0)&&(d=i.lastRenderedReducer,d!==null))try{var v=i.lastRenderedState,T=d(v,a);if(h.hasEagerState=!0,h.eagerState=T,on(T,v))return Su(e,i,h,0),Jt===null&&Au(),!1}catch{}finally{}if(a=$h(e,i,h,l),a!==null)return dn(a,e,l),Pg(a,i,l),!0}return!1}function Mf(e,i,a,l){if(l={lane:2,revertLane:cd(),action:l,hasEagerState:!1,eagerState:null,next:null},Bu(e)){if(i)throw Error(s(479))}else i=$h(e,a,l,2),i!==null&&dn(i,e,2)}function Bu(e){var i=e.alternate;return e===Rt||i!==null&&i===Rt}function xg(e,i){pa=xu=!0;var a=e.pending;a===null?i.next=i:(i.next=a.next,a.next=i),e.pending=i}function Pg(e,i,a){if((a&4194048)!==0){var l=i.lanes;l&=e.pendingLanes,a|=l,i.lanes=a,mo(e,a)}}var Hu={readContext:Fe,use:ku,useCallback:he,useContext:he,useEffect:he,useImperativeHandle:he,useLayoutEffect:he,useInsertionEffect:he,useMemo:he,useReducer:he,useRef:he,useState:he,useDebugValue:he,useDeferredValue:he,useTransition:he,useSyncExternalStore:he,useId:he,useHostTransitionStatus:he,useFormState:he,useActionState:he,useOptimistic:he,useMemoCache:he,useCacheRefresh:he},kg={readContext:Fe,use:ku,useCallback:function(e,i){return tn().memoizedState=[e,i===void 0?null:i],e},useContext:Fe,useEffect:vg,useImperativeHandle:function(e,i,a){a=a!=null?a.concat([e]):null,zu(4194308,4,Sg.bind(null,i,e),a)},useLayoutEffect:function(e,i){return zu(4194308,4,e,i)},useInsertionEffect:function(e,i){zu(4,2,e,i)},useMemo:function(e,i){var a=tn();i=i===void 0?null:i;var l=e();if(Ts){sn(!0);try{e()}finally{sn(!1)}}return a.memoizedState=[l,i],l},useReducer:function(e,i,a){var l=tn();if(a!==void 0){var h=a(i);if(Ts){sn(!0);try{a(i)}finally{sn(!1)}}}else h=i;return l.memoizedState=l.baseState=h,e={pending:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:h},l.queue=e,e=e.dispatch=DA.bind(null,Rt,e),[l.memoizedState,e]},useRef:function(e){var i=tn();return e={current:e},i.memoizedState=e},useState:function(e){e=Rf(e);var i=e.queue,a=Vg.bind(null,Rt,i);return i.dispatch=a,[e.memoizedState,a]},useDebugValue:Cf,useDeferredValue:function(e,i){var a=tn();return Df(a,e,i)},useTransition:function(){var e=Rf(!1);return e=Cg.bind(null,Rt,e.queue,!0,!1),tn().memoizedState=e,[!1,e]},useSyncExternalStore:function(e,i,a){var l=Rt,h=tn();if(Ht){if(a===void 0)throw Error(s(407));a=a()}else{if(a=i(),Jt===null)throw Error(s(349));(kt&124)!==0||ig(l,i,a)}h.memoizedState=a;var d={value:a,getSnapshot:i};return h.queue=d,vg(sg.bind(null,l,d,e),[e]),l.flags|=2048,ya(9,Lu(),rg.bind(null,l,d,a,i),null),a},useId:function(){var e=tn(),i=Jt.identifierPrefix;if(Ht){var a=Di,l=Ci;a=(l&~(1<<32-je(l)-1)).toString(32)+a,i=""+i+"R"+a,a=Pu++,0<a&&(i+="H"+a.toString(32)),i+=""}else a=SA++,i=""+i+"r"+a.toString(32)+"";return e.memoizedState=i},useHostTransitionStatus:Nf,useFormState:mg,useActionState:mg,useOptimistic:function(e){var i=tn();i.memoizedState=i.baseState=e;var a={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return i.queue=a,i=Mf.bind(null,Rt,!0,a),a.dispatch=i,[e,i]},useMemoCache:Sf,useCacheRefresh:function(){return tn().memoizedState=CA.bind(null,Rt)}},Ug={readContext:Fe,use:ku,useCallback:wg,useContext:Fe,useEffect:Eg,useImperativeHandle:bg,useInsertionEffect:Tg,useLayoutEffect:Ag,useMemo:Rg,useReducer:Uu,useRef:_g,useState:function(){return Uu(Mi)},useDebugValue:Cf,useDeferredValue:function(e,i){var a=ye();return Ig(a,Yt.memoizedState,e,i)},useTransition:function(){var e=Uu(Mi)[0],i=ye().memoizedState;return[typeof e=="boolean"?e:Fo(e),i]},useSyncExternalStore:ng,useId:Ng,useHostTransitionStatus:Nf,useFormState:pg,useActionState:pg,useOptimistic:function(e,i){var a=ye();return lg(a,Yt,e,i)},useMemoCache:Sf,useCacheRefresh:Mg},OA={readContext:Fe,use:ku,useCallback:wg,useContext:Fe,useEffect:Eg,useImperativeHandle:bg,useInsertionEffect:Tg,useLayoutEffect:Ag,useMemo:Rg,useReducer:wf,useRef:_g,useState:function(){return wf(Mi)},useDebugValue:Cf,useDeferredValue:function(e,i){var a=ye();return Yt===null?Df(a,e,i):Ig(a,Yt.memoizedState,e,i)},useTransition:function(){var e=wf(Mi)[0],i=ye().memoizedState;return[typeof e=="boolean"?e:Fo(e),i]},useSyncExternalStore:ng,useId:Ng,useHostTransitionStatus:Nf,useFormState:yg,useActionState:yg,useOptimistic:function(e,i){var a=ye();return Yt!==null?lg(a,Yt,e,i):(a.baseState=e,[e,a.queue.dispatch])},useMemoCache:Sf,useCacheRefresh:Mg},_a=null,Ko=0;function qu(e){var i=Ko;return Ko+=1,_a===null&&(_a=[]),Yp(_a,e,i)}function Yo(e,i){i=i.props.ref,e.ref=i!==void 0?i:null}function ju(e,i){throw i.$$typeof===b?Error(s(525)):(e=Object.prototype.toString.call(i),Error(s(31,e==="[object Object]"?"object with keys {"+Object.keys(i).join(", ")+"}":e)))}function Lg(e){var i=e._init;return i(e._payload)}function zg(e){function i(x,N){if(e){var z=x.deletions;z===null?(x.deletions=[N],x.flags|=16):z.push(N)}}function a(x,N){if(!e)return null;for(;N!==null;)i(x,N),N=N.sibling;return null}function l(x){for(var N=new Map;x!==null;)x.key!==null?N.set(x.key,x):N.set(x.index,x),x=x.sibling;return N}function h(x,N){return x=Ii(x,N),x.index=0,x.sibling=null,x}function d(x,N,z){return x.index=z,e?(z=x.alternate,z!==null?(z=z.index,z<N?(x.flags|=67108866,N):z):(x.flags|=67108866,N)):(x.flags|=1048576,N)}function v(x){return e&&x.alternate===null&&(x.flags|=67108866),x}function T(x,N,z,X){return N===null||N.tag!==6?(N=Wh(z,x.mode,X),N.return=x,N):(N=h(N,z),N.return=x,N)}function I(x,N,z,X){var lt=z.type;return lt===P?Y(x,N,z.props.children,X,z.key):N!==null&&(N.elementType===lt||typeof lt=="object"&&lt!==null&&lt.$$typeof===w&&Lg(lt)===N.type)?(N=h(N,z.props),Yo(N,z),N.return=x,N):(N=wu(z.type,z.key,z.props,null,x.mode,X),Yo(N,z),N.return=x,N)}function B(x,N,z,X){return N===null||N.tag!==4||N.stateNode.containerInfo!==z.containerInfo||N.stateNode.implementation!==z.implementation?(N=Jh(z,x.mode,X),N.return=x,N):(N=h(N,z.children||[]),N.return=x,N)}function Y(x,N,z,X,lt){return N===null||N.tag!==7?(N=ds(z,x.mode,X,lt),N.return=x,N):(N=h(N,z),N.return=x,N)}function Z(x,N,z){if(typeof N=="string"&&N!==""||typeof N=="number"||typeof N=="bigint")return N=Wh(""+N,x.mode,z),N.return=x,N;if(typeof N=="object"&&N!==null){switch(N.$$typeof){case S:return z=wu(N.type,N.key,N.props,null,x.mode,z),Yo(z,N),z.return=x,z;case L:return N=Jh(N,x.mode,z),N.return=x,N;case w:var X=N._init;return N=X(N._payload),Z(x,N,z)}if(ae(N)||k(N))return N=ds(N,x.mode,z,null),N.return=x,N;if(typeof N.then=="function")return Z(x,qu(N),z);if(N.$$typeof===it)return Z(x,Du(x,N),z);ju(x,N)}return null}function H(x,N,z,X){var lt=N!==null?N.key:null;if(typeof z=="string"&&z!==""||typeof z=="number"||typeof z=="bigint")return lt!==null?null:T(x,N,""+z,X);if(typeof z=="object"&&z!==null){switch(z.$$typeof){case S:return z.key===lt?I(x,N,z,X):null;case L:return z.key===lt?B(x,N,z,X):null;case w:return lt=z._init,z=lt(z._payload),H(x,N,z,X)}if(ae(z)||k(z))return lt!==null?null:Y(x,N,z,X,null);if(typeof z.then=="function")return H(x,N,qu(z),X);if(z.$$typeof===it)return H(x,N,Du(x,z),X);ju(x,z)}return null}function q(x,N,z,X,lt){if(typeof X=="string"&&X!==""||typeof X=="number"||typeof X=="bigint")return x=x.get(z)||null,T(N,x,""+X,lt);if(typeof X=="object"&&X!==null){switch(X.$$typeof){case S:return x=x.get(X.key===null?z:X.key)||null,I(N,x,X,lt);case L:return x=x.get(X.key===null?z:X.key)||null,B(N,x,X,lt);case w:var Dt=X._init;return X=Dt(X._payload),q(x,N,z,X,lt)}if(ae(X)||k(X))return x=x.get(z)||null,Y(N,x,X,lt,null);if(typeof X.then=="function")return q(x,N,z,qu(X),lt);if(X.$$typeof===it)return q(x,N,z,Du(N,X),lt);ju(N,X)}return null}function vt(x,N,z,X){for(var lt=null,Dt=null,ct=N,yt=N=0,Me=null;ct!==null&&yt<z.length;yt++){ct.index>yt?(Me=ct,ct=null):Me=ct.sibling;var zt=H(x,ct,z[yt],X);if(zt===null){ct===null&&(ct=Me);break}e&&ct&&zt.alternate===null&&i(x,ct),N=d(zt,N,yt),Dt===null?lt=zt:Dt.sibling=zt,Dt=zt,ct=Me}if(yt===z.length)return a(x,ct),Ht&&ps(x,yt),lt;if(ct===null){for(;yt<z.length;yt++)ct=Z(x,z[yt],X),ct!==null&&(N=d(ct,N,yt),Dt===null?lt=ct:Dt.sibling=ct,Dt=ct);return Ht&&ps(x,yt),lt}for(ct=l(ct);yt<z.length;yt++)Me=q(ct,x,yt,z[yt],X),Me!==null&&(e&&Me.alternate!==null&&ct.delete(Me.key===null?yt:Me.key),N=d(Me,N,yt),Dt===null?lt=Me:Dt.sibling=Me,Dt=Me);return e&&ct.forEach(function(br){return i(x,br)}),Ht&&ps(x,yt),lt}function gt(x,N,z,X){if(z==null)throw Error(s(151));for(var lt=null,Dt=null,ct=N,yt=N=0,Me=null,zt=z.next();ct!==null&&!zt.done;yt++,zt=z.next()){ct.index>yt?(Me=ct,ct=null):Me=ct.sibling;var br=H(x,ct,zt.value,X);if(br===null){ct===null&&(ct=Me);break}e&&ct&&br.alternate===null&&i(x,ct),N=d(br,N,yt),Dt===null?lt=br:Dt.sibling=br,Dt=br,ct=Me}if(zt.done)return a(x,ct),Ht&&ps(x,yt),lt;if(ct===null){for(;!zt.done;yt++,zt=z.next())zt=Z(x,zt.value,X),zt!==null&&(N=d(zt,N,yt),Dt===null?lt=zt:Dt.sibling=zt,Dt=zt);return Ht&&ps(x,yt),lt}for(ct=l(ct);!zt.done;yt++,zt=z.next())zt=q(ct,x,yt,zt.value,X),zt!==null&&(e&&zt.alternate!==null&&ct.delete(zt.key===null?yt:zt.key),N=d(zt,N,yt),Dt===null?lt=zt:Dt.sibling=zt,Dt=zt);return e&&ct.forEach(function(NS){return i(x,NS)}),Ht&&ps(x,yt),lt}function $t(x,N,z,X){if(typeof z=="object"&&z!==null&&z.type===P&&z.key===null&&(z=z.props.children),typeof z=="object"&&z!==null){switch(z.$$typeof){case S:t:{for(var lt=z.key;N!==null;){if(N.key===lt){if(lt=z.type,lt===P){if(N.tag===7){a(x,N.sibling),X=h(N,z.props.children),X.return=x,x=X;break t}}else if(N.elementType===lt||typeof lt=="object"&&lt!==null&&lt.$$typeof===w&&Lg(lt)===N.type){a(x,N.sibling),X=h(N,z.props),Yo(X,z),X.return=x,x=X;break t}a(x,N);break}else i(x,N);N=N.sibling}z.type===P?(X=ds(z.props.children,x.mode,X,z.key),X.return=x,x=X):(X=wu(z.type,z.key,z.props,null,x.mode,X),Yo(X,z),X.return=x,x=X)}return v(x);case L:t:{for(lt=z.key;N!==null;){if(N.key===lt)if(N.tag===4&&N.stateNode.containerInfo===z.containerInfo&&N.stateNode.implementation===z.implementation){a(x,N.sibling),X=h(N,z.children||[]),X.return=x,x=X;break t}else{a(x,N);break}else i(x,N);N=N.sibling}X=Jh(z,x.mode,X),X.return=x,x=X}return v(x);case w:return lt=z._init,z=lt(z._payload),$t(x,N,z,X)}if(ae(z))return vt(x,N,z,X);if(k(z)){if(lt=k(z),typeof lt!="function")throw Error(s(150));return z=lt.call(z),gt(x,N,z,X)}if(typeof z.then=="function")return $t(x,N,qu(z),X);if(z.$$typeof===it)return $t(x,N,Du(x,z),X);ju(x,z)}return typeof z=="string"&&z!==""||typeof z=="number"||typeof z=="bigint"?(z=""+z,N!==null&&N.tag===6?(a(x,N.sibling),X=h(N,z),X.return=x,x=X):(a(x,N),X=Wh(z,x.mode,X),X.return=x,x=X),v(x)):a(x,N)}return function(x,N,z,X){try{Ko=0;var lt=$t(x,N,z,X);return _a=null,lt}catch(ct){if(ct===Lo||ct===Nu)throw ct;var Dt=ln(29,ct,null,x.mode);return Dt.lanes=X,Dt.return=x,Dt}finally{}}}var va=zg(!0),Bg=zg(!1),bn=tt(null),ti=null;function ur(e){var i=e.alternate;nt(Se,Se.current&1),nt(bn,e),ti===null&&(i===null||ma.current!==null||i.memoizedState!==null)&&(ti=e)}function Hg(e){if(e.tag===22){if(nt(Se,Se.current),nt(bn,e),ti===null){var i=e.alternate;i!==null&&i.memoizedState!==null&&(ti=e)}}else cr()}function cr(){nt(Se,Se.current),nt(bn,bn.current)}function Vi(e){at(bn),ti===e&&(ti=null),at(Se)}var Se=tt(0);function Fu(e){for(var i=e;i!==null;){if(i.tag===13){var a=i.memoizedState;if(a!==null&&(a=a.dehydrated,a===null||a.data==="$?"||Ad(a)))return i}else if(i.tag===19&&i.memoizedProps.revealOrder!==void 0){if((i.flags&128)!==0)return i}else if(i.child!==null){i.child.return=i,i=i.child;continue}if(i===e)break;for(;i.sibling===null;){if(i.return===null||i.return===e)return null;i=i.return}i.sibling.return=i.return,i=i.sibling}return null}function Vf(e,i,a,l){i=e.memoizedState,a=a(l,i),a=a==null?i:E({},i,a),e.memoizedState=a,e.lanes===0&&(e.updateQueue.baseState=a)}var xf={enqueueSetState:function(e,i,a){e=e._reactInternals;var l=fn(),h=ar(l);h.payload=i,a!=null&&(h.callback=a),i=or(e,h,l),i!==null&&(dn(i,e,l),Bo(i,e,l))},enqueueReplaceState:function(e,i,a){e=e._reactInternals;var l=fn(),h=ar(l);h.tag=1,h.payload=i,a!=null&&(h.callback=a),i=or(e,h,l),i!==null&&(dn(i,e,l),Bo(i,e,l))},enqueueForceUpdate:function(e,i){e=e._reactInternals;var a=fn(),l=ar(a);l.tag=2,i!=null&&(l.callback=i),i=or(e,l,a),i!==null&&(dn(i,e,a),Bo(i,e,a))}};function qg(e,i,a,l,h,d,v){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(l,d,v):i.prototype&&i.prototype.isPureReactComponent?!Oo(a,l)||!Oo(h,d):!0}function jg(e,i,a,l){e=i.state,typeof i.componentWillReceiveProps=="function"&&i.componentWillReceiveProps(a,l),typeof i.UNSAFE_componentWillReceiveProps=="function"&&i.UNSAFE_componentWillReceiveProps(a,l),i.state!==e&&xf.enqueueReplaceState(i,i.state,null)}function As(e,i){var a=i;if("ref"in i){a={};for(var l in i)l!=="ref"&&(a[l]=i[l])}if(e=e.defaultProps){a===i&&(a=E({},a));for(var h in e)a[h]===void 0&&(a[h]=e[h])}return a}var Gu=typeof reportError=="function"?reportError:function(e){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var i=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof e=="object"&&e!==null&&typeof e.message=="string"?String(e.message):String(e),error:e});if(!window.dispatchEvent(i))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",e);return}console.error(e)};function Fg(e){Gu(e)}function Gg(e){console.error(e)}function Qg(e){Gu(e)}function Qu(e,i){try{var a=e.onUncaughtError;a(i.value,{componentStack:i.stack})}catch(l){setTimeout(function(){throw l})}}function Kg(e,i,a){try{var l=e.onCaughtError;l(a.value,{componentStack:a.stack,errorBoundary:i.tag===1?i.stateNode:null})}catch(h){setTimeout(function(){throw h})}}function Pf(e,i,a){return a=ar(a),a.tag=3,a.payload={element:null},a.callback=function(){Qu(e,i)},a}function Yg(e){return e=ar(e),e.tag=3,e}function Xg(e,i,a,l){var h=a.type.getDerivedStateFromError;if(typeof h=="function"){var d=l.value;e.payload=function(){return h(d)},e.callback=function(){Kg(i,a,l)}}var v=a.stateNode;v!==null&&typeof v.componentDidCatch=="function"&&(e.callback=function(){Kg(i,a,l),typeof h!="function"&&(gr===null?gr=new Set([this]):gr.add(this));var T=l.stack;this.componentDidCatch(l.value,{componentStack:T!==null?T:""})})}function NA(e,i,a,l,h){if(a.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){if(i=a.alternate,i!==null&&Po(i,a,h,!0),a=bn.current,a!==null){switch(a.tag){case 13:return ti===null?sd():a.alternate===null&&ue===0&&(ue=3),a.flags&=-257,a.flags|=65536,a.lanes=h,l===cf?a.flags|=16384:(i=a.updateQueue,i===null?a.updateQueue=new Set([l]):i.add(l),od(e,l,h)),!1;case 22:return a.flags|=65536,l===cf?a.flags|=16384:(i=a.updateQueue,i===null?(i={transitions:null,markerInstances:null,retryQueue:new Set([l])},a.updateQueue=i):(a=i.retryQueue,a===null?i.retryQueue=new Set([l]):a.add(l)),od(e,l,h)),!1}throw Error(s(435,a.tag))}return od(e,l,h),sd(),!1}if(Ht)return i=bn.current,i!==null?((i.flags&65536)===0&&(i.flags|=256),i.flags|=65536,i.lanes=h,l!==nf&&(e=Error(s(422),{cause:l}),xo(En(e,a)))):(l!==nf&&(i=Error(s(423),{cause:l}),xo(En(i,a))),e=e.current.alternate,e.flags|=65536,h&=-h,e.lanes|=h,l=En(l,a),h=Pf(e.stateNode,l,h),df(e,h),ue!==4&&(ue=2)),!1;var d=Error(s(520),{cause:l});if(d=En(d,a),el===null?el=[d]:el.push(d),ue!==4&&(ue=2),i===null)return!0;l=En(l,a),a=i;do{switch(a.tag){case 3:return a.flags|=65536,e=h&-h,a.lanes|=e,e=Pf(a.stateNode,l,e),df(a,e),!1;case 1:if(i=a.type,d=a.stateNode,(a.flags&128)===0&&(typeof i.getDerivedStateFromError=="function"||d!==null&&typeof d.componentDidCatch=="function"&&(gr===null||!gr.has(d))))return a.flags|=65536,h&=-h,a.lanes|=h,h=Yg(h),Xg(h,e,a,l),df(a,h),!1}a=a.return}while(a!==null);return!1}var $g=Error(s(461)),Oe=!1;function Ue(e,i,a,l){i.child=e===null?Bg(i,null,a,l):va(i,e.child,a,l)}function Zg(e,i,a,l,h){a=a.render;var d=i.ref;if("ref"in l){var v={};for(var T in l)T!=="ref"&&(v[T]=l[T])}else v=l;return vs(i),l=_f(e,i,a,v,d,h),T=vf(),e!==null&&!Oe?(Ef(e,i,h),xi(e,i,h)):(Ht&&T&&tf(i),i.flags|=1,Ue(e,i,l,h),i.child)}function Wg(e,i,a,l,h){if(e===null){var d=a.type;return typeof d=="function"&&!Zh(d)&&d.defaultProps===void 0&&a.compare===null?(i.tag=15,i.type=d,Jg(e,i,d,l,h)):(e=wu(a.type,null,l,i,i.mode,h),e.ref=i.ref,e.return=i,i.child=e)}if(d=e.child,!jf(e,h)){var v=d.memoizedProps;if(a=a.compare,a=a!==null?a:Oo,a(v,l)&&e.ref===i.ref)return xi(e,i,h)}return i.flags|=1,e=Ii(d,l),e.ref=i.ref,e.return=i,i.child=e}function Jg(e,i,a,l,h){if(e!==null){var d=e.memoizedProps;if(Oo(d,l)&&e.ref===i.ref)if(Oe=!1,i.pendingProps=l=d,jf(e,h))(e.flags&131072)!==0&&(Oe=!0);else return i.lanes=e.lanes,xi(e,i,h)}return kf(e,i,a,l,h)}function ty(e,i,a){var l=i.pendingProps,h=l.children,d=e!==null?e.memoizedState:null;if(l.mode==="hidden"){if((i.flags&128)!==0){if(l=d!==null?d.baseLanes|a:a,e!==null){for(h=i.child=e.child,d=0;h!==null;)d=d|h.lanes|h.childLanes,h=h.sibling;i.childLanes=d&~l}else i.childLanes=0,i.child=null;return ey(e,i,l,a)}if((a&536870912)!==0)i.memoizedState={baseLanes:0,cachePool:null},e!==null&&Ou(i,d!==null?d.cachePool:null),d!==null?Jp(i,d):pf(),Hg(i);else return i.lanes=i.childLanes=536870912,ey(e,i,d!==null?d.baseLanes|a:a,a)}else d!==null?(Ou(i,d.cachePool),Jp(i,d),cr(),i.memoizedState=null):(e!==null&&Ou(i,null),pf(),cr());return Ue(e,i,h,a),i.child}function ey(e,i,a,l){var h=uf();return h=h===null?null:{parent:Ae._currentValue,pool:h},i.memoizedState={baseLanes:a,cachePool:h},e!==null&&Ou(i,null),pf(),Hg(i),e!==null&&Po(e,i,l,!0),null}function Ku(e,i){var a=i.ref;if(a===null)e!==null&&e.ref!==null&&(i.flags|=4194816);else{if(typeof a!="function"&&typeof a!="object")throw Error(s(284));(e===null||e.ref!==a)&&(i.flags|=4194816)}}function kf(e,i,a,l,h){return vs(i),a=_f(e,i,a,l,void 0,h),l=vf(),e!==null&&!Oe?(Ef(e,i,h),xi(e,i,h)):(Ht&&l&&tf(i),i.flags|=1,Ue(e,i,a,h),i.child)}function ny(e,i,a,l,h,d){return vs(i),i.updateQueue=null,a=eg(i,l,a,h),tg(e),l=vf(),e!==null&&!Oe?(Ef(e,i,d),xi(e,i,d)):(Ht&&l&&tf(i),i.flags|=1,Ue(e,i,a,d),i.child)}function iy(e,i,a,l,h){if(vs(i),i.stateNode===null){var d=ua,v=a.contextType;typeof v=="object"&&v!==null&&(d=Fe(v)),d=new a(l,d),i.memoizedState=d.state!==null&&d.state!==void 0?d.state:null,d.updater=xf,i.stateNode=d,d._reactInternals=i,d=i.stateNode,d.props=l,d.state=i.memoizedState,d.refs={},hf(i),v=a.contextType,d.context=typeof v=="object"&&v!==null?Fe(v):ua,d.state=i.memoizedState,v=a.getDerivedStateFromProps,typeof v=="function"&&(Vf(i,a,v,l),d.state=i.memoizedState),typeof a.getDerivedStateFromProps=="function"||typeof d.getSnapshotBeforeUpdate=="function"||typeof d.UNSAFE_componentWillMount!="function"&&typeof d.componentWillMount!="function"||(v=d.state,typeof d.componentWillMount=="function"&&d.componentWillMount(),typeof d.UNSAFE_componentWillMount=="function"&&d.UNSAFE_componentWillMount(),v!==d.state&&xf.enqueueReplaceState(d,d.state,null),qo(i,l,d,h),Ho(),d.state=i.memoizedState),typeof d.componentDidMount=="function"&&(i.flags|=4194308),l=!0}else if(e===null){d=i.stateNode;var T=i.memoizedProps,I=As(a,T);d.props=I;var B=d.context,Y=a.contextType;v=ua,typeof Y=="object"&&Y!==null&&(v=Fe(Y));var Z=a.getDerivedStateFromProps;Y=typeof Z=="function"||typeof d.getSnapshotBeforeUpdate=="function",T=i.pendingProps!==T,Y||typeof d.UNSAFE_componentWillReceiveProps!="function"&&typeof d.componentWillReceiveProps!="function"||(T||B!==v)&&jg(i,d,l,v),sr=!1;var H=i.memoizedState;d.state=H,qo(i,l,d,h),Ho(),B=i.memoizedState,T||H!==B||sr?(typeof Z=="function"&&(Vf(i,a,Z,l),B=i.memoizedState),(I=sr||qg(i,a,I,l,H,B,v))?(Y||typeof d.UNSAFE_componentWillMount!="function"&&typeof d.componentWillMount!="function"||(typeof d.componentWillMount=="function"&&d.componentWillMount(),typeof d.UNSAFE_componentWillMount=="function"&&d.UNSAFE_componentWillMount()),typeof d.componentDidMount=="function"&&(i.flags|=4194308)):(typeof d.componentDidMount=="function"&&(i.flags|=4194308),i.memoizedProps=l,i.memoizedState=B),d.props=l,d.state=B,d.context=v,l=I):(typeof d.componentDidMount=="function"&&(i.flags|=4194308),l=!1)}else{d=i.stateNode,ff(e,i),v=i.memoizedProps,Y=As(a,v),d.props=Y,Z=i.pendingProps,H=d.context,B=a.contextType,I=ua,typeof B=="object"&&B!==null&&(I=Fe(B)),T=a.getDerivedStateFromProps,(B=typeof T=="function"||typeof d.getSnapshotBeforeUpdate=="function")||typeof d.UNSAFE_componentWillReceiveProps!="function"&&typeof d.componentWillReceiveProps!="function"||(v!==Z||H!==I)&&jg(i,d,l,I),sr=!1,H=i.memoizedState,d.state=H,qo(i,l,d,h),Ho();var q=i.memoizedState;v!==Z||H!==q||sr||e!==null&&e.dependencies!==null&&Cu(e.dependencies)?(typeof T=="function"&&(Vf(i,a,T,l),q=i.memoizedState),(Y=sr||qg(i,a,Y,l,H,q,I)||e!==null&&e.dependencies!==null&&Cu(e.dependencies))?(B||typeof d.UNSAFE_componentWillUpdate!="function"&&typeof d.componentWillUpdate!="function"||(typeof d.componentWillUpdate=="function"&&d.componentWillUpdate(l,q,I),typeof d.UNSAFE_componentWillUpdate=="function"&&d.UNSAFE_componentWillUpdate(l,q,I)),typeof d.componentDidUpdate=="function"&&(i.flags|=4),typeof d.getSnapshotBeforeUpdate=="function"&&(i.flags|=1024)):(typeof d.componentDidUpdate!="function"||v===e.memoizedProps&&H===e.memoizedState||(i.flags|=4),typeof d.getSnapshotBeforeUpdate!="function"||v===e.memoizedProps&&H===e.memoizedState||(i.flags|=1024),i.memoizedProps=l,i.memoizedState=q),d.props=l,d.state=q,d.context=I,l=Y):(typeof d.componentDidUpdate!="function"||v===e.memoizedProps&&H===e.memoizedState||(i.flags|=4),typeof d.getSnapshotBeforeUpdate!="function"||v===e.memoizedProps&&H===e.memoizedState||(i.flags|=1024),l=!1)}return d=l,Ku(e,i),l=(i.flags&128)!==0,d||l?(d=i.stateNode,a=l&&typeof a.getDerivedStateFromError!="function"?null:d.render(),i.flags|=1,e!==null&&l?(i.child=va(i,e.child,null,h),i.child=va(i,null,a,h)):Ue(e,i,a,h),i.memoizedState=d.state,e=i.child):e=xi(e,i,h),e}function ry(e,i,a,l){return Vo(),i.flags|=256,Ue(e,i,a,l),i.child}var Uf={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Lf(e){return{baseLanes:e,cachePool:Gp()}}function zf(e,i,a){return e=e!==null?e.childLanes&~a:0,i&&(e|=wn),e}function sy(e,i,a){var l=i.pendingProps,h=!1,d=(i.flags&128)!==0,v;if((v=d)||(v=e!==null&&e.memoizedState===null?!1:(Se.current&2)!==0),v&&(h=!0,i.flags&=-129),v=(i.flags&32)!==0,i.flags&=-33,e===null){if(Ht){if(h?ur(i):cr(),Ht){var T=le,I;if(I=T){t:{for(I=T,T=Jn;I.nodeType!==8;){if(!T){T=null;break t}if(I=Pn(I.nextSibling),I===null){T=null;break t}}T=I}T!==null?(i.memoizedState={dehydrated:T,treeContext:ms!==null?{id:Ci,overflow:Di}:null,retryLane:536870912,hydrationErrors:null},I=ln(18,null,null,0),I.stateNode=T,I.return=i,i.child=I,Je=i,le=null,I=!0):I=!1}I||ys(i)}if(T=i.memoizedState,T!==null&&(T=T.dehydrated,T!==null))return Ad(T)?i.lanes=32:i.lanes=536870912,null;Vi(i)}return T=l.children,l=l.fallback,h?(cr(),h=i.mode,T=Yu({mode:"hidden",children:T},h),l=ds(l,h,a,null),T.return=i,l.return=i,T.sibling=l,i.child=T,h=i.child,h.memoizedState=Lf(a),h.childLanes=zf(e,v,a),i.memoizedState=Uf,l):(ur(i),Bf(i,T))}if(I=e.memoizedState,I!==null&&(T=I.dehydrated,T!==null)){if(d)i.flags&256?(ur(i),i.flags&=-257,i=Hf(e,i,a)):i.memoizedState!==null?(cr(),i.child=e.child,i.flags|=128,i=null):(cr(),h=l.fallback,T=i.mode,l=Yu({mode:"visible",children:l.children},T),h=ds(h,T,a,null),h.flags|=2,l.return=i,h.return=i,l.sibling=h,i.child=l,va(i,e.child,null,a),l=i.child,l.memoizedState=Lf(a),l.childLanes=zf(e,v,a),i.memoizedState=Uf,i=h);else if(ur(i),Ad(T)){if(v=T.nextSibling&&T.nextSibling.dataset,v)var B=v.dgst;v=B,l=Error(s(419)),l.stack="",l.digest=v,xo({value:l,source:null,stack:null}),i=Hf(e,i,a)}else if(Oe||Po(e,i,a,!1),v=(a&e.childLanes)!==0,Oe||v){if(v=Jt,v!==null&&(l=a&-a,l=(l&42)!==0?1:Zi(l),l=(l&(v.suspendedLanes|a))!==0?0:l,l!==0&&l!==I.retryLane))throw I.retryLane=l,la(e,l),dn(v,e,l),$g;T.data==="$?"||sd(),i=Hf(e,i,a)}else T.data==="$?"?(i.flags|=192,i.child=e.child,i=null):(e=I.treeContext,le=Pn(T.nextSibling),Je=i,Ht=!0,gs=null,Jn=!1,e!==null&&(An[Sn++]=Ci,An[Sn++]=Di,An[Sn++]=ms,Ci=e.id,Di=e.overflow,ms=i),i=Bf(i,l.children),i.flags|=4096);return i}return h?(cr(),h=l.fallback,T=i.mode,I=e.child,B=I.sibling,l=Ii(I,{mode:"hidden",children:l.children}),l.subtreeFlags=I.subtreeFlags&65011712,B!==null?h=Ii(B,h):(h=ds(h,T,a,null),h.flags|=2),h.return=i,l.return=i,l.sibling=h,i.child=l,l=h,h=i.child,T=e.child.memoizedState,T===null?T=Lf(a):(I=T.cachePool,I!==null?(B=Ae._currentValue,I=I.parent!==B?{parent:B,pool:B}:I):I=Gp(),T={baseLanes:T.baseLanes|a,cachePool:I}),h.memoizedState=T,h.childLanes=zf(e,v,a),i.memoizedState=Uf,l):(ur(i),a=e.child,e=a.sibling,a=Ii(a,{mode:"visible",children:l.children}),a.return=i,a.sibling=null,e!==null&&(v=i.deletions,v===null?(i.deletions=[e],i.flags|=16):v.push(e)),i.child=a,i.memoizedState=null,a)}function Bf(e,i){return i=Yu({mode:"visible",children:i},e.mode),i.return=e,e.child=i}function Yu(e,i){return e=ln(22,e,null,i),e.lanes=0,e.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null},e}function Hf(e,i,a){return va(i,e.child,null,a),e=Bf(i,i.pendingProps.children),e.flags|=2,i.memoizedState=null,e}function ay(e,i,a){e.lanes|=i;var l=e.alternate;l!==null&&(l.lanes|=i),sf(e.return,i,a)}function qf(e,i,a,l,h){var d=e.memoizedState;d===null?e.memoizedState={isBackwards:i,rendering:null,renderingStartTime:0,last:l,tail:a,tailMode:h}:(d.isBackwards=i,d.rendering=null,d.renderingStartTime=0,d.last=l,d.tail=a,d.tailMode=h)}function oy(e,i,a){var l=i.pendingProps,h=l.revealOrder,d=l.tail;if(Ue(e,i,l.children,a),l=Se.current,(l&2)!==0)l=l&1|2,i.flags|=128;else{if(e!==null&&(e.flags&128)!==0)t:for(e=i.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&ay(e,a,i);else if(e.tag===19)ay(e,a,i);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===i)break t;for(;e.sibling===null;){if(e.return===null||e.return===i)break t;e=e.return}e.sibling.return=e.return,e=e.sibling}l&=1}switch(nt(Se,l),h){case"forwards":for(a=i.child,h=null;a!==null;)e=a.alternate,e!==null&&Fu(e)===null&&(h=a),a=a.sibling;a=h,a===null?(h=i.child,i.child=null):(h=a.sibling,a.sibling=null),qf(i,!1,h,a,d);break;case"backwards":for(a=null,h=i.child,i.child=null;h!==null;){if(e=h.alternate,e!==null&&Fu(e)===null){i.child=h;break}e=h.sibling,h.sibling=a,a=h,h=e}qf(i,!0,a,null,d);break;case"together":qf(i,!1,null,null,void 0);break;default:i.memoizedState=null}return i.child}function xi(e,i,a){if(e!==null&&(i.dependencies=e.dependencies),pr|=i.lanes,(a&i.childLanes)===0)if(e!==null){if(Po(e,i,a,!1),(a&i.childLanes)===0)return null}else return null;if(e!==null&&i.child!==e.child)throw Error(s(153));if(i.child!==null){for(e=i.child,a=Ii(e,e.pendingProps),i.child=a,a.return=i;e.sibling!==null;)e=e.sibling,a=a.sibling=Ii(e,e.pendingProps),a.return=i;a.sibling=null}return i.child}function jf(e,i){return(e.lanes&i)!==0?!0:(e=e.dependencies,!!(e!==null&&Cu(e)))}function MA(e,i,a){switch(i.tag){case 3:Wt(i,i.stateNode.containerInfo),rr(i,Ae,e.memoizedState.cache),Vo();break;case 27:case 5:$i(i);break;case 4:Wt(i,i.stateNode.containerInfo);break;case 10:rr(i,i.type,i.memoizedProps.value);break;case 13:var l=i.memoizedState;if(l!==null)return l.dehydrated!==null?(ur(i),i.flags|=128,null):(a&i.child.childLanes)!==0?sy(e,i,a):(ur(i),e=xi(e,i,a),e!==null?e.sibling:null);ur(i);break;case 19:var h=(e.flags&128)!==0;if(l=(a&i.childLanes)!==0,l||(Po(e,i,a,!1),l=(a&i.childLanes)!==0),h){if(l)return oy(e,i,a);i.flags|=128}if(h=i.memoizedState,h!==null&&(h.rendering=null,h.tail=null,h.lastEffect=null),nt(Se,Se.current),l)break;return null;case 22:case 23:return i.lanes=0,ty(e,i,a);case 24:rr(i,Ae,e.memoizedState.cache)}return xi(e,i,a)}function ly(e,i,a){if(e!==null)if(e.memoizedProps!==i.pendingProps)Oe=!0;else{if(!jf(e,a)&&(i.flags&128)===0)return Oe=!1,MA(e,i,a);Oe=(e.flags&131072)!==0}else Oe=!1,Ht&&(i.flags&1048576)!==0&&Lp(i,Iu,i.index);switch(i.lanes=0,i.tag){case 16:t:{e=i.pendingProps;var l=i.elementType,h=l._init;if(l=h(l._payload),i.type=l,typeof l=="function")Zh(l)?(e=As(l,e),i.tag=1,i=iy(null,i,l,e,a)):(i.tag=0,i=kf(null,i,l,e,a));else{if(l!=null){if(h=l.$$typeof,h===ht){i.tag=11,i=Zg(null,i,l,e,a);break t}else if(h===M){i.tag=14,i=Wg(null,i,l,e,a);break t}}throw i=xe(l)||l,Error(s(306,i,""))}}return i;case 0:return kf(e,i,i.type,i.pendingProps,a);case 1:return l=i.type,h=As(l,i.pendingProps),iy(e,i,l,h,a);case 3:t:{if(Wt(i,i.stateNode.containerInfo),e===null)throw Error(s(387));l=i.pendingProps;var d=i.memoizedState;h=d.element,ff(e,i),qo(i,l,null,a);var v=i.memoizedState;if(l=v.cache,rr(i,Ae,l),l!==d.cache&&af(i,[Ae],a,!0),Ho(),l=v.element,d.isDehydrated)if(d={element:l,isDehydrated:!1,cache:v.cache},i.updateQueue.baseState=d,i.memoizedState=d,i.flags&256){i=ry(e,i,l,a);break t}else if(l!==h){h=En(Error(s(424)),i),xo(h),i=ry(e,i,l,a);break t}else{switch(e=i.stateNode.containerInfo,e.nodeType){case 9:e=e.body;break;default:e=e.nodeName==="HTML"?e.ownerDocument.body:e}for(le=Pn(e.firstChild),Je=i,Ht=!0,gs=null,Jn=!0,a=Bg(i,null,l,a),i.child=a;a;)a.flags=a.flags&-3|4096,a=a.sibling}else{if(Vo(),l===h){i=xi(e,i,a);break t}Ue(e,i,l,a)}i=i.child}return i;case 26:return Ku(e,i),e===null?(a=f_(i.type,null,i.pendingProps,null))?i.memoizedState=a:Ht||(a=i.type,e=i.pendingProps,l=lc(Tt.current).createElement(a),l[ve]=i,l[me]=e,ze(l,a,e),ce(l),i.stateNode=l):i.memoizedState=f_(i.type,e.memoizedProps,i.pendingProps,e.memoizedState),null;case 27:return $i(i),e===null&&Ht&&(l=i.stateNode=u_(i.type,i.pendingProps,Tt.current),Je=i,Jn=!0,h=le,vr(i.type)?(Sd=h,le=Pn(l.firstChild)):le=h),Ue(e,i,i.pendingProps.children,a),Ku(e,i),e===null&&(i.flags|=4194304),i.child;case 5:return e===null&&Ht&&((h=l=le)&&(l=aS(l,i.type,i.pendingProps,Jn),l!==null?(i.stateNode=l,Je=i,le=Pn(l.firstChild),Jn=!1,h=!0):h=!1),h||ys(i)),$i(i),h=i.type,d=i.pendingProps,v=e!==null?e.memoizedProps:null,l=d.children,vd(h,d)?l=null:v!==null&&vd(h,v)&&(i.flags|=32),i.memoizedState!==null&&(h=_f(e,i,bA,null,null,a),cl._currentValue=h),Ku(e,i),Ue(e,i,l,a),i.child;case 6:return e===null&&Ht&&((e=a=le)&&(a=oS(a,i.pendingProps,Jn),a!==null?(i.stateNode=a,Je=i,le=null,e=!0):e=!1),e||ys(i)),null;case 13:return sy(e,i,a);case 4:return Wt(i,i.stateNode.containerInfo),l=i.pendingProps,e===null?i.child=va(i,null,l,a):Ue(e,i,l,a),i.child;case 11:return Zg(e,i,i.type,i.pendingProps,a);case 7:return Ue(e,i,i.pendingProps,a),i.child;case 8:return Ue(e,i,i.pendingProps.children,a),i.child;case 12:return Ue(e,i,i.pendingProps.children,a),i.child;case 10:return l=i.pendingProps,rr(i,i.type,l.value),Ue(e,i,l.children,a),i.child;case 9:return h=i.type._context,l=i.pendingProps.children,vs(i),h=Fe(h),l=l(h),i.flags|=1,Ue(e,i,l,a),i.child;case 14:return Wg(e,i,i.type,i.pendingProps,a);case 15:return Jg(e,i,i.type,i.pendingProps,a);case 19:return oy(e,i,a);case 31:return l=i.pendingProps,a=i.mode,l={mode:l.mode,children:l.children},e===null?(a=Yu(l,a),a.ref=i.ref,i.child=a,a.return=i,i=a):(a=Ii(e.child,l),a.ref=i.ref,i.child=a,a.return=i,i=a),i;case 22:return ty(e,i,a);case 24:return vs(i),l=Fe(Ae),e===null?(h=uf(),h===null&&(h=Jt,d=of(),h.pooledCache=d,d.refCount++,d!==null&&(h.pooledCacheLanes|=a),h=d),i.memoizedState={parent:l,cache:h},hf(i),rr(i,Ae,h)):((e.lanes&a)!==0&&(ff(e,i),qo(i,null,null,a),Ho()),h=e.memoizedState,d=i.memoizedState,h.parent!==l?(h={parent:l,cache:l},i.memoizedState=h,i.lanes===0&&(i.memoizedState=i.updateQueue.baseState=h),rr(i,Ae,l)):(l=d.cache,rr(i,Ae,l),l!==h.cache&&af(i,[Ae],a,!0))),Ue(e,i,i.pendingProps.children,a),i.child;case 29:throw i.pendingProps}throw Error(s(156,i.tag))}function Pi(e){e.flags|=4}function uy(e,i){if(i.type!=="stylesheet"||(i.state.loading&4)!==0)e.flags&=-16777217;else if(e.flags|=16777216,!y_(i)){if(i=bn.current,i!==null&&((kt&4194048)===kt?ti!==null:(kt&62914560)!==kt&&(kt&536870912)===0||i!==ti))throw zo=cf,Qp;e.flags|=8192}}function Xu(e,i){i!==null&&(e.flags|=4),e.flags&16384&&(i=e.tag!==22?ho():536870912,e.lanes|=i,Sa|=i)}function Xo(e,i){if(!Ht)switch(e.tailMode){case"hidden":i=e.tail;for(var a=null;i!==null;)i.alternate!==null&&(a=i),i=i.sibling;a===null?e.tail=null:a.sibling=null;break;case"collapsed":a=e.tail;for(var l=null;a!==null;)a.alternate!==null&&(l=a),a=a.sibling;l===null?i||e.tail===null?e.tail=null:e.tail.sibling=null:l.sibling=null}}function ie(e){var i=e.alternate!==null&&e.alternate.child===e.child,a=0,l=0;if(i)for(var h=e.child;h!==null;)a|=h.lanes|h.childLanes,l|=h.subtreeFlags&65011712,l|=h.flags&65011712,h.return=e,h=h.sibling;else for(h=e.child;h!==null;)a|=h.lanes|h.childLanes,l|=h.subtreeFlags,l|=h.flags,h.return=e,h=h.sibling;return e.subtreeFlags|=l,e.childLanes=a,i}function VA(e,i,a){var l=i.pendingProps;switch(ef(i),i.tag){case 31:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return ie(i),null;case 1:return ie(i),null;case 3:return a=i.stateNode,l=null,e!==null&&(l=e.memoizedState.cache),i.memoizedState.cache!==l&&(i.flags|=2048),Ni(Ae),Hn(),a.pendingContext&&(a.context=a.pendingContext,a.pendingContext=null),(e===null||e.child===null)&&(Mo(i)?Pi(i):e===null||e.memoizedState.isDehydrated&&(i.flags&256)===0||(i.flags|=1024,Hp())),ie(i),null;case 26:return a=i.memoizedState,e===null?(Pi(i),a!==null?(ie(i),uy(i,a)):(ie(i),i.flags&=-16777217)):a?a!==e.memoizedState?(Pi(i),ie(i),uy(i,a)):(ie(i),i.flags&=-16777217):(e.memoizedProps!==l&&Pi(i),ie(i),i.flags&=-16777217),null;case 27:mi(i),a=Tt.current;var h=i.type;if(e!==null&&i.stateNode!=null)e.memoizedProps!==l&&Pi(i);else{if(!l){if(i.stateNode===null)throw Error(s(166));return ie(i),null}e=mt.current,Mo(i)?zp(i):(e=u_(h,l,a),i.stateNode=e,Pi(i))}return ie(i),null;case 5:if(mi(i),a=i.type,e!==null&&i.stateNode!=null)e.memoizedProps!==l&&Pi(i);else{if(!l){if(i.stateNode===null)throw Error(s(166));return ie(i),null}if(e=mt.current,Mo(i))zp(i);else{switch(h=lc(Tt.current),e){case 1:e=h.createElementNS("http://www.w3.org/2000/svg",a);break;case 2:e=h.createElementNS("http://www.w3.org/1998/Math/MathML",a);break;default:switch(a){case"svg":e=h.createElementNS("http://www.w3.org/2000/svg",a);break;case"math":e=h.createElementNS("http://www.w3.org/1998/Math/MathML",a);break;case"script":e=h.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild);break;case"select":e=typeof l.is=="string"?h.createElement("select",{is:l.is}):h.createElement("select"),l.multiple?e.multiple=!0:l.size&&(e.size=l.size);break;default:e=typeof l.is=="string"?h.createElement(a,{is:l.is}):h.createElement(a)}}e[ve]=i,e[me]=l;t:for(h=i.child;h!==null;){if(h.tag===5||h.tag===6)e.appendChild(h.stateNode);else if(h.tag!==4&&h.tag!==27&&h.child!==null){h.child.return=h,h=h.child;continue}if(h===i)break t;for(;h.sibling===null;){if(h.return===null||h.return===i)break t;h=h.return}h.sibling.return=h.return,h=h.sibling}i.stateNode=e;t:switch(ze(e,a,l),a){case"button":case"input":case"select":case"textarea":e=!!l.autoFocus;break t;case"img":e=!0;break t;default:e=!1}e&&Pi(i)}}return ie(i),i.flags&=-16777217,null;case 6:if(e&&i.stateNode!=null)e.memoizedProps!==l&&Pi(i);else{if(typeof l!="string"&&i.stateNode===null)throw Error(s(166));if(e=Tt.current,Mo(i)){if(e=i.stateNode,a=i.memoizedProps,l=null,h=Je,h!==null)switch(h.tag){case 27:case 5:l=h.memoizedProps}e[ve]=i,e=!!(e.nodeValue===a||l!==null&&l.suppressHydrationWarning===!0||n_(e.nodeValue,a)),e||ys(i)}else e=lc(e).createTextNode(l),e[ve]=i,i.stateNode=e}return ie(i),null;case 13:if(l=i.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(h=Mo(i),l!==null&&l.dehydrated!==null){if(e===null){if(!h)throw Error(s(318));if(h=i.memoizedState,h=h!==null?h.dehydrated:null,!h)throw Error(s(317));h[ve]=i}else Vo(),(i.flags&128)===0&&(i.memoizedState=null),i.flags|=4;ie(i),h=!1}else h=Hp(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=h),h=!0;if(!h)return i.flags&256?(Vi(i),i):(Vi(i),null)}if(Vi(i),(i.flags&128)!==0)return i.lanes=a,i;if(a=l!==null,e=e!==null&&e.memoizedState!==null,a){l=i.child,h=null,l.alternate!==null&&l.alternate.memoizedState!==null&&l.alternate.memoizedState.cachePool!==null&&(h=l.alternate.memoizedState.cachePool.pool);var d=null;l.memoizedState!==null&&l.memoizedState.cachePool!==null&&(d=l.memoizedState.cachePool.pool),d!==h&&(l.flags|=2048)}return a!==e&&a&&(i.child.flags|=8192),Xu(i,i.updateQueue),ie(i),null;case 4:return Hn(),e===null&&md(i.stateNode.containerInfo),ie(i),null;case 10:return Ni(i.type),ie(i),null;case 19:if(at(Se),h=i.memoizedState,h===null)return ie(i),null;if(l=(i.flags&128)!==0,d=h.rendering,d===null)if(l)Xo(h,!1);else{if(ue!==0||e!==null&&(e.flags&128)!==0)for(e=i.child;e!==null;){if(d=Fu(e),d!==null){for(i.flags|=128,Xo(h,!1),e=d.updateQueue,i.updateQueue=e,Xu(i,e),i.subtreeFlags=0,e=a,a=i.child;a!==null;)Up(a,e),a=a.sibling;return nt(Se,Se.current&1|2),i.child}e=e.sibling}h.tail!==null&&mn()>Wu&&(i.flags|=128,l=!0,Xo(h,!1),i.lanes=4194304)}else{if(!l)if(e=Fu(d),e!==null){if(i.flags|=128,l=!0,e=e.updateQueue,i.updateQueue=e,Xu(i,e),Xo(h,!0),h.tail===null&&h.tailMode==="hidden"&&!d.alternate&&!Ht)return ie(i),null}else 2*mn()-h.renderingStartTime>Wu&&a!==536870912&&(i.flags|=128,l=!0,Xo(h,!1),i.lanes=4194304);h.isBackwards?(d.sibling=i.child,i.child=d):(e=h.last,e!==null?e.sibling=d:i.child=d,h.last=d)}return h.tail!==null?(i=h.tail,h.rendering=i,h.tail=i.sibling,h.renderingStartTime=mn(),i.sibling=null,e=Se.current,nt(Se,l?e&1|2:e&1),i):(ie(i),null);case 22:case 23:return Vi(i),gf(),l=i.memoizedState!==null,e!==null?e.memoizedState!==null!==l&&(i.flags|=8192):l&&(i.flags|=8192),l?(a&536870912)!==0&&(i.flags&128)===0&&(ie(i),i.subtreeFlags&6&&(i.flags|=8192)):ie(i),a=i.updateQueue,a!==null&&Xu(i,a.retryQueue),a=null,e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(a=e.memoizedState.cachePool.pool),l=null,i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(l=i.memoizedState.cachePool.pool),l!==a&&(i.flags|=2048),e!==null&&at(Es),null;case 24:return a=null,e!==null&&(a=e.memoizedState.cache),i.memoizedState.cache!==a&&(i.flags|=2048),Ni(Ae),ie(i),null;case 25:return null;case 30:return null}throw Error(s(156,i.tag))}function xA(e,i){switch(ef(i),i.tag){case 1:return e=i.flags,e&65536?(i.flags=e&-65537|128,i):null;case 3:return Ni(Ae),Hn(),e=i.flags,(e&65536)!==0&&(e&128)===0?(i.flags=e&-65537|128,i):null;case 26:case 27:case 5:return mi(i),null;case 13:if(Vi(i),e=i.memoizedState,e!==null&&e.dehydrated!==null){if(i.alternate===null)throw Error(s(340));Vo()}return e=i.flags,e&65536?(i.flags=e&-65537|128,i):null;case 19:return at(Se),null;case 4:return Hn(),null;case 10:return Ni(i.type),null;case 22:case 23:return Vi(i),gf(),e!==null&&at(Es),e=i.flags,e&65536?(i.flags=e&-65537|128,i):null;case 24:return Ni(Ae),null;case 25:return null;default:return null}}function cy(e,i){switch(ef(i),i.tag){case 3:Ni(Ae),Hn();break;case 26:case 27:case 5:mi(i);break;case 4:Hn();break;case 13:Vi(i);break;case 19:at(Se);break;case 10:Ni(i.type);break;case 22:case 23:Vi(i),gf(),e!==null&&at(Es);break;case 24:Ni(Ae)}}function $o(e,i){try{var a=i.updateQueue,l=a!==null?a.lastEffect:null;if(l!==null){var h=l.next;a=h;do{if((a.tag&e)===e){l=void 0;var d=a.create,v=a.inst;l=d(),v.destroy=l}a=a.next}while(a!==h)}}catch(T){Zt(i,i.return,T)}}function hr(e,i,a){try{var l=i.updateQueue,h=l!==null?l.lastEffect:null;if(h!==null){var d=h.next;l=d;do{if((l.tag&e)===e){var v=l.inst,T=v.destroy;if(T!==void 0){v.destroy=void 0,h=i;var I=a,B=T;try{B()}catch(Y){Zt(h,I,Y)}}}l=l.next}while(l!==d)}}catch(Y){Zt(i,i.return,Y)}}function hy(e){var i=e.updateQueue;if(i!==null){var a=e.stateNode;try{Wp(i,a)}catch(l){Zt(e,e.return,l)}}}function fy(e,i,a){a.props=As(e.type,e.memoizedProps),a.state=e.memoizedState;try{a.componentWillUnmount()}catch(l){Zt(e,i,l)}}function Zo(e,i){try{var a=e.ref;if(a!==null){switch(e.tag){case 26:case 27:case 5:var l=e.stateNode;break;case 30:l=e.stateNode;break;default:l=e.stateNode}typeof a=="function"?e.refCleanup=a(l):a.current=l}}catch(h){Zt(e,i,h)}}function ei(e,i){var a=e.ref,l=e.refCleanup;if(a!==null)if(typeof l=="function")try{l()}catch(h){Zt(e,i,h)}finally{e.refCleanup=null,e=e.alternate,e!=null&&(e.refCleanup=null)}else if(typeof a=="function")try{a(null)}catch(h){Zt(e,i,h)}else a.current=null}function dy(e){var i=e.type,a=e.memoizedProps,l=e.stateNode;try{t:switch(i){case"button":case"input":case"select":case"textarea":a.autoFocus&&l.focus();break t;case"img":a.src?l.src=a.src:a.srcSet&&(l.srcset=a.srcSet)}}catch(h){Zt(e,e.return,h)}}function Ff(e,i,a){try{var l=e.stateNode;eS(l,e.type,a,i),l[me]=i}catch(h){Zt(e,e.return,h)}}function my(e){return e.tag===5||e.tag===3||e.tag===26||e.tag===27&&vr(e.type)||e.tag===4}function Gf(e){t:for(;;){for(;e.sibling===null;){if(e.return===null||my(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.tag===27&&vr(e.type)||e.flags&2||e.child===null||e.tag===4)continue t;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function Qf(e,i,a){var l=e.tag;if(l===5||l===6)e=e.stateNode,i?(a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a).insertBefore(e,i):(i=a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a,i.appendChild(e),a=a._reactRootContainer,a!=null||i.onclick!==null||(i.onclick=oc));else if(l!==4&&(l===27&&vr(e.type)&&(a=e.stateNode,i=null),e=e.child,e!==null))for(Qf(e,i,a),e=e.sibling;e!==null;)Qf(e,i,a),e=e.sibling}function $u(e,i,a){var l=e.tag;if(l===5||l===6)e=e.stateNode,i?a.insertBefore(e,i):a.appendChild(e);else if(l!==4&&(l===27&&vr(e.type)&&(a=e.stateNode),e=e.child,e!==null))for($u(e,i,a),e=e.sibling;e!==null;)$u(e,i,a),e=e.sibling}function py(e){var i=e.stateNode,a=e.memoizedProps;try{for(var l=e.type,h=i.attributes;h.length;)i.removeAttributeNode(h[0]);ze(i,l,a),i[ve]=e,i[me]=a}catch(d){Zt(e,e.return,d)}}var ki=!1,fe=!1,Kf=!1,gy=typeof WeakSet=="function"?WeakSet:Set,Ne=null;function PA(e,i){if(e=e.containerInfo,yd=mc,e=Ip(e),Fh(e)){if("selectionStart"in e)var a={start:e.selectionStart,end:e.selectionEnd};else t:{a=(a=e.ownerDocument)&&a.defaultView||window;var l=a.getSelection&&a.getSelection();if(l&&l.rangeCount!==0){a=l.anchorNode;var h=l.anchorOffset,d=l.focusNode;l=l.focusOffset;try{a.nodeType,d.nodeType}catch{a=null;break t}var v=0,T=-1,I=-1,B=0,Y=0,Z=e,H=null;e:for(;;){for(var q;Z!==a||h!==0&&Z.nodeType!==3||(T=v+h),Z!==d||l!==0&&Z.nodeType!==3||(I=v+l),Z.nodeType===3&&(v+=Z.nodeValue.length),(q=Z.firstChild)!==null;)H=Z,Z=q;for(;;){if(Z===e)break e;if(H===a&&++B===h&&(T=v),H===d&&++Y===l&&(I=v),(q=Z.nextSibling)!==null)break;Z=H,H=Z.parentNode}Z=q}a=T===-1||I===-1?null:{start:T,end:I}}else a=null}a=a||{start:0,end:0}}else a=null;for(_d={focusedElem:e,selectionRange:a},mc=!1,Ne=i;Ne!==null;)if(i=Ne,e=i.child,(i.subtreeFlags&1024)!==0&&e!==null)e.return=i,Ne=e;else for(;Ne!==null;){switch(i=Ne,d=i.alternate,e=i.flags,i.tag){case 0:break;case 11:case 15:break;case 1:if((e&1024)!==0&&d!==null){e=void 0,a=i,h=d.memoizedProps,d=d.memoizedState,l=a.stateNode;try{var vt=As(a.type,h,a.elementType===a.type);e=l.getSnapshotBeforeUpdate(vt,d),l.__reactInternalSnapshotBeforeUpdate=e}catch(gt){Zt(a,a.return,gt)}}break;case 3:if((e&1024)!==0){if(e=i.stateNode.containerInfo,a=e.nodeType,a===9)Td(e);else if(a===1)switch(e.nodeName){case"HEAD":case"HTML":case"BODY":Td(e);break;default:e.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((e&1024)!==0)throw Error(s(163))}if(e=i.sibling,e!==null){e.return=i.return,Ne=e;break}Ne=i.return}}function yy(e,i,a){var l=a.flags;switch(a.tag){case 0:case 11:case 15:fr(e,a),l&4&&$o(5,a);break;case 1:if(fr(e,a),l&4)if(e=a.stateNode,i===null)try{e.componentDidMount()}catch(v){Zt(a,a.return,v)}else{var h=As(a.type,i.memoizedProps);i=i.memoizedState;try{e.componentDidUpdate(h,i,e.__reactInternalSnapshotBeforeUpdate)}catch(v){Zt(a,a.return,v)}}l&64&&hy(a),l&512&&Zo(a,a.return);break;case 3:if(fr(e,a),l&64&&(e=a.updateQueue,e!==null)){if(i=null,a.child!==null)switch(a.child.tag){case 27:case 5:i=a.child.stateNode;break;case 1:i=a.child.stateNode}try{Wp(e,i)}catch(v){Zt(a,a.return,v)}}break;case 27:i===null&&l&4&&py(a);case 26:case 5:fr(e,a),i===null&&l&4&&dy(a),l&512&&Zo(a,a.return);break;case 12:fr(e,a);break;case 13:fr(e,a),l&4&&Ey(e,a),l&64&&(e=a.memoizedState,e!==null&&(e=e.dehydrated,e!==null&&(a=FA.bind(null,a),lS(e,a))));break;case 22:if(l=a.memoizedState!==null||ki,!l){i=i!==null&&i.memoizedState!==null||fe,h=ki;var d=fe;ki=l,(fe=i)&&!d?dr(e,a,(a.subtreeFlags&8772)!==0):fr(e,a),ki=h,fe=d}break;case 30:break;default:fr(e,a)}}function _y(e){var i=e.alternate;i!==null&&(e.alternate=null,_y(i)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(i=e.stateNode,i!==null&&tr(i)),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}var ee=null,en=!1;function Ui(e,i,a){for(a=a.child;a!==null;)vy(e,i,a),a=a.sibling}function vy(e,i,a){if(Ft&&typeof Ft.onCommitFiberUnmount=="function")try{Ft.onCommitFiberUnmount(oe,a)}catch{}switch(a.tag){case 26:fe||ei(a,i),Ui(e,i,a),a.memoizedState?a.memoizedState.count--:a.stateNode&&(a=a.stateNode,a.parentNode.removeChild(a));break;case 27:fe||ei(a,i);var l=ee,h=en;vr(a.type)&&(ee=a.stateNode,en=!1),Ui(e,i,a),al(a.stateNode),ee=l,en=h;break;case 5:fe||ei(a,i);case 6:if(l=ee,h=en,ee=null,Ui(e,i,a),ee=l,en=h,ee!==null)if(en)try{(ee.nodeType===9?ee.body:ee.nodeName==="HTML"?ee.ownerDocument.body:ee).removeChild(a.stateNode)}catch(d){Zt(a,i,d)}else try{ee.removeChild(a.stateNode)}catch(d){Zt(a,i,d)}break;case 18:ee!==null&&(en?(e=ee,o_(e.nodeType===9?e.body:e.nodeName==="HTML"?e.ownerDocument.body:e,a.stateNode),ml(e)):o_(ee,a.stateNode));break;case 4:l=ee,h=en,ee=a.stateNode.containerInfo,en=!0,Ui(e,i,a),ee=l,en=h;break;case 0:case 11:case 14:case 15:fe||hr(2,a,i),fe||hr(4,a,i),Ui(e,i,a);break;case 1:fe||(ei(a,i),l=a.stateNode,typeof l.componentWillUnmount=="function"&&fy(a,i,l)),Ui(e,i,a);break;case 21:Ui(e,i,a);break;case 22:fe=(l=fe)||a.memoizedState!==null,Ui(e,i,a),fe=l;break;default:Ui(e,i,a)}}function Ey(e,i){if(i.memoizedState===null&&(e=i.alternate,e!==null&&(e=e.memoizedState,e!==null&&(e=e.dehydrated,e!==null))))try{ml(e)}catch(a){Zt(i,i.return,a)}}function kA(e){switch(e.tag){case 13:case 19:var i=e.stateNode;return i===null&&(i=e.stateNode=new gy),i;case 22:return e=e.stateNode,i=e._retryCache,i===null&&(i=e._retryCache=new gy),i;default:throw Error(s(435,e.tag))}}function Yf(e,i){var a=kA(e);i.forEach(function(l){var h=GA.bind(null,e,l);a.has(l)||(a.add(l),l.then(h,h))})}function un(e,i){var a=i.deletions;if(a!==null)for(var l=0;l<a.length;l++){var h=a[l],d=e,v=i,T=v;t:for(;T!==null;){switch(T.tag){case 27:if(vr(T.type)){ee=T.stateNode,en=!1;break t}break;case 5:ee=T.stateNode,en=!1;break t;case 3:case 4:ee=T.stateNode.containerInfo,en=!0;break t}T=T.return}if(ee===null)throw Error(s(160));vy(d,v,h),ee=null,en=!1,d=h.alternate,d!==null&&(d.return=null),h.return=null}if(i.subtreeFlags&13878)for(i=i.child;i!==null;)Ty(i,e),i=i.sibling}var xn=null;function Ty(e,i){var a=e.alternate,l=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:un(i,e),cn(e),l&4&&(hr(3,e,e.return),$o(3,e),hr(5,e,e.return));break;case 1:un(i,e),cn(e),l&512&&(fe||a===null||ei(a,a.return)),l&64&&ki&&(e=e.updateQueue,e!==null&&(l=e.callbacks,l!==null&&(a=e.shared.hiddenCallbacks,e.shared.hiddenCallbacks=a===null?l:a.concat(l))));break;case 26:var h=xn;if(un(i,e),cn(e),l&512&&(fe||a===null||ei(a,a.return)),l&4){var d=a!==null?a.memoizedState:null;if(l=e.memoizedState,a===null)if(l===null)if(e.stateNode===null){t:{l=e.type,a=e.memoizedProps,h=h.ownerDocument||h;e:switch(l){case"title":d=h.getElementsByTagName("title")[0],(!d||d[Zr]||d[ve]||d.namespaceURI==="http://www.w3.org/2000/svg"||d.hasAttribute("itemprop"))&&(d=h.createElement(l),h.head.insertBefore(d,h.querySelector("head > title"))),ze(d,l,a),d[ve]=e,ce(d),l=d;break t;case"link":var v=p_("link","href",h).get(l+(a.href||""));if(v){for(var T=0;T<v.length;T++)if(d=v[T],d.getAttribute("href")===(a.href==null||a.href===""?null:a.href)&&d.getAttribute("rel")===(a.rel==null?null:a.rel)&&d.getAttribute("title")===(a.title==null?null:a.title)&&d.getAttribute("crossorigin")===(a.crossOrigin==null?null:a.crossOrigin)){v.splice(T,1);break e}}d=h.createElement(l),ze(d,l,a),h.head.appendChild(d);break;case"meta":if(v=p_("meta","content",h).get(l+(a.content||""))){for(T=0;T<v.length;T++)if(d=v[T],d.getAttribute("content")===(a.content==null?null:""+a.content)&&d.getAttribute("name")===(a.name==null?null:a.name)&&d.getAttribute("property")===(a.property==null?null:a.property)&&d.getAttribute("http-equiv")===(a.httpEquiv==null?null:a.httpEquiv)&&d.getAttribute("charset")===(a.charSet==null?null:a.charSet)){v.splice(T,1);break e}}d=h.createElement(l),ze(d,l,a),h.head.appendChild(d);break;default:throw Error(s(468,l))}d[ve]=e,ce(d),l=d}e.stateNode=l}else g_(h,e.type,e.stateNode);else e.stateNode=m_(h,l,e.memoizedProps);else d!==l?(d===null?a.stateNode!==null&&(a=a.stateNode,a.parentNode.removeChild(a)):d.count--,l===null?g_(h,e.type,e.stateNode):m_(h,l,e.memoizedProps)):l===null&&e.stateNode!==null&&Ff(e,e.memoizedProps,a.memoizedProps)}break;case 27:un(i,e),cn(e),l&512&&(fe||a===null||ei(a,a.return)),a!==null&&l&4&&Ff(e,e.memoizedProps,a.memoizedProps);break;case 5:if(un(i,e),cn(e),l&512&&(fe||a===null||ei(a,a.return)),e.flags&32){h=e.stateNode;try{gn(h,"")}catch(q){Zt(e,e.return,q)}}l&4&&e.stateNode!=null&&(h=e.memoizedProps,Ff(e,h,a!==null?a.memoizedProps:h)),l&1024&&(Kf=!0);break;case 6:if(un(i,e),cn(e),l&4){if(e.stateNode===null)throw Error(s(162));l=e.memoizedProps,a=e.stateNode;try{a.nodeValue=l}catch(q){Zt(e,e.return,q)}}break;case 3:if(hc=null,h=xn,xn=uc(i.containerInfo),un(i,e),xn=h,cn(e),l&4&&a!==null&&a.memoizedState.isDehydrated)try{ml(i.containerInfo)}catch(q){Zt(e,e.return,q)}Kf&&(Kf=!1,Ay(e));break;case 4:l=xn,xn=uc(e.stateNode.containerInfo),un(i,e),cn(e),xn=l;break;case 12:un(i,e),cn(e);break;case 13:un(i,e),cn(e),e.child.flags&8192&&e.memoizedState!==null!=(a!==null&&a.memoizedState!==null)&&(td=mn()),l&4&&(l=e.updateQueue,l!==null&&(e.updateQueue=null,Yf(e,l)));break;case 22:h=e.memoizedState!==null;var I=a!==null&&a.memoizedState!==null,B=ki,Y=fe;if(ki=B||h,fe=Y||I,un(i,e),fe=Y,ki=B,cn(e),l&8192)t:for(i=e.stateNode,i._visibility=h?i._visibility&-2:i._visibility|1,h&&(a===null||I||ki||fe||Ss(e)),a=null,i=e;;){if(i.tag===5||i.tag===26){if(a===null){I=a=i;try{if(d=I.stateNode,h)v=d.style,typeof v.setProperty=="function"?v.setProperty("display","none","important"):v.display="none";else{T=I.stateNode;var Z=I.memoizedProps.style,H=Z!=null&&Z.hasOwnProperty("display")?Z.display:null;T.style.display=H==null||typeof H=="boolean"?"":(""+H).trim()}}catch(q){Zt(I,I.return,q)}}}else if(i.tag===6){if(a===null){I=i;try{I.stateNode.nodeValue=h?"":I.memoizedProps}catch(q){Zt(I,I.return,q)}}}else if((i.tag!==22&&i.tag!==23||i.memoizedState===null||i===e)&&i.child!==null){i.child.return=i,i=i.child;continue}if(i===e)break t;for(;i.sibling===null;){if(i.return===null||i.return===e)break t;a===i&&(a=null),i=i.return}a===i&&(a=null),i.sibling.return=i.return,i=i.sibling}l&4&&(l=e.updateQueue,l!==null&&(a=l.retryQueue,a!==null&&(l.retryQueue=null,Yf(e,a))));break;case 19:un(i,e),cn(e),l&4&&(l=e.updateQueue,l!==null&&(e.updateQueue=null,Yf(e,l)));break;case 30:break;case 21:break;default:un(i,e),cn(e)}}function cn(e){var i=e.flags;if(i&2){try{for(var a,l=e.return;l!==null;){if(my(l)){a=l;break}l=l.return}if(a==null)throw Error(s(160));switch(a.tag){case 27:var h=a.stateNode,d=Gf(e);$u(e,d,h);break;case 5:var v=a.stateNode;a.flags&32&&(gn(v,""),a.flags&=-33);var T=Gf(e);$u(e,T,v);break;case 3:case 4:var I=a.stateNode.containerInfo,B=Gf(e);Qf(e,B,I);break;default:throw Error(s(161))}}catch(Y){Zt(e,e.return,Y)}e.flags&=-3}i&4096&&(e.flags&=-4097)}function Ay(e){if(e.subtreeFlags&1024)for(e=e.child;e!==null;){var i=e;Ay(i),i.tag===5&&i.flags&1024&&i.stateNode.reset(),e=e.sibling}}function fr(e,i){if(i.subtreeFlags&8772)for(i=i.child;i!==null;)yy(e,i.alternate,i),i=i.sibling}function Ss(e){for(e=e.child;e!==null;){var i=e;switch(i.tag){case 0:case 11:case 14:case 15:hr(4,i,i.return),Ss(i);break;case 1:ei(i,i.return);var a=i.stateNode;typeof a.componentWillUnmount=="function"&&fy(i,i.return,a),Ss(i);break;case 27:al(i.stateNode);case 26:case 5:ei(i,i.return),Ss(i);break;case 22:i.memoizedState===null&&Ss(i);break;case 30:Ss(i);break;default:Ss(i)}e=e.sibling}}function dr(e,i,a){for(a=a&&(i.subtreeFlags&8772)!==0,i=i.child;i!==null;){var l=i.alternate,h=e,d=i,v=d.flags;switch(d.tag){case 0:case 11:case 15:dr(h,d,a),$o(4,d);break;case 1:if(dr(h,d,a),l=d,h=l.stateNode,typeof h.componentDidMount=="function")try{h.componentDidMount()}catch(B){Zt(l,l.return,B)}if(l=d,h=l.updateQueue,h!==null){var T=l.stateNode;try{var I=h.shared.hiddenCallbacks;if(I!==null)for(h.shared.hiddenCallbacks=null,h=0;h<I.length;h++)Zp(I[h],T)}catch(B){Zt(l,l.return,B)}}a&&v&64&&hy(d),Zo(d,d.return);break;case 27:py(d);case 26:case 5:dr(h,d,a),a&&l===null&&v&4&&dy(d),Zo(d,d.return);break;case 12:dr(h,d,a);break;case 13:dr(h,d,a),a&&v&4&&Ey(h,d);break;case 22:d.memoizedState===null&&dr(h,d,a),Zo(d,d.return);break;case 30:break;default:dr(h,d,a)}i=i.sibling}}function Xf(e,i){var a=null;e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(a=e.memoizedState.cachePool.pool),e=null,i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(e=i.memoizedState.cachePool.pool),e!==a&&(e!=null&&e.refCount++,a!=null&&ko(a))}function $f(e,i){e=null,i.alternate!==null&&(e=i.alternate.memoizedState.cache),i=i.memoizedState.cache,i!==e&&(i.refCount++,e!=null&&ko(e))}function ni(e,i,a,l){if(i.subtreeFlags&10256)for(i=i.child;i!==null;)Sy(e,i,a,l),i=i.sibling}function Sy(e,i,a,l){var h=i.flags;switch(i.tag){case 0:case 11:case 15:ni(e,i,a,l),h&2048&&$o(9,i);break;case 1:ni(e,i,a,l);break;case 3:ni(e,i,a,l),h&2048&&(e=null,i.alternate!==null&&(e=i.alternate.memoizedState.cache),i=i.memoizedState.cache,i!==e&&(i.refCount++,e!=null&&ko(e)));break;case 12:if(h&2048){ni(e,i,a,l),e=i.stateNode;try{var d=i.memoizedProps,v=d.id,T=d.onPostCommit;typeof T=="function"&&T(v,i.alternate===null?"mount":"update",e.passiveEffectDuration,-0)}catch(I){Zt(i,i.return,I)}}else ni(e,i,a,l);break;case 13:ni(e,i,a,l);break;case 23:break;case 22:d=i.stateNode,v=i.alternate,i.memoizedState!==null?d._visibility&2?ni(e,i,a,l):Wo(e,i):d._visibility&2?ni(e,i,a,l):(d._visibility|=2,Ea(e,i,a,l,(i.subtreeFlags&10256)!==0)),h&2048&&Xf(v,i);break;case 24:ni(e,i,a,l),h&2048&&$f(i.alternate,i);break;default:ni(e,i,a,l)}}function Ea(e,i,a,l,h){for(h=h&&(i.subtreeFlags&10256)!==0,i=i.child;i!==null;){var d=e,v=i,T=a,I=l,B=v.flags;switch(v.tag){case 0:case 11:case 15:Ea(d,v,T,I,h),$o(8,v);break;case 23:break;case 22:var Y=v.stateNode;v.memoizedState!==null?Y._visibility&2?Ea(d,v,T,I,h):Wo(d,v):(Y._visibility|=2,Ea(d,v,T,I,h)),h&&B&2048&&Xf(v.alternate,v);break;case 24:Ea(d,v,T,I,h),h&&B&2048&&$f(v.alternate,v);break;default:Ea(d,v,T,I,h)}i=i.sibling}}function Wo(e,i){if(i.subtreeFlags&10256)for(i=i.child;i!==null;){var a=e,l=i,h=l.flags;switch(l.tag){case 22:Wo(a,l),h&2048&&Xf(l.alternate,l);break;case 24:Wo(a,l),h&2048&&$f(l.alternate,l);break;default:Wo(a,l)}i=i.sibling}}var Jo=8192;function Ta(e){if(e.subtreeFlags&Jo)for(e=e.child;e!==null;)by(e),e=e.sibling}function by(e){switch(e.tag){case 26:Ta(e),e.flags&Jo&&e.memoizedState!==null&&TS(xn,e.memoizedState,e.memoizedProps);break;case 5:Ta(e);break;case 3:case 4:var i=xn;xn=uc(e.stateNode.containerInfo),Ta(e),xn=i;break;case 22:e.memoizedState===null&&(i=e.alternate,i!==null&&i.memoizedState!==null?(i=Jo,Jo=16777216,Ta(e),Jo=i):Ta(e));break;default:Ta(e)}}function wy(e){var i=e.alternate;if(i!==null&&(e=i.child,e!==null)){i.child=null;do i=e.sibling,e.sibling=null,e=i;while(e!==null)}}function tl(e){var i=e.deletions;if((e.flags&16)!==0){if(i!==null)for(var a=0;a<i.length;a++){var l=i[a];Ne=l,Iy(l,e)}wy(e)}if(e.subtreeFlags&10256)for(e=e.child;e!==null;)Ry(e),e=e.sibling}function Ry(e){switch(e.tag){case 0:case 11:case 15:tl(e),e.flags&2048&&hr(9,e,e.return);break;case 3:tl(e);break;case 12:tl(e);break;case 22:var i=e.stateNode;e.memoizedState!==null&&i._visibility&2&&(e.return===null||e.return.tag!==13)?(i._visibility&=-3,Zu(e)):tl(e);break;default:tl(e)}}function Zu(e){var i=e.deletions;if((e.flags&16)!==0){if(i!==null)for(var a=0;a<i.length;a++){var l=i[a];Ne=l,Iy(l,e)}wy(e)}for(e=e.child;e!==null;){switch(i=e,i.tag){case 0:case 11:case 15:hr(8,i,i.return),Zu(i);break;case 22:a=i.stateNode,a._visibility&2&&(a._visibility&=-3,Zu(i));break;default:Zu(i)}e=e.sibling}}function Iy(e,i){for(;Ne!==null;){var a=Ne;switch(a.tag){case 0:case 11:case 15:hr(8,a,i);break;case 23:case 22:if(a.memoizedState!==null&&a.memoizedState.cachePool!==null){var l=a.memoizedState.cachePool.pool;l!=null&&l.refCount++}break;case 24:ko(a.memoizedState.cache)}if(l=a.child,l!==null)l.return=a,Ne=l;else t:for(a=e;Ne!==null;){l=Ne;var h=l.sibling,d=l.return;if(_y(l),l===a){Ne=null;break t}if(h!==null){h.return=d,Ne=h;break t}Ne=d}}}var UA={getCacheForType:function(e){var i=Fe(Ae),a=i.data.get(e);return a===void 0&&(a=e(),i.data.set(e,a)),a}},LA=typeof WeakMap=="function"?WeakMap:Map,Gt=0,Jt=null,Ot=null,kt=0,Qt=0,hn=null,mr=!1,Aa=!1,Zf=!1,Li=0,ue=0,pr=0,bs=0,Wf=0,wn=0,Sa=0,el=null,nn=null,Jf=!1,td=0,Wu=1/0,Ju=null,gr=null,Le=0,yr=null,ba=null,wa=0,ed=0,nd=null,Cy=null,nl=0,id=null;function fn(){if((Gt&2)!==0&&kt!==0)return kt&-kt;if(K.T!==null){var e=fa;return e!==0?e:cd()}return Wi()}function Dy(){wn===0&&(wn=(kt&536870912)===0||Ht?co():536870912);var e=bn.current;return e!==null&&(e.flags|=32),wn}function dn(e,i,a){(e===Jt&&(Qt===2||Qt===9)||e.cancelPendingCommit!==null)&&(Ra(e,0),_r(e,kt,wn,!1)),gi(e,a),((Gt&2)===0||e!==Jt)&&(e===Jt&&((Gt&2)===0&&(bs|=a),ue===4&&_r(e,kt,wn,!1)),ii(e))}function Oy(e,i,a){if((Gt&6)!==0)throw Error(s(327));var l=!a&&(i&124)===0&&(i&e.expiredLanes)===0||$r(e,i),h=l?HA(e,i):ad(e,i,!0),d=l;do{if(h===0){Aa&&!l&&_r(e,i,0,!1);break}else{if(a=e.current.alternate,d&&!zA(a)){h=ad(e,i,!1),d=!1;continue}if(h===2){if(d=i,e.errorRecoveryDisabledLanes&d)var v=0;else v=e.pendingLanes&-536870913,v=v!==0?v:v&536870912?536870912:0;if(v!==0){i=v;t:{var T=e;h=el;var I=T.current.memoizedState.isDehydrated;if(I&&(Ra(T,v).flags|=256),v=ad(T,v,!1),v!==2){if(Zf&&!I){T.errorRecoveryDisabledLanes|=d,bs|=d,h=4;break t}d=nn,nn=h,d!==null&&(nn===null?nn=d:nn.push.apply(nn,d))}h=v}if(d=!1,h!==2)continue}}if(h===1){Ra(e,0),_r(e,i,0,!0);break}t:{switch(l=e,d=h,d){case 0:case 1:throw Error(s(345));case 4:if((i&4194048)!==i)break;case 6:_r(l,i,wn,!mr);break t;case 2:nn=null;break;case 3:case 5:break;default:throw Error(s(329))}if((i&62914560)===i&&(h=td+300-mn(),10<h)){if(_r(l,i,wn,!mr),js(l,0,!0)!==0)break t;l.timeoutHandle=s_(Ny.bind(null,l,a,nn,Ju,Jf,i,wn,bs,Sa,mr,d,2,-0,0),h);break t}Ny(l,a,nn,Ju,Jf,i,wn,bs,Sa,mr,d,0,-0,0)}}break}while(!0);ii(e)}function Ny(e,i,a,l,h,d,v,T,I,B,Y,Z,H,q){if(e.timeoutHandle=-1,Z=i.subtreeFlags,(Z&8192||(Z&16785408)===16785408)&&(ul={stylesheets:null,count:0,unsuspend:ES},by(i),Z=AS(),Z!==null)){e.cancelPendingCommit=Z(Ly.bind(null,e,i,d,a,l,h,v,T,I,Y,1,H,q)),_r(e,d,v,!B);return}Ly(e,i,d,a,l,h,v,T,I)}function zA(e){for(var i=e;;){var a=i.tag;if((a===0||a===11||a===15)&&i.flags&16384&&(a=i.updateQueue,a!==null&&(a=a.stores,a!==null)))for(var l=0;l<a.length;l++){var h=a[l],d=h.getSnapshot;h=h.value;try{if(!on(d(),h))return!1}catch{return!1}}if(a=i.child,i.subtreeFlags&16384&&a!==null)a.return=i,i=a;else{if(i===e)break;for(;i.sibling===null;){if(i.return===null||i.return===e)return!0;i=i.return}i.sibling.return=i.return,i=i.sibling}}return!0}function _r(e,i,a,l){i&=~Wf,i&=~bs,e.suspendedLanes|=i,e.pingedLanes&=~i,l&&(e.warmLanes|=i),l=e.expirationTimes;for(var h=i;0<h;){var d=31-je(h),v=1<<d;l[d]=-1,h&=~v}a!==0&&qn(e,a,i)}function tc(){return(Gt&6)===0?(il(0),!1):!0}function rd(){if(Ot!==null){if(Qt===0)var e=Ot.return;else e=Ot,Oi=_s=null,Tf(e),_a=null,Ko=0,e=Ot;for(;e!==null;)cy(e.alternate,e),e=e.return;Ot=null}}function Ra(e,i){var a=e.timeoutHandle;a!==-1&&(e.timeoutHandle=-1,iS(a)),a=e.cancelPendingCommit,a!==null&&(e.cancelPendingCommit=null,a()),rd(),Jt=e,Ot=a=Ii(e.current,null),kt=i,Qt=0,hn=null,mr=!1,Aa=$r(e,i),Zf=!1,Sa=wn=Wf=bs=pr=ue=0,nn=el=null,Jf=!1,(i&8)!==0&&(i|=i&32);var l=e.entangledLanes;if(l!==0)for(e=e.entanglements,l&=i;0<l;){var h=31-je(l),d=1<<h;i|=e[h],l&=~d}return Li=i,Au(),a}function My(e,i){Rt=null,K.H=Hu,i===Lo||i===Nu?(i=Xp(),Qt=3):i===Qp?(i=Xp(),Qt=4):Qt=i===$g?8:i!==null&&typeof i=="object"&&typeof i.then=="function"?6:1,hn=i,Ot===null&&(ue=1,Qu(e,En(i,e.current)))}function Vy(){var e=K.H;return K.H=Hu,e===null?Hu:e}function xy(){var e=K.A;return K.A=UA,e}function sd(){ue=4,mr||(kt&4194048)!==kt&&bn.current!==null||(Aa=!0),(pr&134217727)===0&&(bs&134217727)===0||Jt===null||_r(Jt,kt,wn,!1)}function ad(e,i,a){var l=Gt;Gt|=2;var h=Vy(),d=xy();(Jt!==e||kt!==i)&&(Ju=null,Ra(e,i)),i=!1;var v=ue;t:do try{if(Qt!==0&&Ot!==null){var T=Ot,I=hn;switch(Qt){case 8:rd(),v=6;break t;case 3:case 2:case 9:case 6:bn.current===null&&(i=!0);var B=Qt;if(Qt=0,hn=null,Ia(e,T,I,B),a&&Aa){v=0;break t}break;default:B=Qt,Qt=0,hn=null,Ia(e,T,I,B)}}BA(),v=ue;break}catch(Y){My(e,Y)}while(!0);return i&&e.shellSuspendCounter++,Oi=_s=null,Gt=l,K.H=h,K.A=d,Ot===null&&(Jt=null,kt=0,Au()),v}function BA(){for(;Ot!==null;)Py(Ot)}function HA(e,i){var a=Gt;Gt|=2;var l=Vy(),h=xy();Jt!==e||kt!==i?(Ju=null,Wu=mn()+500,Ra(e,i)):Aa=$r(e,i);t:do try{if(Qt!==0&&Ot!==null){i=Ot;var d=hn;e:switch(Qt){case 1:Qt=0,hn=null,Ia(e,i,d,1);break;case 2:case 9:if(Kp(d)){Qt=0,hn=null,ky(i);break}i=function(){Qt!==2&&Qt!==9||Jt!==e||(Qt=7),ii(e)},d.then(i,i);break t;case 3:Qt=7;break t;case 4:Qt=5;break t;case 7:Kp(d)?(Qt=0,hn=null,ky(i)):(Qt=0,hn=null,Ia(e,i,d,7));break;case 5:var v=null;switch(Ot.tag){case 26:v=Ot.memoizedState;case 5:case 27:var T=Ot;if(!v||y_(v)){Qt=0,hn=null;var I=T.sibling;if(I!==null)Ot=I;else{var B=T.return;B!==null?(Ot=B,ec(B)):Ot=null}break e}}Qt=0,hn=null,Ia(e,i,d,5);break;case 6:Qt=0,hn=null,Ia(e,i,d,6);break;case 8:rd(),ue=6;break t;default:throw Error(s(462))}}qA();break}catch(Y){My(e,Y)}while(!0);return Oi=_s=null,K.H=l,K.A=h,Gt=a,Ot!==null?0:(Jt=null,kt=0,Au(),ue)}function qA(){for(;Ot!==null&&!ao();)Py(Ot)}function Py(e){var i=ly(e.alternate,e,Li);e.memoizedProps=e.pendingProps,i===null?ec(e):Ot=i}function ky(e){var i=e,a=i.alternate;switch(i.tag){case 15:case 0:i=ny(a,i,i.pendingProps,i.type,void 0,kt);break;case 11:i=ny(a,i,i.pendingProps,i.type.render,i.ref,kt);break;case 5:Tf(i);default:cy(a,i),i=Ot=Up(i,Li),i=ly(a,i,Li)}e.memoizedProps=e.pendingProps,i===null?ec(e):Ot=i}function Ia(e,i,a,l){Oi=_s=null,Tf(i),_a=null,Ko=0;var h=i.return;try{if(NA(e,h,i,a,kt)){ue=1,Qu(e,En(a,e.current)),Ot=null;return}}catch(d){if(h!==null)throw Ot=h,d;ue=1,Qu(e,En(a,e.current)),Ot=null;return}i.flags&32768?(Ht||l===1?e=!0:Aa||(kt&536870912)!==0?e=!1:(mr=e=!0,(l===2||l===9||l===3||l===6)&&(l=bn.current,l!==null&&l.tag===13&&(l.flags|=16384))),Uy(i,e)):ec(i)}function ec(e){var i=e;do{if((i.flags&32768)!==0){Uy(i,mr);return}e=i.return;var a=VA(i.alternate,i,Li);if(a!==null){Ot=a;return}if(i=i.sibling,i!==null){Ot=i;return}Ot=i=e}while(i!==null);ue===0&&(ue=5)}function Uy(e,i){do{var a=xA(e.alternate,e);if(a!==null){a.flags&=32767,Ot=a;return}if(a=e.return,a!==null&&(a.flags|=32768,a.subtreeFlags=0,a.deletions=null),!i&&(e=e.sibling,e!==null)){Ot=e;return}Ot=e=a}while(e!==null);ue=6,Ot=null}function Ly(e,i,a,l,h,d,v,T,I){e.cancelPendingCommit=null;do nc();while(Le!==0);if((Gt&6)!==0)throw Error(s(327));if(i!==null){if(i===e.current)throw Error(s(177));if(d=i.lanes|i.childLanes,d|=Xh,fo(e,a,d,v,T,I),e===Jt&&(Ot=Jt=null,kt=0),ba=i,yr=e,wa=a,ed=d,nd=h,Cy=l,(i.subtreeFlags&10256)!==0||(i.flags&10256)!==0?(e.callbackNode=null,e.callbackPriority=0,QA(Qr,function(){return jy(),null})):(e.callbackNode=null,e.callbackPriority=0),l=(i.flags&13878)!==0,(i.subtreeFlags&13878)!==0||l){l=K.T,K.T=null,h=st.p,st.p=2,v=Gt,Gt|=4;try{PA(e,i,a)}finally{Gt=v,st.p=h,K.T=l}}Le=1,zy(),By(),Hy()}}function zy(){if(Le===1){Le=0;var e=yr,i=ba,a=(i.flags&13878)!==0;if((i.subtreeFlags&13878)!==0||a){a=K.T,K.T=null;var l=st.p;st.p=2;var h=Gt;Gt|=4;try{Ty(i,e);var d=_d,v=Ip(e.containerInfo),T=d.focusedElem,I=d.selectionRange;if(v!==T&&T&&T.ownerDocument&&Rp(T.ownerDocument.documentElement,T)){if(I!==null&&Fh(T)){var B=I.start,Y=I.end;if(Y===void 0&&(Y=B),"selectionStart"in T)T.selectionStart=B,T.selectionEnd=Math.min(Y,T.value.length);else{var Z=T.ownerDocument||document,H=Z&&Z.defaultView||window;if(H.getSelection){var q=H.getSelection(),vt=T.textContent.length,gt=Math.min(I.start,vt),$t=I.end===void 0?gt:Math.min(I.end,vt);!q.extend&&gt>$t&&(v=$t,$t=gt,gt=v);var x=wp(T,gt),N=wp(T,$t);if(x&&N&&(q.rangeCount!==1||q.anchorNode!==x.node||q.anchorOffset!==x.offset||q.focusNode!==N.node||q.focusOffset!==N.offset)){var z=Z.createRange();z.setStart(x.node,x.offset),q.removeAllRanges(),gt>$t?(q.addRange(z),q.extend(N.node,N.offset)):(z.setEnd(N.node,N.offset),q.addRange(z))}}}}for(Z=[],q=T;q=q.parentNode;)q.nodeType===1&&Z.push({element:q,left:q.scrollLeft,top:q.scrollTop});for(typeof T.focus=="function"&&T.focus(),T=0;T<Z.length;T++){var X=Z[T];X.element.scrollLeft=X.left,X.element.scrollTop=X.top}}mc=!!yd,_d=yd=null}finally{Gt=h,st.p=l,K.T=a}}e.current=i,Le=2}}function By(){if(Le===2){Le=0;var e=yr,i=ba,a=(i.flags&8772)!==0;if((i.subtreeFlags&8772)!==0||a){a=K.T,K.T=null;var l=st.p;st.p=2;var h=Gt;Gt|=4;try{yy(e,i.alternate,i)}finally{Gt=h,st.p=l,K.T=a}}Le=3}}function Hy(){if(Le===4||Le===3){Le=0,Zl();var e=yr,i=ba,a=wa,l=Cy;(i.subtreeFlags&10256)!==0||(i.flags&10256)!==0?Le=5:(Le=0,ba=yr=null,qy(e,e.pendingLanes));var h=e.pendingLanes;if(h===0&&(gr=null),Fs(a),i=i.stateNode,Ft&&typeof Ft.onCommitFiberRoot=="function")try{Ft.onCommitFiberRoot(oe,i,void 0,(i.current.flags&128)===128)}catch{}if(l!==null){i=K.T,h=st.p,st.p=2,K.T=null;try{for(var d=e.onRecoverableError,v=0;v<l.length;v++){var T=l[v];d(T.value,{componentStack:T.stack})}}finally{K.T=i,st.p=h}}(wa&3)!==0&&nc(),ii(e),h=e.pendingLanes,(a&4194090)!==0&&(h&42)!==0?e===id?nl++:(nl=0,id=e):nl=0,il(0)}}function qy(e,i){(e.pooledCacheLanes&=i)===0&&(i=e.pooledCache,i!=null&&(e.pooledCache=null,ko(i)))}function nc(e){return zy(),By(),Hy(),jy()}function jy(){if(Le!==5)return!1;var e=yr,i=ed;ed=0;var a=Fs(wa),l=K.T,h=st.p;try{st.p=32>a?32:a,K.T=null,a=nd,nd=null;var d=yr,v=wa;if(Le=0,ba=yr=null,wa=0,(Gt&6)!==0)throw Error(s(331));var T=Gt;if(Gt|=4,Ry(d.current),Sy(d,d.current,v,a),Gt=T,il(0,!1),Ft&&typeof Ft.onPostCommitFiberRoot=="function")try{Ft.onPostCommitFiberRoot(oe,d)}catch{}return!0}finally{st.p=h,K.T=l,qy(e,i)}}function Fy(e,i,a){i=En(a,i),i=Pf(e.stateNode,i,2),e=or(e,i,2),e!==null&&(gi(e,2),ii(e))}function Zt(e,i,a){if(e.tag===3)Fy(e,e,a);else for(;i!==null;){if(i.tag===3){Fy(i,e,a);break}else if(i.tag===1){var l=i.stateNode;if(typeof i.type.getDerivedStateFromError=="function"||typeof l.componentDidCatch=="function"&&(gr===null||!gr.has(l))){e=En(a,e),a=Yg(2),l=or(i,a,2),l!==null&&(Xg(a,l,i,e),gi(l,2),ii(l));break}}i=i.return}}function od(e,i,a){var l=e.pingCache;if(l===null){l=e.pingCache=new LA;var h=new Set;l.set(i,h)}else h=l.get(i),h===void 0&&(h=new Set,l.set(i,h));h.has(a)||(Zf=!0,h.add(a),e=jA.bind(null,e,i,a),i.then(e,e))}function jA(e,i,a){var l=e.pingCache;l!==null&&l.delete(i),e.pingedLanes|=e.suspendedLanes&a,e.warmLanes&=~a,Jt===e&&(kt&a)===a&&(ue===4||ue===3&&(kt&62914560)===kt&&300>mn()-td?(Gt&2)===0&&Ra(e,0):Wf|=a,Sa===kt&&(Sa=0)),ii(e)}function Gy(e,i){i===0&&(i=ho()),e=la(e,i),e!==null&&(gi(e,i),ii(e))}function FA(e){var i=e.memoizedState,a=0;i!==null&&(a=i.retryLane),Gy(e,a)}function GA(e,i){var a=0;switch(e.tag){case 13:var l=e.stateNode,h=e.memoizedState;h!==null&&(a=h.retryLane);break;case 19:l=e.stateNode;break;case 22:l=e.stateNode._retryCache;break;default:throw Error(s(314))}l!==null&&l.delete(i),Gy(e,a)}function QA(e,i){return Fr(e,i)}var ic=null,Ca=null,ld=!1,rc=!1,ud=!1,ws=0;function ii(e){e!==Ca&&e.next===null&&(Ca===null?ic=Ca=e:Ca=Ca.next=e),rc=!0,ld||(ld=!0,YA())}function il(e,i){if(!ud&&rc){ud=!0;do for(var a=!1,l=ic;l!==null;){if(e!==0){var h=l.pendingLanes;if(h===0)var d=0;else{var v=l.suspendedLanes,T=l.pingedLanes;d=(1<<31-je(42|e)+1)-1,d&=h&~(v&~T),d=d&201326741?d&201326741|1:d?d|2:0}d!==0&&(a=!0,Xy(l,d))}else d=kt,d=js(l,l===Jt?d:0,l.cancelPendingCommit!==null||l.timeoutHandle!==-1),(d&3)===0||$r(l,d)||(a=!0,Xy(l,d));l=l.next}while(a);ud=!1}}function KA(){Qy()}function Qy(){rc=ld=!1;var e=0;ws!==0&&(nS()&&(e=ws),ws=0);for(var i=mn(),a=null,l=ic;l!==null;){var h=l.next,d=Ky(l,i);d===0?(l.next=null,a===null?ic=h:a.next=h,h===null&&(Ca=a)):(a=l,(e!==0||(d&3)!==0)&&(rc=!0)),l=h}il(e)}function Ky(e,i){for(var a=e.suspendedLanes,l=e.pingedLanes,h=e.expirationTimes,d=e.pendingLanes&-62914561;0<d;){var v=31-je(d),T=1<<v,I=h[v];I===-1?((T&a)===0||(T&l)!==0)&&(h[v]=uo(T,i)):I<=i&&(e.expiredLanes|=T),d&=~T}if(i=Jt,a=kt,a=js(e,e===i?a:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),l=e.callbackNode,a===0||e===i&&(Qt===2||Qt===9)||e.cancelPendingCommit!==null)return l!==null&&l!==null&&Gr(l),e.callbackNode=null,e.callbackPriority=0;if((a&3)===0||$r(e,a)){if(i=a&-a,i===e.callbackPriority)return i;switch(l!==null&&Gr(l),Fs(a)){case 2:case 8:a=Hs;break;case 32:a=Qr;break;case 268435456:a=qs;break;default:a=Qr}return l=Yy.bind(null,e),a=Fr(a,l),e.callbackPriority=i,e.callbackNode=a,i}return l!==null&&l!==null&&Gr(l),e.callbackPriority=2,e.callbackNode=null,2}function Yy(e,i){if(Le!==0&&Le!==5)return e.callbackNode=null,e.callbackPriority=0,null;var a=e.callbackNode;if(nc()&&e.callbackNode!==a)return null;var l=kt;return l=js(e,e===Jt?l:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),l===0?null:(Oy(e,l,i),Ky(e,mn()),e.callbackNode!=null&&e.callbackNode===a?Yy.bind(null,e):null)}function Xy(e,i){if(nc())return null;Oy(e,i,!0)}function YA(){rS(function(){(Gt&6)!==0?Fr(oo,KA):Qy()})}function cd(){return ws===0&&(ws=co()),ws}function $y(e){return e==null||typeof e=="symbol"||typeof e=="boolean"?null:typeof e=="function"?e:$s(""+e)}function Zy(e,i){var a=i.ownerDocument.createElement("input");return a.name=i.name,a.value=i.value,e.id&&a.setAttribute("form",e.id),i.parentNode.insertBefore(a,i),e=new FormData(e),a.parentNode.removeChild(a),e}function XA(e,i,a,l,h){if(i==="submit"&&a&&a.stateNode===h){var d=$y((h[me]||null).action),v=l.submitter;v&&(i=(i=v[me]||null)?$y(i.formAction):v.getAttribute("formAction"),i!==null&&(d=i,v=null));var T=new Zs("action","action",null,l,h);e.push({event:T,listeners:[{instance:null,listener:function(){if(l.defaultPrevented){if(ws!==0){var I=v?Zy(h,v):new FormData(h);Of(a,{pending:!0,data:I,method:h.method,action:d},null,I)}}else typeof d=="function"&&(T.preventDefault(),I=v?Zy(h,v):new FormData(h),Of(a,{pending:!0,data:I,method:h.method,action:d},d,I))},currentTarget:h}]})}}for(var hd=0;hd<Yh.length;hd++){var fd=Yh[hd],$A=fd.toLowerCase(),ZA=fd[0].toUpperCase()+fd.slice(1);Vn($A,"on"+ZA)}Vn(Op,"onAnimationEnd"),Vn(Np,"onAnimationIteration"),Vn(Mp,"onAnimationStart"),Vn("dblclick","onDoubleClick"),Vn("focusin","onFocus"),Vn("focusout","onBlur"),Vn(mA,"onTransitionRun"),Vn(pA,"onTransitionStart"),Vn(gA,"onTransitionCancel"),Vn(Vp,"onTransitionEnd"),_i("onMouseEnter",["mouseout","mouseover"]),_i("onMouseLeave",["mouseout","mouseover"]),_i("onPointerEnter",["pointerout","pointerover"]),_i("onPointerLeave",["pointerout","pointerover"]),Nn("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Nn("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Nn("onBeforeInput",["compositionend","keypress","textInput","paste"]),Nn("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Nn("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Nn("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var rl="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),WA=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(rl));function Wy(e,i){i=(i&4)!==0;for(var a=0;a<e.length;a++){var l=e[a],h=l.event;l=l.listeners;t:{var d=void 0;if(i)for(var v=l.length-1;0<=v;v--){var T=l[v],I=T.instance,B=T.currentTarget;if(T=T.listener,I!==d&&h.isPropagationStopped())break t;d=T,h.currentTarget=B;try{d(h)}catch(Y){Gu(Y)}h.currentTarget=null,d=I}else for(v=0;v<l.length;v++){if(T=l[v],I=T.instance,B=T.currentTarget,T=T.listener,I!==d&&h.isPropagationStopped())break t;d=T,h.currentTarget=B;try{d(h)}catch(Y){Gu(Y)}h.currentTarget=null,d=I}}}}function Nt(e,i){var a=i[po];a===void 0&&(a=i[po]=new Set);var l=e+"__bubble";a.has(l)||(Jy(i,e,2,!1),a.add(l))}function dd(e,i,a){var l=0;i&&(l|=4),Jy(a,e,l,i)}var sc="_reactListening"+Math.random().toString(36).slice(2);function md(e){if(!e[sc]){e[sc]=!0,go.forEach(function(a){a!=="selectionchange"&&(WA.has(a)||dd(a,!1,e),dd(a,!0,e))});var i=e.nodeType===9?e:e.ownerDocument;i===null||i[sc]||(i[sc]=!0,dd("selectionchange",!1,i))}}function Jy(e,i,a,l){switch(S_(i)){case 2:var h=wS;break;case 8:h=RS;break;default:h=Cd}a=h.bind(null,i,a,e),h=void 0,!_n||i!=="touchstart"&&i!=="touchmove"&&i!=="wheel"||(h=!0),l?h!==void 0?e.addEventListener(i,a,{capture:!0,passive:h}):e.addEventListener(i,a,!0):h!==void 0?e.addEventListener(i,a,{passive:h}):e.addEventListener(i,a,!1)}function pd(e,i,a,l,h){var d=l;if((i&1)===0&&(i&2)===0&&l!==null)t:for(;;){if(l===null)return;var v=l.tag;if(v===3||v===4){var T=l.stateNode.containerInfo;if(T===h)break;if(v===4)for(v=l.return;v!==null;){var I=v.tag;if((I===3||I===4)&&v.stateNode.containerInfo===h)return;v=v.return}for(;T!==null;){if(v=yi(T),v===null)return;if(I=v.tag,I===5||I===6||I===26||I===27){l=d=v;continue t}T=T.parentNode}}l=l.return}ou(function(){var B=d,Y=yn(a),Z=[];t:{var H=xp.get(e);if(H!==void 0){var q=Zs,vt=e;switch(e){case"keypress":if(Yn(a)===0)break t;case"keydown":case"keyup":q=ia;break;case"focusin":vt="focus",q=ta;break;case"focusout":vt="blur",q=ta;break;case"beforeblur":case"afterblur":q=ta;break;case"click":if(a.button===2)break t;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":q=vn;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":q=Bh;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":q=pu;break;case Op:case Np:case Mp:q=ea;break;case Vp:q=yu;break;case"scroll":case"scrollend":q=lu;break;case"wheel":q=ra;break;case"copy":case"cut":case"paste":q=na;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":q=Co;break;case"toggle":case"beforetoggle":q=vu}var gt=(i&4)!==0,$t=!gt&&(e==="scroll"||e==="scrollend"),x=gt?H!==null?H+"Capture":null:H;gt=[];for(var N=B,z;N!==null;){var X=N;if(z=X.stateNode,X=X.tag,X!==5&&X!==26&&X!==27||z===null||x===null||(X=rs(N,x),X!=null&&gt.push(sl(N,X,z))),$t)break;N=N.return}0<gt.length&&(H=new q(H,vt,null,a,Y),Z.push({event:H,listeners:gt}))}}if((i&7)===0){t:{if(H=e==="mouseover"||e==="pointerover",q=e==="mouseout"||e==="pointerout",H&&a!==Ti&&(vt=a.relatedTarget||a.fromElement)&&(yi(vt)||vt[pn]))break t;if((q||H)&&(H=Y.window===Y?Y:(H=Y.ownerDocument)?H.defaultView||H.parentWindow:window,q?(vt=a.relatedTarget||a.toElement,q=B,vt=vt?yi(vt):null,vt!==null&&($t=u(vt),gt=vt.tag,vt!==$t||gt!==5&&gt!==27&&gt!==6)&&(vt=null)):(q=null,vt=B),q!==vt)){if(gt=vn,X="onMouseLeave",x="onMouseEnter",N="mouse",(e==="pointerout"||e==="pointerover")&&(gt=Co,X="onPointerLeave",x="onPointerEnter",N="pointer"),$t=q==null?H:Fn(q),z=vt==null?H:Fn(vt),H=new gt(X,N+"leave",q,a,Y),H.target=$t,H.relatedTarget=z,X=null,yi(Y)===B&&(gt=new gt(x,N+"enter",vt,a,Y),gt.target=z,gt.relatedTarget=$t,X=gt),$t=X,q&&vt)e:{for(gt=q,x=vt,N=0,z=gt;z;z=Da(z))N++;for(z=0,X=x;X;X=Da(X))z++;for(;0<N-z;)gt=Da(gt),N--;for(;0<z-N;)x=Da(x),z--;for(;N--;){if(gt===x||x!==null&&gt===x.alternate)break e;gt=Da(gt),x=Da(x)}gt=null}else gt=null;q!==null&&t_(Z,H,q,gt,!1),vt!==null&&$t!==null&&t_(Z,$t,vt,gt,!0)}}t:{if(H=B?Fn(B):window,q=H.nodeName&&H.nodeName.toLowerCase(),q==="select"||q==="input"&&H.type==="file")var lt=vp;else if(Te(H))if(Ep)lt=hA;else{lt=uA;var Dt=lA}else q=H.nodeName,!q||q.toLowerCase()!=="input"||H.type!=="checkbox"&&H.type!=="radio"?B&&To(B.elementType)&&(lt=vp):lt=cA;if(lt&&(lt=lt(e,B))){Ri(Z,lt,a,Y);break t}Dt&&Dt(e,H,B),e==="focusout"&&B&&H.type==="number"&&B.memoizedProps.value!=null&&nr(H,"number",H.value)}switch(Dt=B?Fn(B):window,e){case"focusin":(Te(Dt)||Dt.contentEditable==="true")&&(sa=Dt,Gh=B,No=null);break;case"focusout":No=Gh=sa=null;break;case"mousedown":Qh=!0;break;case"contextmenu":case"mouseup":case"dragend":Qh=!1,Cp(Z,a,Y);break;case"selectionchange":if(dA)break;case"keydown":case"keyup":Cp(Z,a,Y)}var ct;if(Zn)t:{switch(e){case"compositionstart":var yt="onCompositionStart";break t;case"compositionend":yt="onCompositionEnd";break t;case"compositionupdate":yt="onCompositionUpdate";break t}yt=void 0}else xt?j(e,a)&&(yt="onCompositionEnd"):e==="keydown"&&a.keyCode===229&&(yt="onCompositionStart");yt&&(_&&a.locale!=="ko"&&(xt||yt!=="onCompositionStart"?yt==="onCompositionEnd"&&xt&&(ct=So()):(Kn=Y,ir="value"in Kn?Kn.value:Kn.textContent,xt=!0)),Dt=ac(B,yt),0<Dt.length&&(yt=new Ro(yt,e,null,a,Y),Z.push({event:yt,listeners:Dt}),ct?yt.data=ct:(ct=rt(a),ct!==null&&(yt.data=ct)))),(ct=p?Ee(e,a):Pt(e,a))&&(yt=ac(B,"onBeforeInput"),0<yt.length&&(Dt=new Ro("onBeforeInput","beforeinput",null,a,Y),Z.push({event:Dt,listeners:yt}),Dt.data=ct)),XA(Z,e,B,a,Y)}Wy(Z,i)})}function sl(e,i,a){return{instance:e,listener:i,currentTarget:a}}function ac(e,i){for(var a=i+"Capture",l=[];e!==null;){var h=e,d=h.stateNode;if(h=h.tag,h!==5&&h!==26&&h!==27||d===null||(h=rs(e,a),h!=null&&l.unshift(sl(e,h,d)),h=rs(e,i),h!=null&&l.push(sl(e,h,d))),e.tag===3)return l;e=e.return}return[]}function Da(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5&&e.tag!==27);return e||null}function t_(e,i,a,l,h){for(var d=i._reactName,v=[];a!==null&&a!==l;){var T=a,I=T.alternate,B=T.stateNode;if(T=T.tag,I!==null&&I===l)break;T!==5&&T!==26&&T!==27||B===null||(I=B,h?(B=rs(a,d),B!=null&&v.unshift(sl(a,B,I))):h||(B=rs(a,d),B!=null&&v.push(sl(a,B,I)))),a=a.return}v.length!==0&&e.push({event:i,listeners:v})}var JA=/\r\n?/g,tS=/\u0000|\uFFFD/g;function e_(e){return(typeof e=="string"?e:""+e).replace(JA,`
`).replace(tS,"")}function n_(e,i){return i=e_(i),e_(e)===i}function oc(){}function Xt(e,i,a,l,h,d){switch(a){case"children":typeof l=="string"?i==="body"||i==="textarea"&&l===""||gn(e,l):(typeof l=="number"||typeof l=="bigint")&&i!=="body"&&gn(e,""+l);break;case"className":Gn(e,"class",l);break;case"tabIndex":Gn(e,"tabindex",l);break;case"dir":case"role":case"viewBox":case"width":case"height":Gn(e,a,l);break;case"style":Eo(e,l,d);break;case"data":if(i!=="object"){Gn(e,"data",l);break}case"src":case"href":if(l===""&&(i!=="a"||a!=="href")){e.removeAttribute(a);break}if(l==null||typeof l=="function"||typeof l=="symbol"||typeof l=="boolean"){e.removeAttribute(a);break}l=$s(""+l),e.setAttribute(a,l);break;case"action":case"formAction":if(typeof l=="function"){e.setAttribute(a,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof d=="function"&&(a==="formAction"?(i!=="input"&&Xt(e,i,"name",h.name,h,null),Xt(e,i,"formEncType",h.formEncType,h,null),Xt(e,i,"formMethod",h.formMethod,h,null),Xt(e,i,"formTarget",h.formTarget,h,null)):(Xt(e,i,"encType",h.encType,h,null),Xt(e,i,"method",h.method,h,null),Xt(e,i,"target",h.target,h,null)));if(l==null||typeof l=="symbol"||typeof l=="boolean"){e.removeAttribute(a);break}l=$s(""+l),e.setAttribute(a,l);break;case"onClick":l!=null&&(e.onclick=oc);break;case"onScroll":l!=null&&Nt("scroll",e);break;case"onScrollEnd":l!=null&&Nt("scrollend",e);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(s(61));if(a=l.__html,a!=null){if(h.children!=null)throw Error(s(60));e.innerHTML=a}}break;case"multiple":e.multiple=l&&typeof l!="function"&&typeof l!="symbol";break;case"muted":e.muted=l&&typeof l!="function"&&typeof l!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(l==null||typeof l=="function"||typeof l=="boolean"||typeof l=="symbol"){e.removeAttribute("xlink:href");break}a=$s(""+l),e.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",a);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":l!=null&&typeof l!="function"&&typeof l!="symbol"?e.setAttribute(a,""+l):e.removeAttribute(a);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":l&&typeof l!="function"&&typeof l!="symbol"?e.setAttribute(a,""):e.removeAttribute(a);break;case"capture":case"download":l===!0?e.setAttribute(a,""):l!==!1&&l!=null&&typeof l!="function"&&typeof l!="symbol"?e.setAttribute(a,l):e.removeAttribute(a);break;case"cols":case"rows":case"size":case"span":l!=null&&typeof l!="function"&&typeof l!="symbol"&&!isNaN(l)&&1<=l?e.setAttribute(a,l):e.removeAttribute(a);break;case"rowSpan":case"start":l==null||typeof l=="function"||typeof l=="symbol"||isNaN(l)?e.removeAttribute(a):e.setAttribute(a,l);break;case"popover":Nt("beforetoggle",e),Nt("toggle",e),er(e,"popover",l);break;case"xlinkActuate":Pe(e,"http://www.w3.org/1999/xlink","xlink:actuate",l);break;case"xlinkArcrole":Pe(e,"http://www.w3.org/1999/xlink","xlink:arcrole",l);break;case"xlinkRole":Pe(e,"http://www.w3.org/1999/xlink","xlink:role",l);break;case"xlinkShow":Pe(e,"http://www.w3.org/1999/xlink","xlink:show",l);break;case"xlinkTitle":Pe(e,"http://www.w3.org/1999/xlink","xlink:title",l);break;case"xlinkType":Pe(e,"http://www.w3.org/1999/xlink","xlink:type",l);break;case"xmlBase":Pe(e,"http://www.w3.org/XML/1998/namespace","xml:base",l);break;case"xmlLang":Pe(e,"http://www.w3.org/XML/1998/namespace","xml:lang",l);break;case"xmlSpace":Pe(e,"http://www.w3.org/XML/1998/namespace","xml:space",l);break;case"is":er(e,"is",l);break;case"innerText":case"textContent":break;default:(!(2<a.length)||a[0]!=="o"&&a[0]!=="O"||a[1]!=="n"&&a[1]!=="N")&&(a=Lh.get(a)||a,er(e,a,l))}}function gd(e,i,a,l,h,d){switch(a){case"style":Eo(e,l,d);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(s(61));if(a=l.__html,a!=null){if(h.children!=null)throw Error(s(60));e.innerHTML=a}}break;case"children":typeof l=="string"?gn(e,l):(typeof l=="number"||typeof l=="bigint")&&gn(e,""+l);break;case"onScroll":l!=null&&Nt("scroll",e);break;case"onScrollEnd":l!=null&&Nt("scrollend",e);break;case"onClick":l!=null&&(e.onclick=oc);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Gs.hasOwnProperty(a))t:{if(a[0]==="o"&&a[1]==="n"&&(h=a.endsWith("Capture"),i=a.slice(2,h?a.length-7:void 0),d=e[me]||null,d=d!=null?d[a]:null,typeof d=="function"&&e.removeEventListener(i,d,h),typeof l=="function")){typeof d!="function"&&d!==null&&(a in e?e[a]=null:e.hasAttribute(a)&&e.removeAttribute(a)),e.addEventListener(i,l,h);break t}a in e?e[a]=l:l===!0?e.setAttribute(a,""):er(e,a,l)}}}function ze(e,i,a){switch(i){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Nt("error",e),Nt("load",e);var l=!1,h=!1,d;for(d in a)if(a.hasOwnProperty(d)){var v=a[d];if(v!=null)switch(d){case"src":l=!0;break;case"srcSet":h=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(s(137,i));default:Xt(e,i,d,v,a,null)}}h&&Xt(e,i,"srcSet",a.srcSet,a,null),l&&Xt(e,i,"src",a.src,a,null);return;case"input":Nt("invalid",e);var T=d=v=h=null,I=null,B=null;for(l in a)if(a.hasOwnProperty(l)){var Y=a[l];if(Y!=null)switch(l){case"name":h=Y;break;case"type":v=Y;break;case"checked":I=Y;break;case"defaultChecked":B=Y;break;case"value":d=Y;break;case"defaultValue":T=Y;break;case"children":case"dangerouslySetInnerHTML":if(Y!=null)throw Error(s(137,i));break;default:Xt(e,i,l,Y,a,null)}}es(e,d,T,I,B,v,h,!1),Xs(e);return;case"select":Nt("invalid",e),l=v=d=null;for(h in a)if(a.hasOwnProperty(h)&&(T=a[h],T!=null))switch(h){case"value":d=T;break;case"defaultValue":v=T;break;case"multiple":l=T;default:Xt(e,i,h,T,a,null)}i=d,a=v,e.multiple=!!l,i!=null?Ei(e,!!l,i,!1):a!=null&&Ei(e,!!l,a,!0);return;case"textarea":Nt("invalid",e),d=h=l=null;for(v in a)if(a.hasOwnProperty(v)&&(T=a[v],T!=null))switch(v){case"value":l=T;break;case"defaultValue":h=T;break;case"children":d=T;break;case"dangerouslySetInnerHTML":if(T!=null)throw Error(s(91));break;default:Xt(e,i,v,T,a,null)}ns(e,l,h,d),Xs(e);return;case"option":for(I in a)if(a.hasOwnProperty(I)&&(l=a[I],l!=null))switch(I){case"selected":e.selected=l&&typeof l!="function"&&typeof l!="symbol";break;default:Xt(e,i,I,l,a,null)}return;case"dialog":Nt("beforetoggle",e),Nt("toggle",e),Nt("cancel",e),Nt("close",e);break;case"iframe":case"object":Nt("load",e);break;case"video":case"audio":for(l=0;l<rl.length;l++)Nt(rl[l],e);break;case"image":Nt("error",e),Nt("load",e);break;case"details":Nt("toggle",e);break;case"embed":case"source":case"link":Nt("error",e),Nt("load",e);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(B in a)if(a.hasOwnProperty(B)&&(l=a[B],l!=null))switch(B){case"children":case"dangerouslySetInnerHTML":throw Error(s(137,i));default:Xt(e,i,B,l,a,null)}return;default:if(To(i)){for(Y in a)a.hasOwnProperty(Y)&&(l=a[Y],l!==void 0&&gd(e,i,Y,l,a,void 0));return}}for(T in a)a.hasOwnProperty(T)&&(l=a[T],l!=null&&Xt(e,i,T,l,a,null))}function eS(e,i,a,l){switch(i){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var h=null,d=null,v=null,T=null,I=null,B=null,Y=null;for(q in a){var Z=a[q];if(a.hasOwnProperty(q)&&Z!=null)switch(q){case"checked":break;case"value":break;case"defaultValue":I=Z;default:l.hasOwnProperty(q)||Xt(e,i,q,null,l,Z)}}for(var H in l){var q=l[H];if(Z=a[H],l.hasOwnProperty(H)&&(q!=null||Z!=null))switch(H){case"type":d=q;break;case"name":h=q;break;case"checked":B=q;break;case"defaultChecked":Y=q;break;case"value":v=q;break;case"defaultValue":T=q;break;case"children":case"dangerouslySetInnerHTML":if(q!=null)throw Error(s(137,i));break;default:q!==Z&&Xt(e,i,H,q,l,Z)}}an(e,v,T,I,B,Y,d,h);return;case"select":q=v=T=H=null;for(d in a)if(I=a[d],a.hasOwnProperty(d)&&I!=null)switch(d){case"value":break;case"multiple":q=I;default:l.hasOwnProperty(d)||Xt(e,i,d,null,l,I)}for(h in l)if(d=l[h],I=a[h],l.hasOwnProperty(h)&&(d!=null||I!=null))switch(h){case"value":H=d;break;case"defaultValue":T=d;break;case"multiple":v=d;default:d!==I&&Xt(e,i,h,d,l,I)}i=T,a=v,l=q,H!=null?Ei(e,!!a,H,!1):!!l!=!!a&&(i!=null?Ei(e,!!a,i,!0):Ei(e,!!a,a?[]:"",!1));return;case"textarea":q=H=null;for(T in a)if(h=a[T],a.hasOwnProperty(T)&&h!=null&&!l.hasOwnProperty(T))switch(T){case"value":break;case"children":break;default:Xt(e,i,T,null,l,h)}for(v in l)if(h=l[v],d=a[v],l.hasOwnProperty(v)&&(h!=null||d!=null))switch(v){case"value":H=h;break;case"defaultValue":q=h;break;case"children":break;case"dangerouslySetInnerHTML":if(h!=null)throw Error(s(91));break;default:h!==d&&Xt(e,i,v,h,l,d)}Kt(e,H,q);return;case"option":for(var vt in a)if(H=a[vt],a.hasOwnProperty(vt)&&H!=null&&!l.hasOwnProperty(vt))switch(vt){case"selected":e.selected=!1;break;default:Xt(e,i,vt,null,l,H)}for(I in l)if(H=l[I],q=a[I],l.hasOwnProperty(I)&&H!==q&&(H!=null||q!=null))switch(I){case"selected":e.selected=H&&typeof H!="function"&&typeof H!="symbol";break;default:Xt(e,i,I,H,l,q)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var gt in a)H=a[gt],a.hasOwnProperty(gt)&&H!=null&&!l.hasOwnProperty(gt)&&Xt(e,i,gt,null,l,H);for(B in l)if(H=l[B],q=a[B],l.hasOwnProperty(B)&&H!==q&&(H!=null||q!=null))switch(B){case"children":case"dangerouslySetInnerHTML":if(H!=null)throw Error(s(137,i));break;default:Xt(e,i,B,H,l,q)}return;default:if(To(i)){for(var $t in a)H=a[$t],a.hasOwnProperty($t)&&H!==void 0&&!l.hasOwnProperty($t)&&gd(e,i,$t,void 0,l,H);for(Y in l)H=l[Y],q=a[Y],!l.hasOwnProperty(Y)||H===q||H===void 0&&q===void 0||gd(e,i,Y,H,l,q);return}}for(var x in a)H=a[x],a.hasOwnProperty(x)&&H!=null&&!l.hasOwnProperty(x)&&Xt(e,i,x,null,l,H);for(Z in l)H=l[Z],q=a[Z],!l.hasOwnProperty(Z)||H===q||H==null&&q==null||Xt(e,i,Z,H,l,q)}var yd=null,_d=null;function lc(e){return e.nodeType===9?e:e.ownerDocument}function i_(e){switch(e){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function r_(e,i){if(e===0)switch(i){case"svg":return 1;case"math":return 2;default:return 0}return e===1&&i==="foreignObject"?0:e}function vd(e,i){return e==="textarea"||e==="noscript"||typeof i.children=="string"||typeof i.children=="number"||typeof i.children=="bigint"||typeof i.dangerouslySetInnerHTML=="object"&&i.dangerouslySetInnerHTML!==null&&i.dangerouslySetInnerHTML.__html!=null}var Ed=null;function nS(){var e=window.event;return e&&e.type==="popstate"?e===Ed?!1:(Ed=e,!0):(Ed=null,!1)}var s_=typeof setTimeout=="function"?setTimeout:void 0,iS=typeof clearTimeout=="function"?clearTimeout:void 0,a_=typeof Promise=="function"?Promise:void 0,rS=typeof queueMicrotask=="function"?queueMicrotask:typeof a_<"u"?function(e){return a_.resolve(null).then(e).catch(sS)}:s_;function sS(e){setTimeout(function(){throw e})}function vr(e){return e==="head"}function o_(e,i){var a=i,l=0,h=0;do{var d=a.nextSibling;if(e.removeChild(a),d&&d.nodeType===8)if(a=d.data,a==="/$"){if(0<l&&8>l){a=l;var v=e.ownerDocument;if(a&1&&al(v.documentElement),a&2&&al(v.body),a&4)for(a=v.head,al(a),v=a.firstChild;v;){var T=v.nextSibling,I=v.nodeName;v[Zr]||I==="SCRIPT"||I==="STYLE"||I==="LINK"&&v.rel.toLowerCase()==="stylesheet"||a.removeChild(v),v=T}}if(h===0){e.removeChild(d),ml(i);return}h--}else a==="$"||a==="$?"||a==="$!"?h++:l=a.charCodeAt(0)-48;else l=0;a=d}while(a);ml(i)}function Td(e){var i=e.firstChild;for(i&&i.nodeType===10&&(i=i.nextSibling);i;){var a=i;switch(i=i.nextSibling,a.nodeName){case"HTML":case"HEAD":case"BODY":Td(a),tr(a);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(a.rel.toLowerCase()==="stylesheet")continue}e.removeChild(a)}}function aS(e,i,a,l){for(;e.nodeType===1;){var h=a;if(e.nodeName.toLowerCase()!==i.toLowerCase()){if(!l&&(e.nodeName!=="INPUT"||e.type!=="hidden"))break}else if(l){if(!e[Zr])switch(i){case"meta":if(!e.hasAttribute("itemprop"))break;return e;case"link":if(d=e.getAttribute("rel"),d==="stylesheet"&&e.hasAttribute("data-precedence"))break;if(d!==h.rel||e.getAttribute("href")!==(h.href==null||h.href===""?null:h.href)||e.getAttribute("crossorigin")!==(h.crossOrigin==null?null:h.crossOrigin)||e.getAttribute("title")!==(h.title==null?null:h.title))break;return e;case"style":if(e.hasAttribute("data-precedence"))break;return e;case"script":if(d=e.getAttribute("src"),(d!==(h.src==null?null:h.src)||e.getAttribute("type")!==(h.type==null?null:h.type)||e.getAttribute("crossorigin")!==(h.crossOrigin==null?null:h.crossOrigin))&&d&&e.hasAttribute("async")&&!e.hasAttribute("itemprop"))break;return e;default:return e}}else if(i==="input"&&e.type==="hidden"){var d=h.name==null?null:""+h.name;if(h.type==="hidden"&&e.getAttribute("name")===d)return e}else return e;if(e=Pn(e.nextSibling),e===null)break}return null}function oS(e,i,a){if(i==="")return null;for(;e.nodeType!==3;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!a||(e=Pn(e.nextSibling),e===null))return null;return e}function Ad(e){return e.data==="$!"||e.data==="$?"&&e.ownerDocument.readyState==="complete"}function lS(e,i){var a=e.ownerDocument;if(e.data!=="$?"||a.readyState==="complete")i();else{var l=function(){i(),a.removeEventListener("DOMContentLoaded",l)};a.addEventListener("DOMContentLoaded",l),e._reactRetry=l}}function Pn(e){for(;e!=null;e=e.nextSibling){var i=e.nodeType;if(i===1||i===3)break;if(i===8){if(i=e.data,i==="$"||i==="$!"||i==="$?"||i==="F!"||i==="F")break;if(i==="/$")return null}}return e}var Sd=null;function l_(e){e=e.previousSibling;for(var i=0;e;){if(e.nodeType===8){var a=e.data;if(a==="$"||a==="$!"||a==="$?"){if(i===0)return e;i--}else a==="/$"&&i++}e=e.previousSibling}return null}function u_(e,i,a){switch(i=lc(a),e){case"html":if(e=i.documentElement,!e)throw Error(s(452));return e;case"head":if(e=i.head,!e)throw Error(s(453));return e;case"body":if(e=i.body,!e)throw Error(s(454));return e;default:throw Error(s(451))}}function al(e){for(var i=e.attributes;i.length;)e.removeAttributeNode(i[0]);tr(e)}var Rn=new Map,c_=new Set;function uc(e){return typeof e.getRootNode=="function"?e.getRootNode():e.nodeType===9?e:e.ownerDocument}var zi=st.d;st.d={f:uS,r:cS,D:hS,C:fS,L:dS,m:mS,X:gS,S:pS,M:yS};function uS(){var e=zi.f(),i=tc();return e||i}function cS(e){var i=jn(e);i!==null&&i.tag===5&&i.type==="form"?Og(i):zi.r(e)}var Oa=typeof document>"u"?null:document;function h_(e,i,a){var l=Oa;if(l&&typeof i=="string"&&i){var h=pe(i);h='link[rel="'+e+'"][href="'+h+'"]',typeof a=="string"&&(h+='[crossorigin="'+a+'"]'),c_.has(h)||(c_.add(h),e={rel:e,crossOrigin:a,href:i},l.querySelector(h)===null&&(i=l.createElement("link"),ze(i,"link",e),ce(i),l.head.appendChild(i)))}}function hS(e){zi.D(e),h_("dns-prefetch",e,null)}function fS(e,i){zi.C(e,i),h_("preconnect",e,i)}function dS(e,i,a){zi.L(e,i,a);var l=Oa;if(l&&e&&i){var h='link[rel="preload"][as="'+pe(i)+'"]';i==="image"&&a&&a.imageSrcSet?(h+='[imagesrcset="'+pe(a.imageSrcSet)+'"]',typeof a.imageSizes=="string"&&(h+='[imagesizes="'+pe(a.imageSizes)+'"]')):h+='[href="'+pe(e)+'"]';var d=h;switch(i){case"style":d=Na(e);break;case"script":d=Ma(e)}Rn.has(d)||(e=E({rel:"preload",href:i==="image"&&a&&a.imageSrcSet?void 0:e,as:i},a),Rn.set(d,e),l.querySelector(h)!==null||i==="style"&&l.querySelector(ol(d))||i==="script"&&l.querySelector(ll(d))||(i=l.createElement("link"),ze(i,"link",e),ce(i),l.head.appendChild(i)))}}function mS(e,i){zi.m(e,i);var a=Oa;if(a&&e){var l=i&&typeof i.as=="string"?i.as:"script",h='link[rel="modulepreload"][as="'+pe(l)+'"][href="'+pe(e)+'"]',d=h;switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":d=Ma(e)}if(!Rn.has(d)&&(e=E({rel:"modulepreload",href:e},i),Rn.set(d,e),a.querySelector(h)===null)){switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(a.querySelector(ll(d)))return}l=a.createElement("link"),ze(l,"link",e),ce(l),a.head.appendChild(l)}}}function pS(e,i,a){zi.S(e,i,a);var l=Oa;if(l&&e){var h=$e(l).hoistableStyles,d=Na(e);i=i||"default";var v=h.get(d);if(!v){var T={loading:0,preload:null};if(v=l.querySelector(ol(d)))T.loading=5;else{e=E({rel:"stylesheet",href:e,"data-precedence":i},a),(a=Rn.get(d))&&bd(e,a);var I=v=l.createElement("link");ce(I),ze(I,"link",e),I._p=new Promise(function(B,Y){I.onload=B,I.onerror=Y}),I.addEventListener("load",function(){T.loading|=1}),I.addEventListener("error",function(){T.loading|=2}),T.loading|=4,cc(v,i,l)}v={type:"stylesheet",instance:v,count:1,state:T},h.set(d,v)}}}function gS(e,i){zi.X(e,i);var a=Oa;if(a&&e){var l=$e(a).hoistableScripts,h=Ma(e),d=l.get(h);d||(d=a.querySelector(ll(h)),d||(e=E({src:e,async:!0},i),(i=Rn.get(h))&&wd(e,i),d=a.createElement("script"),ce(d),ze(d,"link",e),a.head.appendChild(d)),d={type:"script",instance:d,count:1,state:null},l.set(h,d))}}function yS(e,i){zi.M(e,i);var a=Oa;if(a&&e){var l=$e(a).hoistableScripts,h=Ma(e),d=l.get(h);d||(d=a.querySelector(ll(h)),d||(e=E({src:e,async:!0,type:"module"},i),(i=Rn.get(h))&&wd(e,i),d=a.createElement("script"),ce(d),ze(d,"link",e),a.head.appendChild(d)),d={type:"script",instance:d,count:1,state:null},l.set(h,d))}}function f_(e,i,a,l){var h=(h=Tt.current)?uc(h):null;if(!h)throw Error(s(446));switch(e){case"meta":case"title":return null;case"style":return typeof a.precedence=="string"&&typeof a.href=="string"?(i=Na(a.href),a=$e(h).hoistableStyles,l=a.get(i),l||(l={type:"style",instance:null,count:0,state:null},a.set(i,l)),l):{type:"void",instance:null,count:0,state:null};case"link":if(a.rel==="stylesheet"&&typeof a.href=="string"&&typeof a.precedence=="string"){e=Na(a.href);var d=$e(h).hoistableStyles,v=d.get(e);if(v||(h=h.ownerDocument||h,v={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},d.set(e,v),(d=h.querySelector(ol(e)))&&!d._p&&(v.instance=d,v.state.loading=5),Rn.has(e)||(a={rel:"preload",as:"style",href:a.href,crossOrigin:a.crossOrigin,integrity:a.integrity,media:a.media,hrefLang:a.hrefLang,referrerPolicy:a.referrerPolicy},Rn.set(e,a),d||_S(h,e,a,v.state))),i&&l===null)throw Error(s(528,""));return v}if(i&&l!==null)throw Error(s(529,""));return null;case"script":return i=a.async,a=a.src,typeof a=="string"&&i&&typeof i!="function"&&typeof i!="symbol"?(i=Ma(a),a=$e(h).hoistableScripts,l=a.get(i),l||(l={type:"script",instance:null,count:0,state:null},a.set(i,l)),l):{type:"void",instance:null,count:0,state:null};default:throw Error(s(444,e))}}function Na(e){return'href="'+pe(e)+'"'}function ol(e){return'link[rel="stylesheet"]['+e+"]"}function d_(e){return E({},e,{"data-precedence":e.precedence,precedence:null})}function _S(e,i,a,l){e.querySelector('link[rel="preload"][as="style"]['+i+"]")?l.loading=1:(i=e.createElement("link"),l.preload=i,i.addEventListener("load",function(){return l.loading|=1}),i.addEventListener("error",function(){return l.loading|=2}),ze(i,"link",a),ce(i),e.head.appendChild(i))}function Ma(e){return'[src="'+pe(e)+'"]'}function ll(e){return"script[async]"+e}function m_(e,i,a){if(i.count++,i.instance===null)switch(i.type){case"style":var l=e.querySelector('style[data-href~="'+pe(a.href)+'"]');if(l)return i.instance=l,ce(l),l;var h=E({},a,{"data-href":a.href,"data-precedence":a.precedence,href:null,precedence:null});return l=(e.ownerDocument||e).createElement("style"),ce(l),ze(l,"style",h),cc(l,a.precedence,e),i.instance=l;case"stylesheet":h=Na(a.href);var d=e.querySelector(ol(h));if(d)return i.state.loading|=4,i.instance=d,ce(d),d;l=d_(a),(h=Rn.get(h))&&bd(l,h),d=(e.ownerDocument||e).createElement("link"),ce(d);var v=d;return v._p=new Promise(function(T,I){v.onload=T,v.onerror=I}),ze(d,"link",l),i.state.loading|=4,cc(d,a.precedence,e),i.instance=d;case"script":return d=Ma(a.src),(h=e.querySelector(ll(d)))?(i.instance=h,ce(h),h):(l=a,(h=Rn.get(d))&&(l=E({},a),wd(l,h)),e=e.ownerDocument||e,h=e.createElement("script"),ce(h),ze(h,"link",l),e.head.appendChild(h),i.instance=h);case"void":return null;default:throw Error(s(443,i.type))}else i.type==="stylesheet"&&(i.state.loading&4)===0&&(l=i.instance,i.state.loading|=4,cc(l,a.precedence,e));return i.instance}function cc(e,i,a){for(var l=a.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),h=l.length?l[l.length-1]:null,d=h,v=0;v<l.length;v++){var T=l[v];if(T.dataset.precedence===i)d=T;else if(d!==h)break}d?d.parentNode.insertBefore(e,d.nextSibling):(i=a.nodeType===9?a.head:a,i.insertBefore(e,i.firstChild))}function bd(e,i){e.crossOrigin==null&&(e.crossOrigin=i.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=i.referrerPolicy),e.title==null&&(e.title=i.title)}function wd(e,i){e.crossOrigin==null&&(e.crossOrigin=i.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=i.referrerPolicy),e.integrity==null&&(e.integrity=i.integrity)}var hc=null;function p_(e,i,a){if(hc===null){var l=new Map,h=hc=new Map;h.set(a,l)}else h=hc,l=h.get(a),l||(l=new Map,h.set(a,l));if(l.has(e))return l;for(l.set(e,null),a=a.getElementsByTagName(e),h=0;h<a.length;h++){var d=a[h];if(!(d[Zr]||d[ve]||e==="link"&&d.getAttribute("rel")==="stylesheet")&&d.namespaceURI!=="http://www.w3.org/2000/svg"){var v=d.getAttribute(i)||"";v=e+v;var T=l.get(v);T?T.push(d):l.set(v,[d])}}return l}function g_(e,i,a){e=e.ownerDocument||e,e.head.insertBefore(a,i==="title"?e.querySelector("head > title"):null)}function vS(e,i,a){if(a===1||i.itemProp!=null)return!1;switch(e){case"meta":case"title":return!0;case"style":if(typeof i.precedence!="string"||typeof i.href!="string"||i.href==="")break;return!0;case"link":if(typeof i.rel!="string"||typeof i.href!="string"||i.href===""||i.onLoad||i.onError)break;switch(i.rel){case"stylesheet":return e=i.disabled,typeof i.precedence=="string"&&e==null;default:return!0}case"script":if(i.async&&typeof i.async!="function"&&typeof i.async!="symbol"&&!i.onLoad&&!i.onError&&i.src&&typeof i.src=="string")return!0}return!1}function y_(e){return!(e.type==="stylesheet"&&(e.state.loading&3)===0)}var ul=null;function ES(){}function TS(e,i,a){if(ul===null)throw Error(s(475));var l=ul;if(i.type==="stylesheet"&&(typeof a.media!="string"||matchMedia(a.media).matches!==!1)&&(i.state.loading&4)===0){if(i.instance===null){var h=Na(a.href),d=e.querySelector(ol(h));if(d){e=d._p,e!==null&&typeof e=="object"&&typeof e.then=="function"&&(l.count++,l=fc.bind(l),e.then(l,l)),i.state.loading|=4,i.instance=d,ce(d);return}d=e.ownerDocument||e,a=d_(a),(h=Rn.get(h))&&bd(a,h),d=d.createElement("link"),ce(d);var v=d;v._p=new Promise(function(T,I){v.onload=T,v.onerror=I}),ze(d,"link",a),i.instance=d}l.stylesheets===null&&(l.stylesheets=new Map),l.stylesheets.set(i,e),(e=i.state.preload)&&(i.state.loading&3)===0&&(l.count++,i=fc.bind(l),e.addEventListener("load",i),e.addEventListener("error",i))}}function AS(){if(ul===null)throw Error(s(475));var e=ul;return e.stylesheets&&e.count===0&&Rd(e,e.stylesheets),0<e.count?function(i){var a=setTimeout(function(){if(e.stylesheets&&Rd(e,e.stylesheets),e.unsuspend){var l=e.unsuspend;e.unsuspend=null,l()}},6e4);return e.unsuspend=i,function(){e.unsuspend=null,clearTimeout(a)}}:null}function fc(){if(this.count--,this.count===0){if(this.stylesheets)Rd(this,this.stylesheets);else if(this.unsuspend){var e=this.unsuspend;this.unsuspend=null,e()}}}var dc=null;function Rd(e,i){e.stylesheets=null,e.unsuspend!==null&&(e.count++,dc=new Map,i.forEach(SS,e),dc=null,fc.call(e))}function SS(e,i){if(!(i.state.loading&4)){var a=dc.get(e);if(a)var l=a.get(null);else{a=new Map,dc.set(e,a);for(var h=e.querySelectorAll("link[data-precedence],style[data-precedence]"),d=0;d<h.length;d++){var v=h[d];(v.nodeName==="LINK"||v.getAttribute("media")!=="not all")&&(a.set(v.dataset.precedence,v),l=v)}l&&a.set(null,l)}h=i.instance,v=h.getAttribute("data-precedence"),d=a.get(v)||l,d===l&&a.set(null,h),a.set(v,h),this.count++,l=fc.bind(this),h.addEventListener("load",l),h.addEventListener("error",l),d?d.parentNode.insertBefore(h,d.nextSibling):(e=e.nodeType===9?e.head:e,e.insertBefore(h,e.firstChild)),i.state.loading|=4}}var cl={$$typeof:it,Provider:null,Consumer:null,_currentValue:ft,_currentValue2:ft,_threadCount:0};function bS(e,i,a,l,h,d,v,T){this.tag=1,this.containerInfo=e,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=pi(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=pi(0),this.hiddenUpdates=pi(null),this.identifierPrefix=l,this.onUncaughtError=h,this.onCaughtError=d,this.onRecoverableError=v,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=T,this.incompleteTransitions=new Map}function __(e,i,a,l,h,d,v,T,I,B,Y,Z){return e=new bS(e,i,a,v,T,I,B,Z),i=1,d===!0&&(i|=24),d=ln(3,null,null,i),e.current=d,d.stateNode=e,i=of(),i.refCount++,e.pooledCache=i,i.refCount++,d.memoizedState={element:l,isDehydrated:a,cache:i},hf(d),e}function v_(e){return e?(e=ua,e):ua}function E_(e,i,a,l,h,d){h=v_(h),l.context===null?l.context=h:l.pendingContext=h,l=ar(i),l.payload={element:a},d=d===void 0?null:d,d!==null&&(l.callback=d),a=or(e,l,i),a!==null&&(dn(a,e,i),Bo(a,e,i))}function T_(e,i){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var a=e.retryLane;e.retryLane=a!==0&&a<i?a:i}}function Id(e,i){T_(e,i),(e=e.alternate)&&T_(e,i)}function A_(e){if(e.tag===13){var i=la(e,67108864);i!==null&&dn(i,e,67108864),Id(e,67108864)}}var mc=!0;function wS(e,i,a,l){var h=K.T;K.T=null;var d=st.p;try{st.p=2,Cd(e,i,a,l)}finally{st.p=d,K.T=h}}function RS(e,i,a,l){var h=K.T;K.T=null;var d=st.p;try{st.p=8,Cd(e,i,a,l)}finally{st.p=d,K.T=h}}function Cd(e,i,a,l){if(mc){var h=Dd(l);if(h===null)pd(e,i,l,pc,a),b_(e,l);else if(CS(h,e,i,a,l))l.stopPropagation();else if(b_(e,l),i&4&&-1<IS.indexOf(e)){for(;h!==null;){var d=jn(h);if(d!==null)switch(d.tag){case 3:if(d=d.stateNode,d.current.memoizedState.isDehydrated){var v=On(d.pendingLanes);if(v!==0){var T=d;for(T.pendingLanes|=2,T.entangledLanes|=2;v;){var I=1<<31-je(v);T.entanglements[1]|=I,v&=~I}ii(d),(Gt&6)===0&&(Wu=mn()+500,il(0))}}break;case 13:T=la(d,2),T!==null&&dn(T,d,2),tc(),Id(d,2)}if(d=Dd(l),d===null&&pd(e,i,l,pc,a),d===h)break;h=d}h!==null&&l.stopPropagation()}else pd(e,i,l,null,a)}}function Dd(e){return e=yn(e),Od(e)}var pc=null;function Od(e){if(pc=null,e=yi(e),e!==null){var i=u(e);if(i===null)e=null;else{var a=i.tag;if(a===13){if(e=f(i),e!==null)return e;e=null}else if(a===3){if(i.stateNode.current.memoizedState.isDehydrated)return i.tag===3?i.stateNode.containerInfo:null;e=null}else i!==e&&(e=null)}}return pc=e,null}function S_(e){switch(e){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(Mh()){case oo:return 2;case Hs:return 8;case Qr:case Vh:return 32;case qs:return 268435456;default:return 32}default:return 32}}var Nd=!1,Er=null,Tr=null,Ar=null,hl=new Map,fl=new Map,Sr=[],IS="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function b_(e,i){switch(e){case"focusin":case"focusout":Er=null;break;case"dragenter":case"dragleave":Tr=null;break;case"mouseover":case"mouseout":Ar=null;break;case"pointerover":case"pointerout":hl.delete(i.pointerId);break;case"gotpointercapture":case"lostpointercapture":fl.delete(i.pointerId)}}function dl(e,i,a,l,h,d){return e===null||e.nativeEvent!==d?(e={blockedOn:i,domEventName:a,eventSystemFlags:l,nativeEvent:d,targetContainers:[h]},i!==null&&(i=jn(i),i!==null&&A_(i)),e):(e.eventSystemFlags|=l,i=e.targetContainers,h!==null&&i.indexOf(h)===-1&&i.push(h),e)}function CS(e,i,a,l,h){switch(i){case"focusin":return Er=dl(Er,e,i,a,l,h),!0;case"dragenter":return Tr=dl(Tr,e,i,a,l,h),!0;case"mouseover":return Ar=dl(Ar,e,i,a,l,h),!0;case"pointerover":var d=h.pointerId;return hl.set(d,dl(hl.get(d)||null,e,i,a,l,h)),!0;case"gotpointercapture":return d=h.pointerId,fl.set(d,dl(fl.get(d)||null,e,i,a,l,h)),!0}return!1}function w_(e){var i=yi(e.target);if(i!==null){var a=u(i);if(a!==null){if(i=a.tag,i===13){if(i=f(a),i!==null){e.blockedOn=i,tu(e.priority,function(){if(a.tag===13){var l=fn();l=Zi(l);var h=la(a,l);h!==null&&dn(h,a,l),Id(a,l)}});return}}else if(i===3&&a.stateNode.current.memoizedState.isDehydrated){e.blockedOn=a.tag===3?a.stateNode.containerInfo:null;return}}}e.blockedOn=null}function gc(e){if(e.blockedOn!==null)return!1;for(var i=e.targetContainers;0<i.length;){var a=Dd(e.nativeEvent);if(a===null){a=e.nativeEvent;var l=new a.constructor(a.type,a);Ti=l,a.target.dispatchEvent(l),Ti=null}else return i=jn(a),i!==null&&A_(i),e.blockedOn=a,!1;i.shift()}return!0}function R_(e,i,a){gc(e)&&a.delete(i)}function DS(){Nd=!1,Er!==null&&gc(Er)&&(Er=null),Tr!==null&&gc(Tr)&&(Tr=null),Ar!==null&&gc(Ar)&&(Ar=null),hl.forEach(R_),fl.forEach(R_)}function yc(e,i){e.blockedOn===i&&(e.blockedOn=null,Nd||(Nd=!0,r.unstable_scheduleCallback(r.unstable_NormalPriority,DS)))}var _c=null;function I_(e){_c!==e&&(_c=e,r.unstable_scheduleCallback(r.unstable_NormalPriority,function(){_c===e&&(_c=null);for(var i=0;i<e.length;i+=3){var a=e[i],l=e[i+1],h=e[i+2];if(typeof l!="function"){if(Od(l||a)===null)continue;break}var d=jn(a);d!==null&&(e.splice(i,3),i-=3,Of(d,{pending:!0,data:h,method:a.method,action:l},l,h))}}))}function ml(e){function i(I){return yc(I,e)}Er!==null&&yc(Er,e),Tr!==null&&yc(Tr,e),Ar!==null&&yc(Ar,e),hl.forEach(i),fl.forEach(i);for(var a=0;a<Sr.length;a++){var l=Sr[a];l.blockedOn===e&&(l.blockedOn=null)}for(;0<Sr.length&&(a=Sr[0],a.blockedOn===null);)w_(a),a.blockedOn===null&&Sr.shift();if(a=(e.ownerDocument||e).$$reactFormReplay,a!=null)for(l=0;l<a.length;l+=3){var h=a[l],d=a[l+1],v=h[me]||null;if(typeof d=="function")v||I_(a);else if(v){var T=null;if(d&&d.hasAttribute("formAction")){if(h=d,v=d[me]||null)T=v.formAction;else if(Od(h)!==null)continue}else T=v.action;typeof T=="function"?a[l+1]=T:(a.splice(l,3),l-=3),I_(a)}}}function Md(e){this._internalRoot=e}vc.prototype.render=Md.prototype.render=function(e){var i=this._internalRoot;if(i===null)throw Error(s(409));var a=i.current,l=fn();E_(a,l,e,i,null,null)},vc.prototype.unmount=Md.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var i=e.containerInfo;E_(e.current,2,null,e,null,null),tc(),i[pn]=null}};function vc(e){this._internalRoot=e}vc.prototype.unstable_scheduleHydration=function(e){if(e){var i=Wi();e={blockedOn:null,target:e,priority:i};for(var a=0;a<Sr.length&&i!==0&&i<Sr[a].priority;a++);Sr.splice(a,0,e),a===0&&w_(e)}};var C_=t.version;if(C_!=="19.1.0")throw Error(s(527,C_,"19.1.0"));st.findDOMNode=function(e){var i=e._reactInternals;if(i===void 0)throw typeof e.render=="function"?Error(s(188)):(e=Object.keys(e).join(","),Error(s(268,e)));return e=g(i),e=e!==null?y(e):null,e=e===null?null:e.stateNode,e};var OS={bundleType:0,version:"19.1.0",rendererPackageName:"react-dom",currentDispatcherRef:K,reconcilerVersion:"19.1.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Ec=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Ec.isDisabled&&Ec.supportsFiber)try{oe=Ec.inject(OS),Ft=Ec}catch{}}return gl.createRoot=function(e,i){if(!o(e))throw Error(s(299));var a=!1,l="",h=Fg,d=Gg,v=Qg,T=null;return i!=null&&(i.unstable_strictMode===!0&&(a=!0),i.identifierPrefix!==void 0&&(l=i.identifierPrefix),i.onUncaughtError!==void 0&&(h=i.onUncaughtError),i.onCaughtError!==void 0&&(d=i.onCaughtError),i.onRecoverableError!==void 0&&(v=i.onRecoverableError),i.unstable_transitionCallbacks!==void 0&&(T=i.unstable_transitionCallbacks)),i=__(e,1,!1,null,null,a,l,h,d,v,T,null),e[pn]=i.current,md(e),new Md(i)},gl.hydrateRoot=function(e,i,a){if(!o(e))throw Error(s(299));var l=!1,h="",d=Fg,v=Gg,T=Qg,I=null,B=null;return a!=null&&(a.unstable_strictMode===!0&&(l=!0),a.identifierPrefix!==void 0&&(h=a.identifierPrefix),a.onUncaughtError!==void 0&&(d=a.onUncaughtError),a.onCaughtError!==void 0&&(v=a.onCaughtError),a.onRecoverableError!==void 0&&(T=a.onRecoverableError),a.unstable_transitionCallbacks!==void 0&&(I=a.unstable_transitionCallbacks),a.formState!==void 0&&(B=a.formState)),i=__(e,1,!0,i,a??null,l,h,d,v,T,I,B),i.context=v_(null),a=i.current,l=fn(),l=Zi(l),h=ar(l),h.callback=null,or(a,h,l),a=l,i.current.lanes=a,gi(i,a),ii(i),e[pn]=i.current,md(e),new vc(i)},gl.version="19.1.0",gl}var L_;function qS(){if(L_)return Pd.exports;L_=1;function r(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(r)}catch(t){console.error(t)}}return r(),Pd.exports=HS(),Pd.exports}var jS=qS(),yl={},z_;function FS(){if(z_)return yl;z_=1,Object.defineProperty(yl,"__esModule",{value:!0}),yl.parse=f,yl.serialize=y;const r=/^[\u0021-\u003A\u003C\u003E-\u007E]+$/,t=/^[\u0021-\u003A\u003C-\u007E]*$/,n=/^([.]?[a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)([.][a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)*$/i,s=/^[\u0020-\u003A\u003D-\u007E]*$/,o=Object.prototype.toString,u=(()=>{const S=function(){};return S.prototype=Object.create(null),S})();function f(S,L){const P=new u,Q=S.length;if(Q<2)return P;const F=(L==null?void 0:L.decode)||E;let $=0;do{const J=S.indexOf("=",$);if(J===-1)break;const it=S.indexOf(";",$),ht=it===-1?Q:it;if(J>ht){$=S.lastIndexOf(";",J-1)+1;continue}const ut=m(S,$,J),bt=g(S,J,ut),M=S.slice(ut,bt);if(P[M]===void 0){let w=m(S,J+1,ht),R=g(S,ht,w);const O=F(S.slice(w,R));P[M]=O}$=ht+1}while($<Q);return P}function m(S,L,P){do{const Q=S.charCodeAt(L);if(Q!==32&&Q!==9)return L}while(++L<P);return P}function g(S,L,P){for(;L>P;){const Q=S.charCodeAt(--L);if(Q!==32&&Q!==9)return L+1}return P}function y(S,L,P){const Q=(P==null?void 0:P.encode)||encodeURIComponent;if(!r.test(S))throw new TypeError(`argument name is invalid: ${S}`);const F=Q(L);if(!t.test(F))throw new TypeError(`argument val is invalid: ${L}`);let $=S+"="+F;if(!P)return $;if(P.maxAge!==void 0){if(!Number.isInteger(P.maxAge))throw new TypeError(`option maxAge is invalid: ${P.maxAge}`);$+="; Max-Age="+P.maxAge}if(P.domain){if(!n.test(P.domain))throw new TypeError(`option domain is invalid: ${P.domain}`);$+="; Domain="+P.domain}if(P.path){if(!s.test(P.path))throw new TypeError(`option path is invalid: ${P.path}`);$+="; Path="+P.path}if(P.expires){if(!b(P.expires)||!Number.isFinite(P.expires.valueOf()))throw new TypeError(`option expires is invalid: ${P.expires}`);$+="; Expires="+P.expires.toUTCString()}if(P.httpOnly&&($+="; HttpOnly"),P.secure&&($+="; Secure"),P.partitioned&&($+="; Partitioned"),P.priority)switch(typeof P.priority=="string"?P.priority.toLowerCase():void 0){case"low":$+="; Priority=Low";break;case"medium":$+="; Priority=Medium";break;case"high":$+="; Priority=High";break;default:throw new TypeError(`option priority is invalid: ${P.priority}`)}if(P.sameSite)switch(typeof P.sameSite=="string"?P.sameSite.toLowerCase():P.sameSite){case!0:case"strict":$+="; SameSite=Strict";break;case"lax":$+="; SameSite=Lax";break;case"none":$+="; SameSite=None";break;default:throw new TypeError(`option sameSite is invalid: ${P.sameSite}`)}return $}function E(S){if(S.indexOf("%")===-1)return S;try{return decodeURIComponent(S)}catch{return S}}function b(S){return o.call(S)==="[object Date]"}return yl}FS();var B_="popstate";function GS(r={}){function t(o,u){let{pathname:f="/",search:m="",hash:g=""}=Ps(o.location.hash.substring(1));return!f.startsWith("/")&&!f.startsWith(".")&&(f="/"+f),Wd("",{pathname:f,search:m,hash:g},u.state&&u.state.usr||null,u.state&&u.state.key||"default")}function n(o,u){let f=o.document.querySelector("base"),m="";if(f&&f.getAttribute("href")){let g=o.location.href,y=g.indexOf("#");m=y===-1?g:g.slice(0,y)}return m+"#"+(typeof u=="string"?u:Dl(u))}function s(o,u){Bn(o.pathname.charAt(0)==="/",`relative pathnames are not supported in hash history.push(${JSON.stringify(u)})`)}return KS(t,n,s,r)}function re(r,t){if(r===!1||r===null||typeof r>"u")throw new Error(t)}function Bn(r,t){if(!r){typeof console<"u"&&console.warn(t);try{throw new Error(t)}catch{}}}function QS(){return Math.random().toString(36).substring(2,10)}function H_(r,t){return{usr:r.state,key:r.key,idx:t}}function Wd(r,t,n=null,s){return{pathname:typeof r=="string"?r:r.pathname,search:"",hash:"",...typeof t=="string"?Ps(t):t,state:n,key:t&&t.key||s||QS()}}function Dl({pathname:r="/",search:t="",hash:n=""}){return t&&t!=="?"&&(r+=t.charAt(0)==="?"?t:"?"+t),n&&n!=="#"&&(r+=n.charAt(0)==="#"?n:"#"+n),r}function Ps(r){let t={};if(r){let n=r.indexOf("#");n>=0&&(t.hash=r.substring(n),r=r.substring(0,n));let s=r.indexOf("?");s>=0&&(t.search=r.substring(s),r=r.substring(0,s)),r&&(t.pathname=r)}return t}function KS(r,t,n,s={}){let{window:o=document.defaultView,v5Compat:u=!1}=s,f=o.history,m="POP",g=null,y=E();y==null&&(y=0,f.replaceState({...f.state,idx:y},""));function E(){return(f.state||{idx:null}).idx}function b(){m="POP";let F=E(),$=F==null?null:F-y;y=F,g&&g({action:m,location:Q.location,delta:$})}function S(F,$){m="PUSH";let J=Wd(Q.location,F,$);n&&n(J,F),y=E()+1;let it=H_(J,y),ht=Q.createHref(J);try{f.pushState(it,"",ht)}catch(ut){if(ut instanceof DOMException&&ut.name==="DataCloneError")throw ut;o.location.assign(ht)}u&&g&&g({action:m,location:Q.location,delta:1})}function L(F,$){m="REPLACE";let J=Wd(Q.location,F,$);n&&n(J,F),y=E();let it=H_(J,y),ht=Q.createHref(J);f.replaceState(it,"",ht),u&&g&&g({action:m,location:Q.location,delta:0})}function P(F){return YS(F)}let Q={get action(){return m},get location(){return r(o,f)},listen(F){if(g)throw new Error("A history only accepts one active listener");return o.addEventListener(B_,b),g=F,()=>{o.removeEventListener(B_,b),g=null}},createHref(F){return t(o,F)},createURL:P,encodeLocation(F){let $=P(F);return{pathname:$.pathname,search:$.search,hash:$.hash}},push:S,replace:L,go(F){return f.go(F)}};return Q}function YS(r,t=!1){let n="http://localhost";typeof window<"u"&&(n=window.location.origin!=="null"?window.location.origin:window.location.href),re(n,"No window.location.(origin|href) available to create URL");let s=typeof r=="string"?r:Dl(r);return s=s.replace(/ $/,"%20"),!t&&s.startsWith("//")&&(s=n+s),new URL(s,n)}function _E(r,t,n="/"){return XS(r,t,n,!1)}function XS(r,t,n,s){let o=typeof t=="string"?Ps(t):t,u=Fi(o.pathname||"/",n);if(u==null)return null;let f=vE(r);$S(f);let m=null;for(let g=0;m==null&&g<f.length;++g){let y=o1(u);m=s1(f[g],y,s)}return m}function vE(r,t=[],n=[],s=""){let o=(u,f,m)=>{let g={relativePath:m===void 0?u.path||"":m,caseSensitive:u.caseSensitive===!0,childrenIndex:f,route:u};g.relativePath.startsWith("/")&&(re(g.relativePath.startsWith(s),`Absolute route path "${g.relativePath}" nested under path "${s}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),g.relativePath=g.relativePath.slice(s.length));let y=ji([s,g.relativePath]),E=n.concat(g);u.children&&u.children.length>0&&(re(u.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${y}".`),vE(u.children,t,E,y)),!(u.path==null&&!u.index)&&t.push({path:y,score:i1(y,u.index),routesMeta:E})};return r.forEach((u,f)=>{var m;if(u.path===""||!((m=u.path)!=null&&m.includes("?")))o(u,f);else for(let g of EE(u.path))o(u,f,g)}),t}function EE(r){let t=r.split("/");if(t.length===0)return[];let[n,...s]=t,o=n.endsWith("?"),u=n.replace(/\?$/,"");if(s.length===0)return o?[u,""]:[u];let f=EE(s.join("/")),m=[];return m.push(...f.map(g=>g===""?u:[u,g].join("/"))),o&&m.push(...f),m.map(g=>r.startsWith("/")&&g===""?"/":g)}function $S(r){r.sort((t,n)=>t.score!==n.score?n.score-t.score:r1(t.routesMeta.map(s=>s.childrenIndex),n.routesMeta.map(s=>s.childrenIndex)))}var ZS=/^:[\w-]+$/,WS=3,JS=2,t1=1,e1=10,n1=-2,q_=r=>r==="*";function i1(r,t){let n=r.split("/"),s=n.length;return n.some(q_)&&(s+=n1),t&&(s+=JS),n.filter(o=>!q_(o)).reduce((o,u)=>o+(ZS.test(u)?WS:u===""?t1:e1),s)}function r1(r,t){return r.length===t.length&&r.slice(0,-1).every((s,o)=>s===t[o])?r[r.length-1]-t[t.length-1]:0}function s1(r,t,n=!1){let{routesMeta:s}=r,o={},u="/",f=[];for(let m=0;m<s.length;++m){let g=s[m],y=m===s.length-1,E=u==="/"?t:t.slice(u.length)||"/",b=Hc({path:g.relativePath,caseSensitive:g.caseSensitive,end:y},E),S=g.route;if(!b&&y&&n&&!s[s.length-1].route.index&&(b=Hc({path:g.relativePath,caseSensitive:g.caseSensitive,end:!1},E)),!b)return null;Object.assign(o,b.params),f.push({params:o,pathname:ji([u,b.pathname]),pathnameBase:h1(ji([u,b.pathnameBase])),route:S}),b.pathnameBase!=="/"&&(u=ji([u,b.pathnameBase]))}return f}function Hc(r,t){typeof r=="string"&&(r={path:r,caseSensitive:!1,end:!0});let[n,s]=a1(r.path,r.caseSensitive,r.end),o=t.match(n);if(!o)return null;let u=o[0],f=u.replace(/(.)\/+$/,"$1"),m=o.slice(1);return{params:s.reduce((y,{paramName:E,isOptional:b},S)=>{if(E==="*"){let P=m[S]||"";f=u.slice(0,u.length-P.length).replace(/(.)\/+$/,"$1")}const L=m[S];return b&&!L?y[E]=void 0:y[E]=(L||"").replace(/%2F/g,"/"),y},{}),pathname:u,pathnameBase:f,pattern:r}}function a1(r,t=!1,n=!0){Bn(r==="*"||!r.endsWith("*")||r.endsWith("/*"),`Route path "${r}" will be treated as if it were "${r.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${r.replace(/\*$/,"/*")}".`);let s=[],o="^"+r.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(f,m,g)=>(s.push({paramName:m,isOptional:g!=null}),g?"/?([^\\/]+)?":"/([^\\/]+)"));return r.endsWith("*")?(s.push({paramName:"*"}),o+=r==="*"||r==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?o+="\\/*$":r!==""&&r!=="/"&&(o+="(?:(?=\\/|$))"),[new RegExp(o,t?void 0:"i"),s]}function o1(r){try{return r.split("/").map(t=>decodeURIComponent(t).replace(/\//g,"%2F")).join("/")}catch(t){return Bn(!1,`The URL path "${r}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${t}).`),r}}function Fi(r,t){if(t==="/")return r;if(!r.toLowerCase().startsWith(t.toLowerCase()))return null;let n=t.endsWith("/")?t.length-1:t.length,s=r.charAt(n);return s&&s!=="/"?null:r.slice(n)||"/"}function l1(r,t="/"){let{pathname:n,search:s="",hash:o=""}=typeof r=="string"?Ps(r):r;return{pathname:n?n.startsWith("/")?n:u1(n,t):t,search:f1(s),hash:d1(o)}}function u1(r,t){let n=t.replace(/\/+$/,"").split("/");return r.split("/").forEach(o=>{o===".."?n.length>1&&n.pop():o!=="."&&n.push(o)}),n.length>1?n.join("/"):"/"}function zd(r,t,n,s){return`Cannot include a '${r}' character in a manually specified \`to.${t}\` field [${JSON.stringify(s)}].  Please separate it out to the \`to.${n}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function c1(r){return r.filter((t,n)=>n===0||t.route.path&&t.route.path.length>0)}function TE(r){let t=c1(r);return t.map((n,s)=>s===t.length-1?n.pathname:n.pathnameBase)}function AE(r,t,n,s=!1){let o;typeof r=="string"?o=Ps(r):(o={...r},re(!o.pathname||!o.pathname.includes("?"),zd("?","pathname","search",o)),re(!o.pathname||!o.pathname.includes("#"),zd("#","pathname","hash",o)),re(!o.search||!o.search.includes("#"),zd("#","search","hash",o)));let u=r===""||o.pathname==="",f=u?"/":o.pathname,m;if(f==null)m=n;else{let b=t.length-1;if(!s&&f.startsWith("..")){let S=f.split("/");for(;S[0]==="..";)S.shift(),b-=1;o.pathname=S.join("/")}m=b>=0?t[b]:"/"}let g=l1(o,m),y=f&&f!=="/"&&f.endsWith("/"),E=(u||f===".")&&n.endsWith("/");return!g.pathname.endsWith("/")&&(y||E)&&(g.pathname+="/"),g}var ji=r=>r.join("/").replace(/\/\/+/g,"/"),h1=r=>r.replace(/\/+$/,"").replace(/^\/*/,"/"),f1=r=>!r||r==="?"?"":r.startsWith("?")?r:"?"+r,d1=r=>!r||r==="#"?"":r.startsWith("#")?r:"#"+r;function m1(r){return r!=null&&typeof r.status=="number"&&typeof r.statusText=="string"&&typeof r.internal=="boolean"&&"data"in r}var SE=["POST","PUT","PATCH","DELETE"];new Set(SE);var p1=["GET",...SE];new Set(p1);var Wa=G.createContext(null);Wa.displayName="DataRouter";var lh=G.createContext(null);lh.displayName="DataRouterState";var bE=G.createContext({isTransitioning:!1});bE.displayName="ViewTransition";var g1=G.createContext(new Map);g1.displayName="Fetchers";var y1=G.createContext(null);y1.displayName="Await";var fi=G.createContext(null);fi.displayName="Navigation";var Ll=G.createContext(null);Ll.displayName="Location";var di=G.createContext({outlet:null,matches:[],isDataRoute:!1});di.displayName="Route";var wm=G.createContext(null);wm.displayName="RouteError";function _1(r,{relative:t}={}){re(zl(),"useHref() may be used only in the context of a <Router> component.");let{basename:n,navigator:s}=G.useContext(fi),{hash:o,pathname:u,search:f}=Bl(r,{relative:t}),m=u;return n!=="/"&&(m=u==="/"?n:ji([n,u])),s.createHref({pathname:m,search:f,hash:o})}function zl(){return G.useContext(Ll)!=null}function ks(){return re(zl(),"useLocation() may be used only in the context of a <Router> component."),G.useContext(Ll).location}var wE="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function RE(r){G.useContext(fi).static||G.useLayoutEffect(r)}function uh(){let{isDataRoute:r}=G.useContext(di);return r?M1():v1()}function v1(){re(zl(),"useNavigate() may be used only in the context of a <Router> component.");let r=G.useContext(Wa),{basename:t,navigator:n}=G.useContext(fi),{matches:s}=G.useContext(di),{pathname:o}=ks(),u=JSON.stringify(TE(s)),f=G.useRef(!1);return RE(()=>{f.current=!0}),G.useCallback((g,y={})=>{if(Bn(f.current,wE),!f.current)return;if(typeof g=="number"){n.go(g);return}let E=AE(g,JSON.parse(u),o,y.relative==="path");r==null&&t!=="/"&&(E.pathname=E.pathname==="/"?t:ji([t,E.pathname])),(y.replace?n.replace:n.push)(E,y.state,y)},[t,n,u,o,r])}G.createContext(null);function E1(){let{matches:r}=G.useContext(di),t=r[r.length-1];return t?t.params:{}}function Bl(r,{relative:t}={}){let{matches:n}=G.useContext(di),{pathname:s}=ks(),o=JSON.stringify(TE(n));return G.useMemo(()=>AE(r,JSON.parse(o),s,t==="path"),[r,o,s,t])}function T1(r,t){return IE(r,t)}function IE(r,t,n,s){var $;re(zl(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:o}=G.useContext(fi),{matches:u}=G.useContext(di),f=u[u.length-1],m=f?f.params:{},g=f?f.pathname:"/",y=f?f.pathnameBase:"/",E=f&&f.route;{let J=E&&E.path||"";CE(g,!E||J.endsWith("*")||J.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${g}" (under <Route path="${J}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${J}"> to <Route path="${J==="/"?"*":`${J}/*`}">.`)}let b=ks(),S;if(t){let J=typeof t=="string"?Ps(t):t;re(y==="/"||(($=J.pathname)==null?void 0:$.startsWith(y)),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${y}" but pathname "${J.pathname}" was given in the \`location\` prop.`),S=J}else S=b;let L=S.pathname||"/",P=L;if(y!=="/"){let J=y.replace(/^\//,"").split("/");P="/"+L.replace(/^\//,"").split("/").slice(J.length).join("/")}let Q=_E(r,{pathname:P});Bn(E||Q!=null,`No routes matched location "${S.pathname}${S.search}${S.hash}" `),Bn(Q==null||Q[Q.length-1].route.element!==void 0||Q[Q.length-1].route.Component!==void 0||Q[Q.length-1].route.lazy!==void 0,`Matched leaf route at location "${S.pathname}${S.search}${S.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let F=R1(Q&&Q.map(J=>Object.assign({},J,{params:Object.assign({},m,J.params),pathname:ji([y,o.encodeLocation?o.encodeLocation(J.pathname).pathname:J.pathname]),pathnameBase:J.pathnameBase==="/"?y:ji([y,o.encodeLocation?o.encodeLocation(J.pathnameBase).pathname:J.pathnameBase])})),u,n,s);return t&&F?G.createElement(Ll.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...S},navigationType:"POP"}},F):F}function A1(){let r=N1(),t=m1(r)?`${r.status} ${r.statusText}`:r instanceof Error?r.message:JSON.stringify(r),n=r instanceof Error?r.stack:null,s="rgba(200,200,200, 0.5)",o={padding:"0.5rem",backgroundColor:s},u={padding:"2px 4px",backgroundColor:s},f=null;return console.error("Error handled by React Router default ErrorBoundary:",r),f=G.createElement(G.Fragment,null,G.createElement("p",null," Hey developer "),G.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",G.createElement("code",{style:u},"ErrorBoundary")," or"," ",G.createElement("code",{style:u},"errorElement")," prop on your route.")),G.createElement(G.Fragment,null,G.createElement("h2",null,"Unexpected Application Error!"),G.createElement("h3",{style:{fontStyle:"italic"}},t),n?G.createElement("pre",{style:o},n):null,f)}var S1=G.createElement(A1,null),b1=class extends G.Component{constructor(r){super(r),this.state={location:r.location,revalidation:r.revalidation,error:r.error}}static getDerivedStateFromError(r){return{error:r}}static getDerivedStateFromProps(r,t){return t.location!==r.location||t.revalidation!=="idle"&&r.revalidation==="idle"?{error:r.error,location:r.location,revalidation:r.revalidation}:{error:r.error!==void 0?r.error:t.error,location:t.location,revalidation:r.revalidation||t.revalidation}}componentDidCatch(r,t){console.error("React Router caught the following error during render",r,t)}render(){return this.state.error!==void 0?G.createElement(di.Provider,{value:this.props.routeContext},G.createElement(wm.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function w1({routeContext:r,match:t,children:n}){let s=G.useContext(Wa);return s&&s.static&&s.staticContext&&(t.route.errorElement||t.route.ErrorBoundary)&&(s.staticContext._deepestRenderedBoundaryId=t.route.id),G.createElement(di.Provider,{value:r},n)}function R1(r,t=[],n=null,s=null){if(r==null){if(!n)return null;if(n.errors)r=n.matches;else if(t.length===0&&!n.initialized&&n.matches.length>0)r=n.matches;else return null}let o=r,u=n==null?void 0:n.errors;if(u!=null){let g=o.findIndex(y=>y.route.id&&(u==null?void 0:u[y.route.id])!==void 0);re(g>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(u).join(",")}`),o=o.slice(0,Math.min(o.length,g+1))}let f=!1,m=-1;if(n)for(let g=0;g<o.length;g++){let y=o[g];if((y.route.HydrateFallback||y.route.hydrateFallbackElement)&&(m=g),y.route.id){let{loaderData:E,errors:b}=n,S=y.route.loader&&!E.hasOwnProperty(y.route.id)&&(!b||b[y.route.id]===void 0);if(y.route.lazy||S){f=!0,m>=0?o=o.slice(0,m+1):o=[o[0]];break}}}return o.reduceRight((g,y,E)=>{let b,S=!1,L=null,P=null;n&&(b=u&&y.route.id?u[y.route.id]:void 0,L=y.route.errorElement||S1,f&&(m<0&&E===0?(CE("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),S=!0,P=null):m===E&&(S=!0,P=y.route.hydrateFallbackElement||null)));let Q=t.concat(o.slice(0,E+1)),F=()=>{let $;return b?$=L:S?$=P:y.route.Component?$=G.createElement(y.route.Component,null):y.route.element?$=y.route.element:$=g,G.createElement(w1,{match:y,routeContext:{outlet:g,matches:Q,isDataRoute:n!=null},children:$})};return n&&(y.route.ErrorBoundary||y.route.errorElement||E===0)?G.createElement(b1,{location:n.location,revalidation:n.revalidation,component:L,error:b,children:F(),routeContext:{outlet:null,matches:Q,isDataRoute:!0}}):F()},null)}function Rm(r){return`${r} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function I1(r){let t=G.useContext(Wa);return re(t,Rm(r)),t}function C1(r){let t=G.useContext(lh);return re(t,Rm(r)),t}function D1(r){let t=G.useContext(di);return re(t,Rm(r)),t}function Im(r){let t=D1(r),n=t.matches[t.matches.length-1];return re(n.route.id,`${r} can only be used on routes that contain a unique "id"`),n.route.id}function O1(){return Im("useRouteId")}function N1(){var s;let r=G.useContext(wm),t=C1("useRouteError"),n=Im("useRouteError");return r!==void 0?r:(s=t.errors)==null?void 0:s[n]}function M1(){let{router:r}=I1("useNavigate"),t=Im("useNavigate"),n=G.useRef(!1);return RE(()=>{n.current=!0}),G.useCallback(async(o,u={})=>{Bn(n.current,wE),n.current&&(typeof o=="number"?r.navigate(o):await r.navigate(o,{fromRouteId:t,...u}))},[r,t])}var j_={};function CE(r,t,n){!t&&!j_[r]&&(j_[r]=!0,Bn(!1,n))}G.memo(V1);function V1({routes:r,future:t,state:n}){return IE(r,void 0,n,t)}function vl(r){re(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function x1({basename:r="/",children:t=null,location:n,navigationType:s="POP",navigator:o,static:u=!1}){re(!zl(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let f=r.replace(/^\/*/,"/"),m=G.useMemo(()=>({basename:f,navigator:o,static:u,future:{}}),[f,o,u]);typeof n=="string"&&(n=Ps(n));let{pathname:g="/",search:y="",hash:E="",state:b=null,key:S="default"}=n,L=G.useMemo(()=>{let P=Fi(g,f);return P==null?null:{location:{pathname:P,search:y,hash:E,state:b,key:S},navigationType:s}},[f,g,y,E,b,S,s]);return Bn(L!=null,`<Router basename="${f}"> is not able to match the URL "${g}${y}${E}" because it does not start with the basename, so the <Router> won't render anything.`),L==null?null:G.createElement(fi.Provider,{value:m},G.createElement(Ll.Provider,{children:t,value:L}))}function P1({children:r,location:t}){return T1(Jd(r),t)}function Jd(r,t=[]){let n=[];return G.Children.forEach(r,(s,o)=>{if(!G.isValidElement(s))return;let u=[...t,o];if(s.type===G.Fragment){n.push.apply(n,Jd(s.props.children,u));return}re(s.type===vl,`[${typeof s.type=="string"?s.type:s.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),re(!s.props.index||!s.props.children,"An index route cannot have child routes.");let f={id:s.props.id||u.join("-"),caseSensitive:s.props.caseSensitive,element:s.props.element,Component:s.props.Component,index:s.props.index,path:s.props.path,loader:s.props.loader,action:s.props.action,hydrateFallbackElement:s.props.hydrateFallbackElement,HydrateFallback:s.props.HydrateFallback,errorElement:s.props.errorElement,ErrorBoundary:s.props.ErrorBoundary,hasErrorBoundary:s.props.hasErrorBoundary===!0||s.props.ErrorBoundary!=null||s.props.errorElement!=null,shouldRevalidate:s.props.shouldRevalidate,handle:s.props.handle,lazy:s.props.lazy};s.props.children&&(f.children=Jd(s.props.children,u)),n.push(f)}),n}var Dc="get",Oc="application/x-www-form-urlencoded";function ch(r){return r!=null&&typeof r.tagName=="string"}function k1(r){return ch(r)&&r.tagName.toLowerCase()==="button"}function U1(r){return ch(r)&&r.tagName.toLowerCase()==="form"}function L1(r){return ch(r)&&r.tagName.toLowerCase()==="input"}function z1(r){return!!(r.metaKey||r.altKey||r.ctrlKey||r.shiftKey)}function B1(r,t){return r.button===0&&(!t||t==="_self")&&!z1(r)}var Tc=null;function H1(){if(Tc===null)try{new FormData(document.createElement("form"),0),Tc=!1}catch{Tc=!0}return Tc}var q1=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function Bd(r){return r!=null&&!q1.has(r)?(Bn(!1,`"${r}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${Oc}"`),null):r}function j1(r,t){let n,s,o,u,f;if(U1(r)){let m=r.getAttribute("action");s=m?Fi(m,t):null,n=r.getAttribute("method")||Dc,o=Bd(r.getAttribute("enctype"))||Oc,u=new FormData(r)}else if(k1(r)||L1(r)&&(r.type==="submit"||r.type==="image")){let m=r.form;if(m==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let g=r.getAttribute("formaction")||m.getAttribute("action");if(s=g?Fi(g,t):null,n=r.getAttribute("formmethod")||m.getAttribute("method")||Dc,o=Bd(r.getAttribute("formenctype"))||Bd(m.getAttribute("enctype"))||Oc,u=new FormData(m,r),!H1()){let{name:y,type:E,value:b}=r;if(E==="image"){let S=y?`${y}.`:"";u.append(`${S}x`,"0"),u.append(`${S}y`,"0")}else y&&u.append(y,b)}}else{if(ch(r))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');n=Dc,s=null,o=Oc,f=r}return u&&o==="text/plain"&&(f=u,u=void 0),{action:s,method:n.toLowerCase(),encType:o,formData:u,body:f}}function Cm(r,t){if(r===!1||r===null||typeof r>"u")throw new Error(t)}async function F1(r,t){if(r.id in t)return t[r.id];try{let n=await import(r.module);return t[r.id]=n,n}catch(n){return console.error(`Error loading route module \`${r.module}\`, reloading page...`),console.error(n),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function G1(r){return r==null?!1:r.href==null?r.rel==="preload"&&typeof r.imageSrcSet=="string"&&typeof r.imageSizes=="string":typeof r.rel=="string"&&typeof r.href=="string"}async function Q1(r,t,n){let s=await Promise.all(r.map(async o=>{let u=t.routes[o.route.id];if(u){let f=await F1(u,n);return f.links?f.links():[]}return[]}));return $1(s.flat(1).filter(G1).filter(o=>o.rel==="stylesheet"||o.rel==="preload").map(o=>o.rel==="stylesheet"?{...o,rel:"prefetch",as:"style"}:{...o,rel:"prefetch"}))}function F_(r,t,n,s,o,u){let f=(g,y)=>n[y]?g.route.id!==n[y].route.id:!0,m=(g,y)=>{var E;return n[y].pathname!==g.pathname||((E=n[y].route.path)==null?void 0:E.endsWith("*"))&&n[y].params["*"]!==g.params["*"]};return u==="assets"?t.filter((g,y)=>f(g,y)||m(g,y)):u==="data"?t.filter((g,y)=>{var b;let E=s.routes[g.route.id];if(!E||!E.hasLoader)return!1;if(f(g,y)||m(g,y))return!0;if(g.route.shouldRevalidate){let S=g.route.shouldRevalidate({currentUrl:new URL(o.pathname+o.search+o.hash,window.origin),currentParams:((b=n[0])==null?void 0:b.params)||{},nextUrl:new URL(r,window.origin),nextParams:g.params,defaultShouldRevalidate:!0});if(typeof S=="boolean")return S}return!0}):[]}function K1(r,t,{includeHydrateFallback:n}={}){return Y1(r.map(s=>{let o=t.routes[s.route.id];if(!o)return[];let u=[o.module];return o.clientActionModule&&(u=u.concat(o.clientActionModule)),o.clientLoaderModule&&(u=u.concat(o.clientLoaderModule)),n&&o.hydrateFallbackModule&&(u=u.concat(o.hydrateFallbackModule)),o.imports&&(u=u.concat(o.imports)),u}).flat(1))}function Y1(r){return[...new Set(r)]}function X1(r){let t={},n=Object.keys(r).sort();for(let s of n)t[s]=r[s];return t}function $1(r,t){let n=new Set;return new Set(t),r.reduce((s,o)=>{let u=JSON.stringify(X1(o));return n.has(u)||(n.add(u),s.push({key:u,link:o})),s},[])}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");var Z1=new Set([100,101,204,205]);function W1(r,t){let n=typeof r=="string"?new URL(r,typeof window>"u"?"server://singlefetch/":window.location.origin):r;return n.pathname==="/"?n.pathname="_root.data":t&&Fi(n.pathname,t)==="/"?n.pathname=`${t.replace(/\/$/,"")}/_root.data`:n.pathname=`${n.pathname.replace(/\/$/,"")}.data`,n}function DE(){let r=G.useContext(Wa);return Cm(r,"You must render this element inside a <DataRouterContext.Provider> element"),r}function J1(){let r=G.useContext(lh);return Cm(r,"You must render this element inside a <DataRouterStateContext.Provider> element"),r}var Dm=G.createContext(void 0);Dm.displayName="FrameworkContext";function OE(){let r=G.useContext(Dm);return Cm(r,"You must render this element inside a <HydratedRouter> element"),r}function tb(r,t){let n=G.useContext(Dm),[s,o]=G.useState(!1),[u,f]=G.useState(!1),{onFocus:m,onBlur:g,onMouseEnter:y,onMouseLeave:E,onTouchStart:b}=t,S=G.useRef(null);G.useEffect(()=>{if(r==="render"&&f(!0),r==="viewport"){let Q=$=>{$.forEach(J=>{f(J.isIntersecting)})},F=new IntersectionObserver(Q,{threshold:.5});return S.current&&F.observe(S.current),()=>{F.disconnect()}}},[r]),G.useEffect(()=>{if(s){let Q=setTimeout(()=>{f(!0)},100);return()=>{clearTimeout(Q)}}},[s]);let L=()=>{o(!0)},P=()=>{o(!1),f(!1)};return n?r!=="intent"?[u,S,{}]:[u,S,{onFocus:_l(m,L),onBlur:_l(g,P),onMouseEnter:_l(y,L),onMouseLeave:_l(E,P),onTouchStart:_l(b,L)}]:[!1,S,{}]}function _l(r,t){return n=>{r&&r(n),n.defaultPrevented||t(n)}}function eb({page:r,...t}){let{router:n}=DE(),s=G.useMemo(()=>_E(n.routes,r,n.basename),[n.routes,r,n.basename]);return s?G.createElement(ib,{page:r,matches:s,...t}):null}function nb(r){let{manifest:t,routeModules:n}=OE(),[s,o]=G.useState([]);return G.useEffect(()=>{let u=!1;return Q1(r,t,n).then(f=>{u||o(f)}),()=>{u=!0}},[r,t,n]),s}function ib({page:r,matches:t,...n}){let s=ks(),{manifest:o,routeModules:u}=OE(),{basename:f}=DE(),{loaderData:m,matches:g}=J1(),y=G.useMemo(()=>F_(r,t,g,o,s,"data"),[r,t,g,o,s]),E=G.useMemo(()=>F_(r,t,g,o,s,"assets"),[r,t,g,o,s]),b=G.useMemo(()=>{if(r===s.pathname+s.search+s.hash)return[];let P=new Set,Q=!1;if(t.forEach($=>{var it;let J=o.routes[$.route.id];!J||!J.hasLoader||(!y.some(ht=>ht.route.id===$.route.id)&&$.route.id in m&&((it=u[$.route.id])!=null&&it.shouldRevalidate)||J.hasClientLoader?Q=!0:P.add($.route.id))}),P.size===0)return[];let F=W1(r,f);return Q&&P.size>0&&F.searchParams.set("_routes",t.filter($=>P.has($.route.id)).map($=>$.route.id).join(",")),[F.pathname+F.search]},[f,m,s,o,y,t,r,u]),S=G.useMemo(()=>K1(E,o),[E,o]),L=nb(E);return G.createElement(G.Fragment,null,b.map(P=>G.createElement("link",{key:P,rel:"prefetch",as:"fetch",href:P,...n})),S.map(P=>G.createElement("link",{key:P,rel:"modulepreload",href:P,...n})),L.map(({key:P,link:Q})=>G.createElement("link",{key:P,...Q})))}function rb(...r){return t=>{r.forEach(n=>{typeof n=="function"?n(t):n!=null&&(n.current=t)})}}var NE=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{NE&&(window.__reactRouterVersion="7.6.2")}catch{}function sb({basename:r,children:t,window:n}){let s=G.useRef();s.current==null&&(s.current=GS({window:n,v5Compat:!0}));let o=s.current,[u,f]=G.useState({action:o.action,location:o.location}),m=G.useCallback(g=>{G.startTransition(()=>f(g))},[f]);return G.useLayoutEffect(()=>o.listen(m),[o,m]),G.createElement(x1,{basename:r,children:t,location:u.location,navigationType:u.action,navigator:o})}var ME=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,hh=G.forwardRef(function({onClick:t,discover:n="render",prefetch:s="none",relative:o,reloadDocument:u,replace:f,state:m,target:g,to:y,preventScrollReset:E,viewTransition:b,...S},L){let{basename:P}=G.useContext(fi),Q=typeof y=="string"&&ME.test(y),F,$=!1;if(typeof y=="string"&&Q&&(F=y,NE))try{let R=new URL(window.location.href),O=y.startsWith("//")?new URL(R.protocol+y):new URL(y),V=Fi(O.pathname,P);O.origin===R.origin&&V!=null?y=V+O.search+O.hash:$=!0}catch{Bn(!1,`<Link to="${y}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let J=_1(y,{relative:o}),[it,ht,ut]=tb(s,S),bt=ub(y,{replace:f,state:m,target:g,preventScrollReset:E,relative:o,viewTransition:b});function M(R){t&&t(R),R.defaultPrevented||bt(R)}let w=G.createElement("a",{...S,...ut,href:F||J,onClick:$||u?t:M,ref:rb(L,ht),target:g,"data-discover":!Q&&n==="render"?"true":void 0});return it&&!Q?G.createElement(G.Fragment,null,w,G.createElement(eb,{page:J})):w});hh.displayName="Link";var ab=G.forwardRef(function({"aria-current":t="page",caseSensitive:n=!1,className:s="",end:o=!1,style:u,to:f,viewTransition:m,children:g,...y},E){let b=Bl(f,{relative:y.relative}),S=ks(),L=G.useContext(lh),{navigator:P,basename:Q}=G.useContext(fi),F=L!=null&&mb(b)&&m===!0,$=P.encodeLocation?P.encodeLocation(b).pathname:b.pathname,J=S.pathname,it=L&&L.navigation&&L.navigation.location?L.navigation.location.pathname:null;n||(J=J.toLowerCase(),it=it?it.toLowerCase():null,$=$.toLowerCase()),it&&Q&&(it=Fi(it,Q)||it);const ht=$!=="/"&&$.endsWith("/")?$.length-1:$.length;let ut=J===$||!o&&J.startsWith($)&&J.charAt(ht)==="/",bt=it!=null&&(it===$||!o&&it.startsWith($)&&it.charAt($.length)==="/"),M={isActive:ut,isPending:bt,isTransitioning:F},w=ut?t:void 0,R;typeof s=="function"?R=s(M):R=[s,ut?"active":null,bt?"pending":null,F?"transitioning":null].filter(Boolean).join(" ");let O=typeof u=="function"?u(M):u;return G.createElement(hh,{...y,"aria-current":w,className:R,ref:E,style:O,to:f,viewTransition:m},typeof g=="function"?g(M):g)});ab.displayName="NavLink";var ob=G.forwardRef(({discover:r="render",fetcherKey:t,navigate:n,reloadDocument:s,replace:o,state:u,method:f=Dc,action:m,onSubmit:g,relative:y,preventScrollReset:E,viewTransition:b,...S},L)=>{let P=fb(),Q=db(m,{relative:y}),F=f.toLowerCase()==="get"?"get":"post",$=typeof m=="string"&&ME.test(m),J=it=>{if(g&&g(it),it.defaultPrevented)return;it.preventDefault();let ht=it.nativeEvent.submitter,ut=(ht==null?void 0:ht.getAttribute("formmethod"))||f;P(ht||it.currentTarget,{fetcherKey:t,method:ut,navigate:n,replace:o,state:u,relative:y,preventScrollReset:E,viewTransition:b})};return G.createElement("form",{ref:L,method:F,action:Q,onSubmit:s?g:J,...S,"data-discover":!$&&r==="render"?"true":void 0})});ob.displayName="Form";function lb(r){return`${r} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function VE(r){let t=G.useContext(Wa);return re(t,lb(r)),t}function ub(r,{target:t,replace:n,state:s,preventScrollReset:o,relative:u,viewTransition:f}={}){let m=uh(),g=ks(),y=Bl(r,{relative:u});return G.useCallback(E=>{if(B1(E,t)){E.preventDefault();let b=n!==void 0?n:Dl(g)===Dl(y);m(r,{replace:b,state:s,preventScrollReset:o,relative:u,viewTransition:f})}},[g,m,y,n,s,t,r,o,u,f])}var cb=0,hb=()=>`__${String(++cb)}__`;function fb(){let{router:r}=VE("useSubmit"),{basename:t}=G.useContext(fi),n=O1();return G.useCallback(async(s,o={})=>{let{action:u,method:f,encType:m,formData:g,body:y}=j1(s,t);if(o.navigate===!1){let E=o.fetcherKey||hb();await r.fetch(E,n,o.action||u,{preventScrollReset:o.preventScrollReset,formData:g,body:y,formMethod:o.method||f,formEncType:o.encType||m,flushSync:o.flushSync})}else await r.navigate(o.action||u,{preventScrollReset:o.preventScrollReset,formData:g,body:y,formMethod:o.method||f,formEncType:o.encType||m,replace:o.replace,state:o.state,fromRouteId:n,flushSync:o.flushSync,viewTransition:o.viewTransition})},[r,t,n])}function db(r,{relative:t}={}){let{basename:n}=G.useContext(fi),s=G.useContext(di);re(s,"useFormAction must be used inside a RouteContext");let[o]=s.matches.slice(-1),u={...Bl(r||".",{relative:t})},f=ks();if(r==null){u.search=f.search;let m=new URLSearchParams(u.search),g=m.getAll("index");if(g.some(E=>E==="")){m.delete("index"),g.filter(b=>b).forEach(b=>m.append("index",b));let E=m.toString();u.search=E?`?${E}`:""}}return(!r||r===".")&&o.route.index&&(u.search=u.search?u.search.replace(/^\?/,"?index&"):"?index"),n!=="/"&&(u.pathname=u.pathname==="/"?n:ji([n,u.pathname])),Dl(u)}function mb(r,t={}){let n=G.useContext(bE);re(n!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:s}=VE("useViewTransitionState"),o=Bl(r,{relative:t.relative});if(!n.isTransitioning)return!1;let u=Fi(n.currentLocation.pathname,s)||n.currentLocation.pathname,f=Fi(n.nextLocation.pathname,s)||n.nextLocation.pathname;return Hc(o.pathname,f)!=null||Hc(o.pathname,u)!=null}[...Z1];const pb=()=>{};var G_={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xE=function(r){const t=[];let n=0;for(let s=0;s<r.length;s++){let o=r.charCodeAt(s);o<128?t[n++]=o:o<2048?(t[n++]=o>>6|192,t[n++]=o&63|128):(o&64512)===55296&&s+1<r.length&&(r.charCodeAt(s+1)&64512)===56320?(o=65536+((o&1023)<<10)+(r.charCodeAt(++s)&1023),t[n++]=o>>18|240,t[n++]=o>>12&63|128,t[n++]=o>>6&63|128,t[n++]=o&63|128):(t[n++]=o>>12|224,t[n++]=o>>6&63|128,t[n++]=o&63|128)}return t},gb=function(r){const t=[];let n=0,s=0;for(;n<r.length;){const o=r[n++];if(o<128)t[s++]=String.fromCharCode(o);else if(o>191&&o<224){const u=r[n++];t[s++]=String.fromCharCode((o&31)<<6|u&63)}else if(o>239&&o<365){const u=r[n++],f=r[n++],m=r[n++],g=((o&7)<<18|(u&63)<<12|(f&63)<<6|m&63)-65536;t[s++]=String.fromCharCode(55296+(g>>10)),t[s++]=String.fromCharCode(56320+(g&1023))}else{const u=r[n++],f=r[n++];t[s++]=String.fromCharCode((o&15)<<12|(u&63)<<6|f&63)}}return t.join("")},PE={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(r,t){if(!Array.isArray(r))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,s=[];for(let o=0;o<r.length;o+=3){const u=r[o],f=o+1<r.length,m=f?r[o+1]:0,g=o+2<r.length,y=g?r[o+2]:0,E=u>>2,b=(u&3)<<4|m>>4;let S=(m&15)<<2|y>>6,L=y&63;g||(L=64,f||(S=64)),s.push(n[E],n[b],n[S],n[L])}return s.join("")},encodeString(r,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(r):this.encodeByteArray(xE(r),t)},decodeString(r,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(r):gb(this.decodeStringToByteArray(r,t))},decodeStringToByteArray(r,t){this.init_();const n=t?this.charToByteMapWebSafe_:this.charToByteMap_,s=[];for(let o=0;o<r.length;){const u=n[r.charAt(o++)],m=o<r.length?n[r.charAt(o)]:0;++o;const y=o<r.length?n[r.charAt(o)]:64;++o;const b=o<r.length?n[r.charAt(o)]:64;if(++o,u==null||m==null||y==null||b==null)throw new yb;const S=u<<2|m>>4;if(s.push(S),y!==64){const L=m<<4&240|y>>2;if(s.push(L),b!==64){const P=y<<6&192|b;s.push(P)}}}return s},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let r=0;r<this.ENCODED_VALS.length;r++)this.byteToCharMap_[r]=this.ENCODED_VALS.charAt(r),this.charToByteMap_[this.byteToCharMap_[r]]=r,this.byteToCharMapWebSafe_[r]=this.ENCODED_VALS_WEBSAFE.charAt(r),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[r]]=r,r>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(r)]=r,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(r)]=r)}}};class yb extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const _b=function(r){const t=xE(r);return PE.encodeByteArray(t,!0)},qc=function(r){return _b(r).replace(/\./g,"")},kE=function(r){try{return PE.decodeString(r,!0)}catch(t){console.error("base64Decode failed: ",t)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vb(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Eb=()=>vb().__FIREBASE_DEFAULTS__,Tb=()=>{if(typeof process>"u"||typeof G_>"u")return;const r=G_.__FIREBASE_DEFAULTS__;if(r)return JSON.parse(r)},Ab=()=>{if(typeof document>"u")return;let r;try{r=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const t=r&&kE(r[1]);return t&&JSON.parse(t)},fh=()=>{try{return pb()||Eb()||Tb()||Ab()}catch(r){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${r}`);return}},UE=r=>{var t,n;return(n=(t=fh())===null||t===void 0?void 0:t.emulatorHosts)===null||n===void 0?void 0:n[r]},Sb=r=>{const t=UE(r);if(!t)return;const n=t.lastIndexOf(":");if(n<=0||n+1===t.length)throw new Error(`Invalid host ${t} with no separate hostname and port!`);const s=parseInt(t.substring(n+1),10);return t[0]==="["?[t.substring(1,n-1),s]:[t.substring(0,n),s]},LE=()=>{var r;return(r=fh())===null||r===void 0?void 0:r.config},zE=r=>{var t;return(t=fh())===null||t===void 0?void 0:t[`_${r}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bb{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((t,n)=>{this.resolve=t,this.reject=n})}wrapCallback(t){return(n,s)=>{n?this.reject(n):this.resolve(s),typeof t=="function"&&(this.promise.catch(()=>{}),t.length===1?t(n):t(n,s))}}}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Hl(r){return r.endsWith(".cloudworkstations.dev")}async function BE(r){return(await fetch(r,{credentials:"include"})).ok}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wb(r,t){if(r.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},s=t||"demo-project",o=r.iat||0,u=r.sub||r.user_id;if(!u)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const f=Object.assign({iss:`https://securetoken.google.com/${s}`,aud:s,iat:o,exp:o+3600,auth_time:o,sub:u,user_id:u,firebase:{sign_in_provider:"custom",identities:{}}},r);return[qc(JSON.stringify(n)),qc(JSON.stringify(f)),""].join(".")}const Sl={};function Rb(){const r={prod:[],emulator:[]};for(const t of Object.keys(Sl))Sl[t]?r.emulator.push(t):r.prod.push(t);return r}function Ib(r){let t=document.getElementById(r),n=!1;return t||(t=document.createElement("div"),t.setAttribute("id",r),n=!0),{created:n,element:t}}let Q_=!1;function HE(r,t){if(typeof window>"u"||typeof document>"u"||!Hl(window.location.host)||Sl[r]===t||Sl[r]||Q_)return;Sl[r]=t;function n(S){return`__firebase__banner__${S}`}const s="__firebase__banner",u=Rb().prod.length>0;function f(){const S=document.getElementById(s);S&&S.remove()}function m(S){S.style.display="flex",S.style.background="#7faaf0",S.style.position="fixed",S.style.bottom="5px",S.style.left="5px",S.style.padding=".5em",S.style.borderRadius="5px",S.style.alignItems="center"}function g(S,L){S.setAttribute("width","24"),S.setAttribute("id",L),S.setAttribute("height","24"),S.setAttribute("viewBox","0 0 24 24"),S.setAttribute("fill","none"),S.style.marginLeft="-6px"}function y(){const S=document.createElement("span");return S.style.cursor="pointer",S.style.marginLeft="16px",S.style.fontSize="24px",S.innerHTML=" &times;",S.onclick=()=>{Q_=!0,f()},S}function E(S,L){S.setAttribute("id",L),S.innerText="Learn more",S.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",S.setAttribute("target","__blank"),S.style.paddingLeft="5px",S.style.textDecoration="underline"}function b(){const S=Ib(s),L=n("text"),P=document.getElementById(L)||document.createElement("span"),Q=n("learnmore"),F=document.getElementById(Q)||document.createElement("a"),$=n("preprendIcon"),J=document.getElementById($)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(S.created){const it=S.element;m(it),E(F,Q);const ht=y();g(J,$),it.append(J,P,F,ht),document.body.appendChild(it)}u?(P.innerText="Preview backend disconnected.",J.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(J.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,P.innerText="Preview backend running in this workspace."),P.setAttribute("id",L)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",b):b()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Xe(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function Cb(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Xe())}function Db(){var r;const t=(r=fh())===null||r===void 0?void 0:r.forceEnvironment;if(t==="node")return!0;if(t==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function Ob(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function Nb(){const r=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof r=="object"&&r.id!==void 0}function Mb(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function Vb(){const r=Xe();return r.indexOf("MSIE ")>=0||r.indexOf("Trident/")>=0}function xb(){return!Db()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function Pb(){try{return typeof indexedDB=="object"}catch{return!1}}function kb(){return new Promise((r,t)=>{try{let n=!0;const s="validate-browser-context-for-indexeddb-analytics-module",o=self.indexedDB.open(s);o.onsuccess=()=>{o.result.close(),n||self.indexedDB.deleteDatabase(s),r(!0)},o.onupgradeneeded=()=>{n=!1},o.onerror=()=>{var u;t(((u=o.error)===null||u===void 0?void 0:u.message)||"")}}catch(n){t(n)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ub="FirebaseError";class Xi extends Error{constructor(t,n,s){super(n),this.code=t,this.customData=s,this.name=Ub,Object.setPrototypeOf(this,Xi.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,ql.prototype.create)}}class ql{constructor(t,n,s){this.service=t,this.serviceName=n,this.errors=s}create(t,...n){const s=n[0]||{},o=`${this.service}/${t}`,u=this.errors[t],f=u?Lb(u,s):"Error",m=`${this.serviceName}: ${f} (${o}).`;return new Xi(o,m,s)}}function Lb(r,t){return r.replace(zb,(n,s)=>{const o=t[s];return o!=null?String(o):`<${s}?>`})}const zb=/\{\$([^}]+)}/g;function Bb(r){for(const t in r)if(Object.prototype.hasOwnProperty.call(r,t))return!1;return!0}function Os(r,t){if(r===t)return!0;const n=Object.keys(r),s=Object.keys(t);for(const o of n){if(!s.includes(o))return!1;const u=r[o],f=t[o];if(K_(u)&&K_(f)){if(!Os(u,f))return!1}else if(u!==f)return!1}for(const o of s)if(!n.includes(o))return!1;return!0}function K_(r){return r!==null&&typeof r=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jl(r){const t=[];for(const[n,s]of Object.entries(r))Array.isArray(s)?s.forEach(o=>{t.push(encodeURIComponent(n)+"="+encodeURIComponent(o))}):t.push(encodeURIComponent(n)+"="+encodeURIComponent(s));return t.length?"&"+t.join("&"):""}function Hb(r,t){const n=new qb(r,t);return n.subscribe.bind(n)}class qb{constructor(t,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{t(this)}).catch(s=>{this.error(s)})}next(t){this.forEachObserver(n=>{n.next(t)})}error(t){this.forEachObserver(n=>{n.error(t)}),this.close(t)}complete(){this.forEachObserver(t=>{t.complete()}),this.close()}subscribe(t,n,s){let o;if(t===void 0&&n===void 0&&s===void 0)throw new Error("Missing Observer.");jb(t,["next","error","complete"])?o=t:o={next:t,error:n,complete:s},o.next===void 0&&(o.next=Hd),o.error===void 0&&(o.error=Hd),o.complete===void 0&&(o.complete=Hd);const u=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?o.error(this.finalError):o.complete()}catch{}}),this.observers.push(o),u}unsubscribeOne(t){this.observers===void 0||this.observers[t]===void 0||(delete this.observers[t],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(t){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,t)}sendOne(t,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[t]!==void 0)try{n(this.observers[t])}catch(s){typeof console<"u"&&console.error&&console.error(s)}})}close(t){this.finalized||(this.finalized=!0,t!==void 0&&(this.finalError=t),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function jb(r,t){if(typeof r!="object"||r===null)return!1;for(const n of t)if(n in r&&typeof r[n]=="function")return!0;return!1}function Hd(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Dn(r){return r&&r._delegate?r._delegate:r}class Ns{constructor(t,n,s){this.name=t,this.instanceFactory=n,this.type=s,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(t){return this.instantiationMode=t,this}setMultipleInstances(t){return this.multipleInstances=t,this}setServiceProps(t){return this.serviceProps=t,this}setInstanceCreatedCallback(t){return this.onInstanceCreated=t,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Rs="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fb{constructor(t,n){this.name=t,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(t){const n=this.normalizeInstanceIdentifier(t);if(!this.instancesDeferred.has(n)){const s=new bb;if(this.instancesDeferred.set(n,s),this.isInitialized(n)||this.shouldAutoInitialize())try{const o=this.getOrInitializeService({instanceIdentifier:n});o&&s.resolve(o)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(t){var n;const s=this.normalizeInstanceIdentifier(t==null?void 0:t.identifier),o=(n=t==null?void 0:t.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(s)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:s})}catch(u){if(o)return null;throw u}else{if(o)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(t){if(t.name!==this.name)throw Error(`Mismatching Component ${t.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=t,!!this.shouldAutoInitialize()){if(Qb(t))try{this.getOrInitializeService({instanceIdentifier:Rs})}catch{}for(const[n,s]of this.instancesDeferred.entries()){const o=this.normalizeInstanceIdentifier(n);try{const u=this.getOrInitializeService({instanceIdentifier:o});s.resolve(u)}catch{}}}}clearInstance(t=Rs){this.instancesDeferred.delete(t),this.instancesOptions.delete(t),this.instances.delete(t)}async delete(){const t=Array.from(this.instances.values());await Promise.all([...t.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...t.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(t=Rs){return this.instances.has(t)}getOptions(t=Rs){return this.instancesOptions.get(t)||{}}initialize(t={}){const{options:n={}}=t,s=this.normalizeInstanceIdentifier(t.instanceIdentifier);if(this.isInitialized(s))throw Error(`${this.name}(${s}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const o=this.getOrInitializeService({instanceIdentifier:s,options:n});for(const[u,f]of this.instancesDeferred.entries()){const m=this.normalizeInstanceIdentifier(u);s===m&&f.resolve(o)}return o}onInit(t,n){var s;const o=this.normalizeInstanceIdentifier(n),u=(s=this.onInitCallbacks.get(o))!==null&&s!==void 0?s:new Set;u.add(t),this.onInitCallbacks.set(o,u);const f=this.instances.get(o);return f&&t(f,o),()=>{u.delete(t)}}invokeOnInitCallbacks(t,n){const s=this.onInitCallbacks.get(n);if(s)for(const o of s)try{o(t,n)}catch{}}getOrInitializeService({instanceIdentifier:t,options:n={}}){let s=this.instances.get(t);if(!s&&this.component&&(s=this.component.instanceFactory(this.container,{instanceIdentifier:Gb(t),options:n}),this.instances.set(t,s),this.instancesOptions.set(t,n),this.invokeOnInitCallbacks(s,t),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,t,s)}catch{}return s||null}normalizeInstanceIdentifier(t=Rs){return this.component?this.component.multipleInstances?t:Rs:t}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function Gb(r){return r===Rs?void 0:r}function Qb(r){return r.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kb{constructor(t){this.name=t,this.providers=new Map}addComponent(t){const n=this.getProvider(t.name);if(n.isComponentSet())throw new Error(`Component ${t.name} has already been registered with ${this.name}`);n.setComponent(t)}addOrOverwriteComponent(t){this.getProvider(t.name).isComponentSet()&&this.providers.delete(t.name),this.addComponent(t)}getProvider(t){if(this.providers.has(t))return this.providers.get(t);const n=new Fb(t,this);return this.providers.set(t,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Mt;(function(r){r[r.DEBUG=0]="DEBUG",r[r.VERBOSE=1]="VERBOSE",r[r.INFO=2]="INFO",r[r.WARN=3]="WARN",r[r.ERROR=4]="ERROR",r[r.SILENT=5]="SILENT"})(Mt||(Mt={}));const Yb={debug:Mt.DEBUG,verbose:Mt.VERBOSE,info:Mt.INFO,warn:Mt.WARN,error:Mt.ERROR,silent:Mt.SILENT},Xb=Mt.INFO,$b={[Mt.DEBUG]:"log",[Mt.VERBOSE]:"log",[Mt.INFO]:"info",[Mt.WARN]:"warn",[Mt.ERROR]:"error"},Zb=(r,t,...n)=>{if(t<r.logLevel)return;const s=new Date().toISOString(),o=$b[t];if(o)console[o](`[${s}]  ${r.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${t})`)};class Om{constructor(t){this.name=t,this._logLevel=Xb,this._logHandler=Zb,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(t){if(!(t in Mt))throw new TypeError(`Invalid value "${t}" assigned to \`logLevel\``);this._logLevel=t}setLogLevel(t){this._logLevel=typeof t=="string"?Yb[t]:t}get logHandler(){return this._logHandler}set logHandler(t){if(typeof t!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=t}get userLogHandler(){return this._userLogHandler}set userLogHandler(t){this._userLogHandler=t}debug(...t){this._userLogHandler&&this._userLogHandler(this,Mt.DEBUG,...t),this._logHandler(this,Mt.DEBUG,...t)}log(...t){this._userLogHandler&&this._userLogHandler(this,Mt.VERBOSE,...t),this._logHandler(this,Mt.VERBOSE,...t)}info(...t){this._userLogHandler&&this._userLogHandler(this,Mt.INFO,...t),this._logHandler(this,Mt.INFO,...t)}warn(...t){this._userLogHandler&&this._userLogHandler(this,Mt.WARN,...t),this._logHandler(this,Mt.WARN,...t)}error(...t){this._userLogHandler&&this._userLogHandler(this,Mt.ERROR,...t),this._logHandler(this,Mt.ERROR,...t)}}const Wb=(r,t)=>t.some(n=>r instanceof n);let Y_,X_;function Jb(){return Y_||(Y_=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function tw(){return X_||(X_=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const qE=new WeakMap,tm=new WeakMap,jE=new WeakMap,qd=new WeakMap,Nm=new WeakMap;function ew(r){const t=new Promise((n,s)=>{const o=()=>{r.removeEventListener("success",u),r.removeEventListener("error",f)},u=()=>{n(Nr(r.result)),o()},f=()=>{s(r.error),o()};r.addEventListener("success",u),r.addEventListener("error",f)});return t.then(n=>{n instanceof IDBCursor&&qE.set(n,r)}).catch(()=>{}),Nm.set(t,r),t}function nw(r){if(tm.has(r))return;const t=new Promise((n,s)=>{const o=()=>{r.removeEventListener("complete",u),r.removeEventListener("error",f),r.removeEventListener("abort",f)},u=()=>{n(),o()},f=()=>{s(r.error||new DOMException("AbortError","AbortError")),o()};r.addEventListener("complete",u),r.addEventListener("error",f),r.addEventListener("abort",f)});tm.set(r,t)}let em={get(r,t,n){if(r instanceof IDBTransaction){if(t==="done")return tm.get(r);if(t==="objectStoreNames")return r.objectStoreNames||jE.get(r);if(t==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return Nr(r[t])},set(r,t,n){return r[t]=n,!0},has(r,t){return r instanceof IDBTransaction&&(t==="done"||t==="store")?!0:t in r}};function iw(r){em=r(em)}function rw(r){return r===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(t,...n){const s=r.call(jd(this),t,...n);return jE.set(s,t.sort?t.sort():[t]),Nr(s)}:tw().includes(r)?function(...t){return r.apply(jd(this),t),Nr(qE.get(this))}:function(...t){return Nr(r.apply(jd(this),t))}}function sw(r){return typeof r=="function"?rw(r):(r instanceof IDBTransaction&&nw(r),Wb(r,Jb())?new Proxy(r,em):r)}function Nr(r){if(r instanceof IDBRequest)return ew(r);if(qd.has(r))return qd.get(r);const t=sw(r);return t!==r&&(qd.set(r,t),Nm.set(t,r)),t}const jd=r=>Nm.get(r);function aw(r,t,{blocked:n,upgrade:s,blocking:o,terminated:u}={}){const f=indexedDB.open(r,t),m=Nr(f);return s&&f.addEventListener("upgradeneeded",g=>{s(Nr(f.result),g.oldVersion,g.newVersion,Nr(f.transaction),g)}),n&&f.addEventListener("blocked",g=>n(g.oldVersion,g.newVersion,g)),m.then(g=>{u&&g.addEventListener("close",()=>u()),o&&g.addEventListener("versionchange",y=>o(y.oldVersion,y.newVersion,y))}).catch(()=>{}),m}const ow=["get","getKey","getAll","getAllKeys","count"],lw=["put","add","delete","clear"],Fd=new Map;function $_(r,t){if(!(r instanceof IDBDatabase&&!(t in r)&&typeof t=="string"))return;if(Fd.get(t))return Fd.get(t);const n=t.replace(/FromIndex$/,""),s=t!==n,o=lw.includes(n);if(!(n in(s?IDBIndex:IDBObjectStore).prototype)||!(o||ow.includes(n)))return;const u=async function(f,...m){const g=this.transaction(f,o?"readwrite":"readonly");let y=g.store;return s&&(y=y.index(m.shift())),(await Promise.all([y[n](...m),o&&g.done]))[0]};return Fd.set(t,u),u}iw(r=>({...r,get:(t,n,s)=>$_(t,n)||r.get(t,n,s),has:(t,n)=>!!$_(t,n)||r.has(t,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uw{constructor(t){this.container=t}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(cw(n)){const s=n.getImmediate();return`${s.library}/${s.version}`}else return null}).filter(n=>n).join(" ")}}function cw(r){const t=r.getComponent();return(t==null?void 0:t.type)==="VERSION"}const nm="@firebase/app",Z_="0.13.1";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Gi=new Om("@firebase/app"),hw="@firebase/app-compat",fw="@firebase/analytics-compat",dw="@firebase/analytics",mw="@firebase/app-check-compat",pw="@firebase/app-check",gw="@firebase/auth",yw="@firebase/auth-compat",_w="@firebase/database",vw="@firebase/data-connect",Ew="@firebase/database-compat",Tw="@firebase/functions",Aw="@firebase/functions-compat",Sw="@firebase/installations",bw="@firebase/installations-compat",ww="@firebase/messaging",Rw="@firebase/messaging-compat",Iw="@firebase/performance",Cw="@firebase/performance-compat",Dw="@firebase/remote-config",Ow="@firebase/remote-config-compat",Nw="@firebase/storage",Mw="@firebase/storage-compat",Vw="@firebase/firestore",xw="@firebase/ai",Pw="@firebase/firestore-compat",kw="firebase",Uw="11.9.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const im="[DEFAULT]",Lw={[nm]:"fire-core",[hw]:"fire-core-compat",[dw]:"fire-analytics",[fw]:"fire-analytics-compat",[pw]:"fire-app-check",[mw]:"fire-app-check-compat",[gw]:"fire-auth",[yw]:"fire-auth-compat",[_w]:"fire-rtdb",[vw]:"fire-data-connect",[Ew]:"fire-rtdb-compat",[Tw]:"fire-fn",[Aw]:"fire-fn-compat",[Sw]:"fire-iid",[bw]:"fire-iid-compat",[ww]:"fire-fcm",[Rw]:"fire-fcm-compat",[Iw]:"fire-perf",[Cw]:"fire-perf-compat",[Dw]:"fire-rc",[Ow]:"fire-rc-compat",[Nw]:"fire-gcs",[Mw]:"fire-gcs-compat",[Vw]:"fire-fst",[Pw]:"fire-fst-compat",[xw]:"fire-vertex","fire-js":"fire-js",[kw]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jc=new Map,zw=new Map,rm=new Map;function W_(r,t){try{r.container.addComponent(t)}catch(n){Gi.debug(`Component ${t.name} failed to register with FirebaseApp ${r.name}`,n)}}function Ha(r){const t=r.name;if(rm.has(t))return Gi.debug(`There were multiple attempts to register component ${t}.`),!1;rm.set(t,r);for(const n of jc.values())W_(n,r);for(const n of zw.values())W_(n,r);return!0}function Mm(r,t){const n=r.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),r.container.getProvider(t)}function kn(r){return r==null?!1:r.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Bw={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Mr=new ql("app","Firebase",Bw);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hw{constructor(t,n,s){this._isDeleted=!1,this._options=Object.assign({},t),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=s,this.container.addComponent(new Ns("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(t){this.checkDestroyed(),this._automaticDataCollectionEnabled=t}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(t){this._isDeleted=t}checkDestroyed(){if(this.isDeleted)throw Mr.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ja=Uw;function FE(r,t={}){let n=r;typeof t!="object"&&(t={name:t});const s=Object.assign({name:im,automaticDataCollectionEnabled:!0},t),o=s.name;if(typeof o!="string"||!o)throw Mr.create("bad-app-name",{appName:String(o)});if(n||(n=LE()),!n)throw Mr.create("no-options");const u=jc.get(o);if(u){if(Os(n,u.options)&&Os(s,u.config))return u;throw Mr.create("duplicate-app",{appName:o})}const f=new Kb(o);for(const g of rm.values())f.addComponent(g);const m=new Hw(n,s,f);return jc.set(o,m),m}function GE(r=im){const t=jc.get(r);if(!t&&r===im&&LE())return FE();if(!t)throw Mr.create("no-app",{appName:r});return t}function Vr(r,t,n){var s;let o=(s=Lw[r])!==null&&s!==void 0?s:r;n&&(o+=`-${n}`);const u=o.match(/\s|\//),f=t.match(/\s|\//);if(u||f){const m=[`Unable to register library "${o}" with version "${t}":`];u&&m.push(`library name "${o}" contains illegal characters (whitespace or "/")`),u&&f&&m.push("and"),f&&m.push(`version name "${t}" contains illegal characters (whitespace or "/")`),Gi.warn(m.join(" "));return}Ha(new Ns(`${o}-version`,()=>({library:o,version:t}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qw="firebase-heartbeat-database",jw=1,Ol="firebase-heartbeat-store";let Gd=null;function QE(){return Gd||(Gd=aw(qw,jw,{upgrade:(r,t)=>{switch(t){case 0:try{r.createObjectStore(Ol)}catch(n){console.warn(n)}}}}).catch(r=>{throw Mr.create("idb-open",{originalErrorMessage:r.message})})),Gd}async function Fw(r){try{const n=(await QE()).transaction(Ol),s=await n.objectStore(Ol).get(KE(r));return await n.done,s}catch(t){if(t instanceof Xi)Gi.warn(t.message);else{const n=Mr.create("idb-get",{originalErrorMessage:t==null?void 0:t.message});Gi.warn(n.message)}}}async function J_(r,t){try{const s=(await QE()).transaction(Ol,"readwrite");await s.objectStore(Ol).put(t,KE(r)),await s.done}catch(n){if(n instanceof Xi)Gi.warn(n.message);else{const s=Mr.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});Gi.warn(s.message)}}}function KE(r){return`${r.name}!${r.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Gw=1024,Qw=30;class Kw{constructor(t){this.container=t,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new Xw(n),this._heartbeatsCachePromise=this._storage.read().then(s=>(this._heartbeatsCache=s,s))}async triggerHeartbeat(){var t,n;try{const o=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),u=tv();if(((t=this._heartbeatsCache)===null||t===void 0?void 0:t.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((n=this._heartbeatsCache)===null||n===void 0?void 0:n.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===u||this._heartbeatsCache.heartbeats.some(f=>f.date===u))return;if(this._heartbeatsCache.heartbeats.push({date:u,agent:o}),this._heartbeatsCache.heartbeats.length>Qw){const f=$w(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(f,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(s){Gi.warn(s)}}async getHeartbeatsHeader(){var t;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((t=this._heartbeatsCache)===null||t===void 0?void 0:t.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const n=tv(),{heartbeatsToSend:s,unsentEntries:o}=Yw(this._heartbeatsCache.heartbeats),u=qc(JSON.stringify({version:2,heartbeats:s}));return this._heartbeatsCache.lastSentHeartbeatDate=n,o.length>0?(this._heartbeatsCache.heartbeats=o,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),u}catch(n){return Gi.warn(n),""}}}function tv(){return new Date().toISOString().substring(0,10)}function Yw(r,t=Gw){const n=[];let s=r.slice();for(const o of r){const u=n.find(f=>f.agent===o.agent);if(u){if(u.dates.push(o.date),ev(n)>t){u.dates.pop();break}}else if(n.push({agent:o.agent,dates:[o.date]}),ev(n)>t){n.pop();break}s=s.slice(1)}return{heartbeatsToSend:n,unsentEntries:s}}class Xw{constructor(t){this.app=t,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return Pb()?kb().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await Fw(this.app);return n!=null&&n.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(t){var n;if(await this._canUseIndexedDBPromise){const o=await this.read();return J_(this.app,{lastSentHeartbeatDate:(n=t.lastSentHeartbeatDate)!==null&&n!==void 0?n:o.lastSentHeartbeatDate,heartbeats:t.heartbeats})}else return}async add(t){var n;if(await this._canUseIndexedDBPromise){const o=await this.read();return J_(this.app,{lastSentHeartbeatDate:(n=t.lastSentHeartbeatDate)!==null&&n!==void 0?n:o.lastSentHeartbeatDate,heartbeats:[...o.heartbeats,...t.heartbeats]})}else return}}function ev(r){return qc(JSON.stringify({version:2,heartbeats:r})).length}function $w(r){if(r.length===0)return-1;let t=0,n=r[0].date;for(let s=1;s<r.length;s++)r[s].date<n&&(n=r[s].date,t=s);return t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Zw(r){Ha(new Ns("platform-logger",t=>new uw(t),"PRIVATE")),Ha(new Ns("heartbeat",t=>new Kw(t),"PRIVATE")),Vr(nm,Z_,r),Vr(nm,Z_,"esm2017"),Vr("fire-js","")}Zw("");function Vm(r,t){var n={};for(var s in r)Object.prototype.hasOwnProperty.call(r,s)&&t.indexOf(s)<0&&(n[s]=r[s]);if(r!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,s=Object.getOwnPropertySymbols(r);o<s.length;o++)t.indexOf(s[o])<0&&Object.prototype.propertyIsEnumerable.call(r,s[o])&&(n[s[o]]=r[s[o]]);return n}function YE(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const Ww=YE,XE=new ql("auth","Firebase",YE());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Fc=new Om("@firebase/auth");function Jw(r,...t){Fc.logLevel<=Mt.WARN&&Fc.warn(`Auth (${Ja}): ${r}`,...t)}function Nc(r,...t){Fc.logLevel<=Mt.ERROR&&Fc.error(`Auth (${Ja}): ${r}`,...t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ui(r,...t){throw Pm(r,...t)}function zn(r,...t){return Pm(r,...t)}function xm(r,t,n){const s=Object.assign(Object.assign({},Ww()),{[t]:n});return new ql("auth","Firebase",s).create(t,{appName:r.name})}function Ds(r){return xm(r,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function tR(r,t,n){const s=n;if(!(t instanceof s))throw s.name!==t.constructor.name&&ui(r,"argument-error"),xm(r,"argument-error",`Type of ${t.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function Pm(r,...t){if(typeof r!="string"){const n=t[0],s=[...t.slice(1)];return s[0]&&(s[0].appName=r.name),r._errorFactory.create(n,...s)}return XE.create(r,...t)}function Et(r,t,...n){if(!r)throw Pm(t,...n)}function Hi(r){const t="INTERNAL ASSERTION FAILED: "+r;throw Nc(t),new Error(t)}function Qi(r,t){r||Hi(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sm(){var r;return typeof self<"u"&&((r=self.location)===null||r===void 0?void 0:r.href)||""}function eR(){return nv()==="http:"||nv()==="https:"}function nv(){var r;return typeof self<"u"&&((r=self.location)===null||r===void 0?void 0:r.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function nR(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(eR()||Nb()||"connection"in navigator)?navigator.onLine:!0}function iR(){if(typeof navigator>"u")return null;const r=navigator;return r.languages&&r.languages[0]||r.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fl{constructor(t,n){this.shortDelay=t,this.longDelay=n,Qi(n>t,"Short delay should be less than long delay!"),this.isMobile=Cb()||Mb()}get(){return nR()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function km(r,t){Qi(r.emulator,"Emulator should always be set here");const{url:n}=r.emulator;return t?`${n}${t.startsWith("/")?t.slice(1):t}`:n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $E{static initialize(t,n,s){this.fetchImpl=t,n&&(this.headersImpl=n),s&&(this.responseImpl=s)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;Hi("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;Hi("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;Hi("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rR={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sR=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],aR=new Fl(3e4,6e4);function Um(r,t){return r.tenantId&&!t.tenantId?Object.assign(Object.assign({},t),{tenantId:r.tenantId}):t}async function to(r,t,n,s,o={}){return ZE(r,o,async()=>{let u={},f={};s&&(t==="GET"?f=s:u={body:JSON.stringify(s)});const m=jl(Object.assign({key:r.config.apiKey},f)).slice(1),g=await r._getAdditionalHeaders();g["Content-Type"]="application/json",r.languageCode&&(g["X-Firebase-Locale"]=r.languageCode);const y=Object.assign({method:t,headers:g},u);return Ob()||(y.referrerPolicy="no-referrer"),r.emulatorConfig&&Hl(r.emulatorConfig.host)&&(y.credentials="include"),$E.fetch()(await WE(r,r.config.apiHost,n,m),y)})}async function ZE(r,t,n){r._canInitEmulator=!1;const s=Object.assign(Object.assign({},rR),t);try{const o=new lR(r),u=await Promise.race([n(),o.promise]);o.clearNetworkTimeout();const f=await u.json();if("needConfirmation"in f)throw Ac(r,"account-exists-with-different-credential",f);if(u.ok&&!("errorMessage"in f))return f;{const m=u.ok?f.errorMessage:f.error.message,[g,y]=m.split(" : ");if(g==="FEDERATED_USER_ID_ALREADY_LINKED")throw Ac(r,"credential-already-in-use",f);if(g==="EMAIL_EXISTS")throw Ac(r,"email-already-in-use",f);if(g==="USER_DISABLED")throw Ac(r,"user-disabled",f);const E=s[g]||g.toLowerCase().replace(/[_\s]+/g,"-");if(y)throw xm(r,E,y);ui(r,E)}}catch(o){if(o instanceof Xi)throw o;ui(r,"network-request-failed",{message:String(o)})}}async function oR(r,t,n,s,o={}){const u=await to(r,t,n,s,o);return"mfaPendingCredential"in u&&ui(r,"multi-factor-auth-required",{_serverResponse:u}),u}async function WE(r,t,n,s){const o=`${t}${n}?${s}`,u=r,f=u.config.emulator?km(r.config,o):`${r.config.apiScheme}://${o}`;return sR.includes(n)&&(await u._persistenceManagerAvailable,u._getPersistenceType()==="COOKIE")?u._getPersistence()._getFinalTarget(f).toString():f}class lR{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(t){this.auth=t,this.timer=null,this.promise=new Promise((n,s)=>{this.timer=setTimeout(()=>s(zn(this.auth,"network-request-failed")),aR.get())})}}function Ac(r,t,n){const s={appName:r.name};n.email&&(s.email=n.email),n.phoneNumber&&(s.phoneNumber=n.phoneNumber);const o=zn(r,t,s);return o.customData._tokenResponse=n,o}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function uR(r,t){return to(r,"POST","/v1/accounts:delete",t)}async function Gc(r,t){return to(r,"POST","/v1/accounts:lookup",t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bl(r){if(r)try{const t=new Date(Number(r));if(!isNaN(t.getTime()))return t.toUTCString()}catch{}}async function cR(r,t=!1){const n=Dn(r),s=await n.getIdToken(t),o=Lm(s);Et(o&&o.exp&&o.auth_time&&o.iat,n.auth,"internal-error");const u=typeof o.firebase=="object"?o.firebase:void 0,f=u==null?void 0:u.sign_in_provider;return{claims:o,token:s,authTime:bl(Qd(o.auth_time)),issuedAtTime:bl(Qd(o.iat)),expirationTime:bl(Qd(o.exp)),signInProvider:f||null,signInSecondFactor:(u==null?void 0:u.sign_in_second_factor)||null}}function Qd(r){return Number(r)*1e3}function Lm(r){const[t,n,s]=r.split(".");if(t===void 0||n===void 0||s===void 0)return Nc("JWT malformed, contained fewer than 3 sections"),null;try{const o=kE(n);return o?JSON.parse(o):(Nc("Failed to decode base64 JWT payload"),null)}catch(o){return Nc("Caught error parsing JWT payload as JSON",o==null?void 0:o.toString()),null}}function iv(r){const t=Lm(r);return Et(t,"internal-error"),Et(typeof t.exp<"u","internal-error"),Et(typeof t.iat<"u","internal-error"),Number(t.exp)-Number(t.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Nl(r,t,n=!1){if(n)return t;try{return await t}catch(s){throw s instanceof Xi&&hR(s)&&r.auth.currentUser===r&&await r.auth.signOut(),s}}function hR({code:r}){return r==="auth/user-disabled"||r==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fR{constructor(t){this.user=t,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(t){var n;if(t){const s=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),s}else{this.errorBackoff=3e4;const o=((n=this.user.stsTokenManager.expirationTime)!==null&&n!==void 0?n:0)-Date.now()-3e5;return Math.max(0,o)}}schedule(t=!1){if(!this.isRunning)return;const n=this.getInterval(t);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(t){(t==null?void 0:t.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class am{constructor(t,n){this.createdAt=t,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=bl(this.lastLoginAt),this.creationTime=bl(this.createdAt)}_copy(t){this.createdAt=t.createdAt,this.lastLoginAt=t.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Qc(r){var t;const n=r.auth,s=await r.getIdToken(),o=await Nl(r,Gc(n,{idToken:s}));Et(o==null?void 0:o.users.length,n,"internal-error");const u=o.users[0];r._notifyReloadListener(u);const f=!((t=u.providerUserInfo)===null||t===void 0)&&t.length?JE(u.providerUserInfo):[],m=mR(r.providerData,f),g=r.isAnonymous,y=!(r.email&&u.passwordHash)&&!(m!=null&&m.length),E=g?y:!1,b={uid:u.localId,displayName:u.displayName||null,photoURL:u.photoUrl||null,email:u.email||null,emailVerified:u.emailVerified||!1,phoneNumber:u.phoneNumber||null,tenantId:u.tenantId||null,providerData:m,metadata:new am(u.createdAt,u.lastLoginAt),isAnonymous:E};Object.assign(r,b)}async function dR(r){const t=Dn(r);await Qc(t),await t.auth._persistUserIfCurrent(t),t.auth._notifyListenersIfCurrent(t)}function mR(r,t){return[...r.filter(s=>!t.some(o=>o.providerId===s.providerId)),...t]}function JE(r){return r.map(t=>{var{providerId:n}=t,s=Vm(t,["providerId"]);return{providerId:n,uid:s.rawId||"",displayName:s.displayName||null,email:s.email||null,phoneNumber:s.phoneNumber||null,photoURL:s.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function pR(r,t){const n=await ZE(r,{},async()=>{const s=jl({grant_type:"refresh_token",refresh_token:t}).slice(1),{tokenApiHost:o,apiKey:u}=r.config,f=await WE(r,o,"/v1/token",`key=${u}`),m=await r._getAdditionalHeaders();return m["Content-Type"]="application/x-www-form-urlencoded",$E.fetch()(f,{method:"POST",headers:m,body:s})});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function gR(r,t){return to(r,"POST","/v2/accounts:revokeToken",Um(r,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ua{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(t){Et(t.idToken,"internal-error"),Et(typeof t.idToken<"u","internal-error"),Et(typeof t.refreshToken<"u","internal-error");const n="expiresIn"in t&&typeof t.expiresIn<"u"?Number(t.expiresIn):iv(t.idToken);this.updateTokensAndExpiration(t.idToken,t.refreshToken,n)}updateFromIdToken(t){Et(t.length!==0,"internal-error");const n=iv(t);this.updateTokensAndExpiration(t,null,n)}async getToken(t,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(Et(this.refreshToken,t,"user-token-expired"),this.refreshToken?(await this.refresh(t,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(t,n){const{accessToken:s,refreshToken:o,expiresIn:u}=await pR(t,n);this.updateTokensAndExpiration(s,o,Number(u))}updateTokensAndExpiration(t,n,s){this.refreshToken=n||null,this.accessToken=t||null,this.expirationTime=Date.now()+s*1e3}static fromJSON(t,n){const{refreshToken:s,accessToken:o,expirationTime:u}=n,f=new Ua;return s&&(Et(typeof s=="string","internal-error",{appName:t}),f.refreshToken=s),o&&(Et(typeof o=="string","internal-error",{appName:t}),f.accessToken=o),u&&(Et(typeof u=="number","internal-error",{appName:t}),f.expirationTime=u),f}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(t){this.accessToken=t.accessToken,this.refreshToken=t.refreshToken,this.expirationTime=t.expirationTime}_clone(){return Object.assign(new Ua,this.toJSON())}_performRefresh(){return Hi("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Rr(r,t){Et(typeof r=="string"||typeof r>"u","internal-error",{appName:t})}class Un{constructor(t){var{uid:n,auth:s,stsTokenManager:o}=t,u=Vm(t,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new fR(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=n,this.auth=s,this.stsTokenManager=o,this.accessToken=o.accessToken,this.displayName=u.displayName||null,this.email=u.email||null,this.emailVerified=u.emailVerified||!1,this.phoneNumber=u.phoneNumber||null,this.photoURL=u.photoURL||null,this.isAnonymous=u.isAnonymous||!1,this.tenantId=u.tenantId||null,this.providerData=u.providerData?[...u.providerData]:[],this.metadata=new am(u.createdAt||void 0,u.lastLoginAt||void 0)}async getIdToken(t){const n=await Nl(this,this.stsTokenManager.getToken(this.auth,t));return Et(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(t){return cR(this,t)}reload(){return dR(this)}_assign(t){this!==t&&(Et(this.uid===t.uid,this.auth,"internal-error"),this.displayName=t.displayName,this.photoURL=t.photoURL,this.email=t.email,this.emailVerified=t.emailVerified,this.phoneNumber=t.phoneNumber,this.isAnonymous=t.isAnonymous,this.tenantId=t.tenantId,this.providerData=t.providerData.map(n=>Object.assign({},n)),this.metadata._copy(t.metadata),this.stsTokenManager._assign(t.stsTokenManager))}_clone(t){const n=new Un(Object.assign(Object.assign({},this),{auth:t,stsTokenManager:this.stsTokenManager._clone()}));return n.metadata._copy(this.metadata),n}_onReload(t){Et(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=t,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(t){this.reloadListener?this.reloadListener(t):this.reloadUserInfo=t}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(t,n=!1){let s=!1;t.idToken&&t.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(t),s=!0),n&&await Qc(this),await this.auth._persistUserIfCurrent(this),s&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(kn(this.auth.app))return Promise.reject(Ds(this.auth));const t=await this.getIdToken();return await Nl(this,uR(this.auth,{idToken:t})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(t=>Object.assign({},t)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(t,n){var s,o,u,f,m,g,y,E;const b=(s=n.displayName)!==null&&s!==void 0?s:void 0,S=(o=n.email)!==null&&o!==void 0?o:void 0,L=(u=n.phoneNumber)!==null&&u!==void 0?u:void 0,P=(f=n.photoURL)!==null&&f!==void 0?f:void 0,Q=(m=n.tenantId)!==null&&m!==void 0?m:void 0,F=(g=n._redirectEventId)!==null&&g!==void 0?g:void 0,$=(y=n.createdAt)!==null&&y!==void 0?y:void 0,J=(E=n.lastLoginAt)!==null&&E!==void 0?E:void 0,{uid:it,emailVerified:ht,isAnonymous:ut,providerData:bt,stsTokenManager:M}=n;Et(it&&M,t,"internal-error");const w=Ua.fromJSON(this.name,M);Et(typeof it=="string",t,"internal-error"),Rr(b,t.name),Rr(S,t.name),Et(typeof ht=="boolean",t,"internal-error"),Et(typeof ut=="boolean",t,"internal-error"),Rr(L,t.name),Rr(P,t.name),Rr(Q,t.name),Rr(F,t.name),Rr($,t.name),Rr(J,t.name);const R=new Un({uid:it,auth:t,email:S,emailVerified:ht,displayName:b,isAnonymous:ut,photoURL:P,phoneNumber:L,tenantId:Q,stsTokenManager:w,createdAt:$,lastLoginAt:J});return bt&&Array.isArray(bt)&&(R.providerData=bt.map(O=>Object.assign({},O))),F&&(R._redirectEventId=F),R}static async _fromIdTokenResponse(t,n,s=!1){const o=new Ua;o.updateFromServerResponse(n);const u=new Un({uid:n.localId,auth:t,stsTokenManager:o,isAnonymous:s});return await Qc(u),u}static async _fromGetAccountInfoResponse(t,n,s){const o=n.users[0];Et(o.localId!==void 0,"internal-error");const u=o.providerUserInfo!==void 0?JE(o.providerUserInfo):[],f=!(o.email&&o.passwordHash)&&!(u!=null&&u.length),m=new Ua;m.updateFromIdToken(s);const g=new Un({uid:o.localId,auth:t,stsTokenManager:m,isAnonymous:f}),y={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:u,metadata:new am(o.createdAt,o.lastLoginAt),isAnonymous:!(o.email&&o.passwordHash)&&!(u!=null&&u.length)};return Object.assign(g,y),g}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rv=new Map;function qi(r){Qi(r instanceof Function,"Expected a class definition");let t=rv.get(r);return t?(Qi(t instanceof r,"Instance stored in cache mismatched with class"),t):(t=new r,rv.set(r,t),t)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class t0{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(t,n){this.storage[t]=n}async _get(t){const n=this.storage[t];return n===void 0?null:n}async _remove(t){delete this.storage[t]}_addListener(t,n){}_removeListener(t,n){}}t0.type="NONE";const sv=t0;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Mc(r,t,n){return`firebase:${r}:${t}:${n}`}class La{constructor(t,n,s){this.persistence=t,this.auth=n,this.userKey=s;const{config:o,name:u}=this.auth;this.fullUserKey=Mc(this.userKey,o.apiKey,u),this.fullPersistenceKey=Mc("persistence",o.apiKey,u),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(t){return this.persistence._set(this.fullUserKey,t.toJSON())}async getCurrentUser(){const t=await this.persistence._get(this.fullUserKey);if(!t)return null;if(typeof t=="string"){const n=await Gc(this.auth,{idToken:t}).catch(()=>{});return n?Un._fromGetAccountInfoResponse(this.auth,n,t):null}return Un._fromJSON(this.auth,t)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(t){if(this.persistence===t)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=t,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(t,n,s="authUser"){if(!n.length)return new La(qi(sv),t,s);const o=(await Promise.all(n.map(async y=>{if(await y._isAvailable())return y}))).filter(y=>y);let u=o[0]||qi(sv);const f=Mc(s,t.config.apiKey,t.name);let m=null;for(const y of n)try{const E=await y._get(f);if(E){let b;if(typeof E=="string"){const S=await Gc(t,{idToken:E}).catch(()=>{});if(!S)break;b=await Un._fromGetAccountInfoResponse(t,S,E)}else b=Un._fromJSON(t,E);y!==u&&(m=b),u=y;break}}catch{}const g=o.filter(y=>y._shouldAllowMigration);return!u._shouldAllowMigration||!g.length?new La(u,t,s):(u=g[0],m&&await u._set(f,m.toJSON()),await Promise.all(n.map(async y=>{if(y!==u)try{await y._remove(f)}catch{}})),new La(u,t,s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function av(r){const t=r.toLowerCase();if(t.includes("opera/")||t.includes("opr/")||t.includes("opios/"))return"Opera";if(r0(t))return"IEMobile";if(t.includes("msie")||t.includes("trident/"))return"IE";if(t.includes("edge/"))return"Edge";if(e0(t))return"Firefox";if(t.includes("silk/"))return"Silk";if(a0(t))return"Blackberry";if(o0(t))return"Webos";if(n0(t))return"Safari";if((t.includes("chrome/")||i0(t))&&!t.includes("edge/"))return"Chrome";if(s0(t))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,s=r.match(n);if((s==null?void 0:s.length)===2)return s[1]}return"Other"}function e0(r=Xe()){return/firefox\//i.test(r)}function n0(r=Xe()){const t=r.toLowerCase();return t.includes("safari/")&&!t.includes("chrome/")&&!t.includes("crios/")&&!t.includes("android")}function i0(r=Xe()){return/crios\//i.test(r)}function r0(r=Xe()){return/iemobile/i.test(r)}function s0(r=Xe()){return/android/i.test(r)}function a0(r=Xe()){return/blackberry/i.test(r)}function o0(r=Xe()){return/webos/i.test(r)}function zm(r=Xe()){return/iphone|ipad|ipod/i.test(r)||/macintosh/i.test(r)&&/mobile/i.test(r)}function yR(r=Xe()){var t;return zm(r)&&!!(!((t=window.navigator)===null||t===void 0)&&t.standalone)}function _R(){return Vb()&&document.documentMode===10}function l0(r=Xe()){return zm(r)||s0(r)||o0(r)||a0(r)||/windows phone/i.test(r)||r0(r)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function u0(r,t=[]){let n;switch(r){case"Browser":n=av(Xe());break;case"Worker":n=`${av(Xe())}-${r}`;break;default:n=r}const s=t.length?t.join(","):"FirebaseCore-web";return`${n}/JsCore/${Ja}/${s}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vR{constructor(t){this.auth=t,this.queue=[]}pushCallback(t,n){const s=u=>new Promise((f,m)=>{try{const g=t(u);f(g)}catch(g){m(g)}});s.onAbort=n,this.queue.push(s);const o=this.queue.length-1;return()=>{this.queue[o]=()=>Promise.resolve()}}async runMiddleware(t){if(this.auth.currentUser===t)return;const n=[];try{for(const s of this.queue)await s(t),s.onAbort&&n.push(s.onAbort)}catch(s){n.reverse();for(const o of n)try{o()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:s==null?void 0:s.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ER(r,t={}){return to(r,"GET","/v2/passwordPolicy",Um(r,t))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const TR=6;class AR{constructor(t){var n,s,o,u;const f=t.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(n=f.minPasswordLength)!==null&&n!==void 0?n:TR,f.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=f.maxPasswordLength),f.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=f.containsLowercaseCharacter),f.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=f.containsUppercaseCharacter),f.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=f.containsNumericCharacter),f.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=f.containsNonAlphanumericCharacter),this.enforcementState=t.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(o=(s=t.allowedNonAlphanumericCharacters)===null||s===void 0?void 0:s.join(""))!==null&&o!==void 0?o:"",this.forceUpgradeOnSignin=(u=t.forceUpgradeOnSignin)!==null&&u!==void 0?u:!1,this.schemaVersion=t.schemaVersion}validatePassword(t){var n,s,o,u,f,m;const g={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(t,g),this.validatePasswordCharacterOptions(t,g),g.isValid&&(g.isValid=(n=g.meetsMinPasswordLength)!==null&&n!==void 0?n:!0),g.isValid&&(g.isValid=(s=g.meetsMaxPasswordLength)!==null&&s!==void 0?s:!0),g.isValid&&(g.isValid=(o=g.containsLowercaseLetter)!==null&&o!==void 0?o:!0),g.isValid&&(g.isValid=(u=g.containsUppercaseLetter)!==null&&u!==void 0?u:!0),g.isValid&&(g.isValid=(f=g.containsNumericCharacter)!==null&&f!==void 0?f:!0),g.isValid&&(g.isValid=(m=g.containsNonAlphanumericCharacter)!==null&&m!==void 0?m:!0),g}validatePasswordLengthOptions(t,n){const s=this.customStrengthOptions.minPasswordLength,o=this.customStrengthOptions.maxPasswordLength;s&&(n.meetsMinPasswordLength=t.length>=s),o&&(n.meetsMaxPasswordLength=t.length<=o)}validatePasswordCharacterOptions(t,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let s;for(let o=0;o<t.length;o++)s=t.charAt(o),this.updatePasswordCharacterOptionsStatuses(n,s>="a"&&s<="z",s>="A"&&s<="Z",s>="0"&&s<="9",this.allowedNonAlphanumericCharacters.includes(s))}updatePasswordCharacterOptionsStatuses(t,n,s,o,u){this.customStrengthOptions.containsLowercaseLetter&&(t.containsLowercaseLetter||(t.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(t.containsUppercaseLetter||(t.containsUppercaseLetter=s)),this.customStrengthOptions.containsNumericCharacter&&(t.containsNumericCharacter||(t.containsNumericCharacter=o)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(t.containsNonAlphanumericCharacter||(t.containsNonAlphanumericCharacter=u))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class SR{constructor(t,n,s,o){this.app=t,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=s,this.config=o,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new ov(this),this.idTokenSubscription=new ov(this),this.beforeStateQueue=new vR(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=XE,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=t.name,this.clientVersion=o.sdkClientVersion,this._persistenceManagerAvailable=new Promise(u=>this._resolvePersistenceManagerAvailable=u)}_initializeWithPersistence(t,n){return n&&(this._popupRedirectResolver=qi(n)),this._initializationPromise=this.queue(async()=>{var s,o,u;if(!this._deleted&&(this.persistenceManager=await La.create(this,t),(s=this._resolvePersistenceManagerAvailable)===null||s===void 0||s.call(this),!this._deleted)){if(!((o=this._popupRedirectResolver)===null||o===void 0)&&o._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=((u=this.currentUser)===null||u===void 0?void 0:u.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const t=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!t)){if(this.currentUser&&t&&this.currentUser.uid===t.uid){this._currentUser._assign(t),await this.currentUser.getIdToken();return}await this._updateCurrentUser(t,!0)}}async initializeCurrentUserFromIdToken(t){try{const n=await Gc(this,{idToken:t}),s=await Un._fromGetAccountInfoResponse(this,n,t);await this.directlySetCurrentUser(s)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(t){var n;if(kn(this.app)){const f=this.app.settings.authIdToken;return f?new Promise(m=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(f).then(m,m))}):this.directlySetCurrentUser(null)}const s=await this.assertedPersistence.getCurrentUser();let o=s,u=!1;if(t&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const f=(n=this.redirectUser)===null||n===void 0?void 0:n._redirectEventId,m=o==null?void 0:o._redirectEventId,g=await this.tryRedirectSignIn(t);(!f||f===m)&&(g!=null&&g.user)&&(o=g.user,u=!0)}if(!o)return this.directlySetCurrentUser(null);if(!o._redirectEventId){if(u)try{await this.beforeStateQueue.runMiddleware(o)}catch(f){o=s,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(f))}return o?this.reloadAndSetCurrentUserOrClear(o):this.directlySetCurrentUser(null)}return Et(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===o._redirectEventId?this.directlySetCurrentUser(o):this.reloadAndSetCurrentUserOrClear(o)}async tryRedirectSignIn(t){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,t,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(t){try{await Qc(t)}catch(n){if((n==null?void 0:n.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(t)}useDeviceLanguage(){this.languageCode=iR()}async _delete(){this._deleted=!0}async updateCurrentUser(t){if(kn(this.app))return Promise.reject(Ds(this));const n=t?Dn(t):null;return n&&Et(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(t,n=!1){if(!this._deleted)return t&&Et(this.tenantId===t.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(t),this.queue(async()=>{await this.directlySetCurrentUser(t),this.notifyAuthListeners()})}async signOut(){return kn(this.app)?Promise.reject(Ds(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(t){return kn(this.app)?Promise.reject(Ds(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(qi(t))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(t){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(t)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const t=await ER(this),n=new AR(t);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(t){this._errorFactory=new ql("auth","Firebase",t())}onAuthStateChanged(t,n,s){return this.registerStateListener(this.authStateSubscription,t,n,s)}beforeAuthStateChanged(t,n){return this.beforeStateQueue.pushCallback(t,n)}onIdTokenChanged(t,n,s){return this.registerStateListener(this.idTokenSubscription,t,n,s)}authStateReady(){return new Promise((t,n)=>{if(this.currentUser)t();else{const s=this.onAuthStateChanged(()=>{s(),t()},n)}})}async revokeAccessToken(t){if(this.currentUser){const n=await this.currentUser.getIdToken(),s={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:t,idToken:n};this.tenantId!=null&&(s.tenantId=this.tenantId),await gR(this,s)}}toJSON(){var t;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(t=this._currentUser)===null||t===void 0?void 0:t.toJSON()}}async _setRedirectUser(t,n){const s=await this.getOrInitRedirectPersistenceManager(n);return t===null?s.removeCurrentUser():s.setCurrentUser(t)}async getOrInitRedirectPersistenceManager(t){if(!this.redirectPersistenceManager){const n=t&&qi(t)||this._popupRedirectResolver;Et(n,this,"argument-error"),this.redirectPersistenceManager=await La.create(this,[qi(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(t){var n,s;return this._isInitialized&&await this.queue(async()=>{}),((n=this._currentUser)===null||n===void 0?void 0:n._redirectEventId)===t?this._currentUser:((s=this.redirectUser)===null||s===void 0?void 0:s._redirectEventId)===t?this.redirectUser:null}async _persistUserIfCurrent(t){if(t===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(t))}_notifyListenersIfCurrent(t){t===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var t,n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const s=(n=(t=this.currentUser)===null||t===void 0?void 0:t.uid)!==null&&n!==void 0?n:null;this.lastNotifiedUid!==s&&(this.lastNotifiedUid=s,this.authStateSubscription.next(this.currentUser))}registerStateListener(t,n,s,o){if(this._deleted)return()=>{};const u=typeof n=="function"?n:n.next.bind(n);let f=!1;const m=this._isInitialized?Promise.resolve():this._initializationPromise;if(Et(m,this,"internal-error"),m.then(()=>{f||u(this.currentUser)}),typeof n=="function"){const g=t.addObserver(n,s,o);return()=>{f=!0,g()}}else{const g=t.addObserver(n);return()=>{f=!0,g()}}}async directlySetCurrentUser(t){this.currentUser&&this.currentUser!==t&&this._currentUser._stopProactiveRefresh(),t&&this.isProactiveRefreshEnabled&&t._startProactiveRefresh(),this.currentUser=t,t?await this.assertedPersistence.setCurrentUser(t):await this.assertedPersistence.removeCurrentUser()}queue(t){return this.operations=this.operations.then(t,t),this.operations}get assertedPersistence(){return Et(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(t){!t||this.frameworks.includes(t)||(this.frameworks.push(t),this.frameworks.sort(),this.clientVersion=u0(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var t;const n={"X-Client-Version":this.clientVersion};this.app.options.appId&&(n["X-Firebase-gmpid"]=this.app.options.appId);const s=await((t=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||t===void 0?void 0:t.getHeartbeatsHeader());s&&(n["X-Firebase-Client"]=s);const o=await this._getAppCheckToken();return o&&(n["X-Firebase-AppCheck"]=o),n}async _getAppCheckToken(){var t;if(kn(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const n=await((t=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||t===void 0?void 0:t.getToken());return n!=null&&n.error&&Jw(`Error while retrieving App Check token: ${n.error}`),n==null?void 0:n.token}}function dh(r){return Dn(r)}class ov{constructor(t){this.auth=t,this.observer=null,this.addObserver=Hb(n=>this.observer=n)}get next(){return Et(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Bm={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function bR(r){Bm=r}function wR(r){return Bm.loadJS(r)}function RR(){return Bm.gapiScript}function IR(r){return`__${r}${Math.floor(Math.random()*1e6)}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function CR(r,t){const n=Mm(r,"auth");if(n.isInitialized()){const o=n.getImmediate(),u=n.getOptions();if(Os(u,t??{}))return o;ui(o,"already-initialized")}return n.initialize({options:t})}function DR(r,t){const n=(t==null?void 0:t.persistence)||[],s=(Array.isArray(n)?n:[n]).map(qi);t!=null&&t.errorMap&&r._updateErrorMap(t.errorMap),r._initializeWithPersistence(s,t==null?void 0:t.popupRedirectResolver)}function OR(r,t,n){const s=dh(r);Et(/^https?:\/\//.test(t),s,"invalid-emulator-scheme");const o=!1,u=c0(t),{host:f,port:m}=NR(t),g=m===null?"":`:${m}`,y={url:`${u}//${f}${g}/`},E=Object.freeze({host:f,port:m,protocol:u.replace(":",""),options:Object.freeze({disableWarnings:o})});if(!s._canInitEmulator){Et(s.config.emulator&&s.emulatorConfig,s,"emulator-config-failed"),Et(Os(y,s.config.emulator)&&Os(E,s.emulatorConfig),s,"emulator-config-failed");return}s.config.emulator=y,s.emulatorConfig=E,s.settings.appVerificationDisabledForTesting=!0,Hl(f)?(BE(`${u}//${f}${g}`),HE("Auth",!0)):MR()}function c0(r){const t=r.indexOf(":");return t<0?"":r.substr(0,t+1)}function NR(r){const t=c0(r),n=/(\/\/)?([^?#/]+)/.exec(r.substr(t.length));if(!n)return{host:"",port:null};const s=n[2].split("@").pop()||"",o=/^(\[[^\]]+\])(:|$)/.exec(s);if(o){const u=o[1];return{host:u,port:lv(s.substr(u.length+1))}}else{const[u,f]=s.split(":");return{host:u,port:lv(f)}}}function lv(r){if(!r)return null;const t=Number(r);return isNaN(t)?null:t}function MR(){function r(){const t=document.createElement("p"),n=t.style;t.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",t.classList.add("firebase-emulator-warning"),document.body.appendChild(t)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",r):r())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class h0{constructor(t,n){this.providerId=t,this.signInMethod=n}toJSON(){return Hi("not implemented")}_getIdTokenResponse(t){return Hi("not implemented")}_linkToIdToken(t,n){return Hi("not implemented")}_getReauthenticationResolver(t){return Hi("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function za(r,t){return oR(r,"POST","/v1/accounts:signInWithIdp",Um(r,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const VR="http://localhost";class Ms extends h0{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(t){const n=new Ms(t.providerId,t.signInMethod);return t.idToken||t.accessToken?(t.idToken&&(n.idToken=t.idToken),t.accessToken&&(n.accessToken=t.accessToken),t.nonce&&!t.pendingToken&&(n.nonce=t.nonce),t.pendingToken&&(n.pendingToken=t.pendingToken)):t.oauthToken&&t.oauthTokenSecret?(n.accessToken=t.oauthToken,n.secret=t.oauthTokenSecret):ui("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(t){const n=typeof t=="string"?JSON.parse(t):t,{providerId:s,signInMethod:o}=n,u=Vm(n,["providerId","signInMethod"]);if(!s||!o)return null;const f=new Ms(s,o);return f.idToken=u.idToken||void 0,f.accessToken=u.accessToken||void 0,f.secret=u.secret,f.nonce=u.nonce,f.pendingToken=u.pendingToken||null,f}_getIdTokenResponse(t){const n=this.buildRequest();return za(t,n)}_linkToIdToken(t,n){const s=this.buildRequest();return s.idToken=n,za(t,s)}_getReauthenticationResolver(t){const n=this.buildRequest();return n.autoCreate=!1,za(t,n)}buildRequest(){const t={requestUri:VR,returnSecureToken:!0};if(this.pendingToken)t.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),t.postBody=jl(n)}return t}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hm{constructor(t){this.providerId=t,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(t){this.defaultLanguageCode=t}setCustomParameters(t){return this.customParameters=t,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gl extends Hm{constructor(){super(...arguments),this.scopes=[]}addScope(t){return this.scopes.includes(t)||this.scopes.push(t),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ir extends Gl{constructor(){super("facebook.com")}static credential(t){return Ms._fromParams({providerId:Ir.PROVIDER_ID,signInMethod:Ir.FACEBOOK_SIGN_IN_METHOD,accessToken:t})}static credentialFromResult(t){return Ir.credentialFromTaggedObject(t)}static credentialFromError(t){return Ir.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t||!("oauthAccessToken"in t)||!t.oauthAccessToken)return null;try{return Ir.credential(t.oauthAccessToken)}catch{return null}}}Ir.FACEBOOK_SIGN_IN_METHOD="facebook.com";Ir.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bi extends Gl{constructor(){super("google.com"),this.addScope("profile")}static credential(t,n){return Ms._fromParams({providerId:Bi.PROVIDER_ID,signInMethod:Bi.GOOGLE_SIGN_IN_METHOD,idToken:t,accessToken:n})}static credentialFromResult(t){return Bi.credentialFromTaggedObject(t)}static credentialFromError(t){return Bi.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t)return null;const{oauthIdToken:n,oauthAccessToken:s}=t;if(!n&&!s)return null;try{return Bi.credential(n,s)}catch{return null}}}Bi.GOOGLE_SIGN_IN_METHOD="google.com";Bi.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cr extends Gl{constructor(){super("github.com")}static credential(t){return Ms._fromParams({providerId:Cr.PROVIDER_ID,signInMethod:Cr.GITHUB_SIGN_IN_METHOD,accessToken:t})}static credentialFromResult(t){return Cr.credentialFromTaggedObject(t)}static credentialFromError(t){return Cr.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t||!("oauthAccessToken"in t)||!t.oauthAccessToken)return null;try{return Cr.credential(t.oauthAccessToken)}catch{return null}}}Cr.GITHUB_SIGN_IN_METHOD="github.com";Cr.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dr extends Gl{constructor(){super("twitter.com")}static credential(t,n){return Ms._fromParams({providerId:Dr.PROVIDER_ID,signInMethod:Dr.TWITTER_SIGN_IN_METHOD,oauthToken:t,oauthTokenSecret:n})}static credentialFromResult(t){return Dr.credentialFromTaggedObject(t)}static credentialFromError(t){return Dr.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t)return null;const{oauthAccessToken:n,oauthTokenSecret:s}=t;if(!n||!s)return null;try{return Dr.credential(n,s)}catch{return null}}}Dr.TWITTER_SIGN_IN_METHOD="twitter.com";Dr.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qa{constructor(t){this.user=t.user,this.providerId=t.providerId,this._tokenResponse=t._tokenResponse,this.operationType=t.operationType}static async _fromIdTokenResponse(t,n,s,o=!1){const u=await Un._fromIdTokenResponse(t,s,o),f=uv(s);return new qa({user:u,providerId:f,_tokenResponse:s,operationType:n})}static async _forOperation(t,n,s){await t._updateTokensIfNecessary(s,!0);const o=uv(s);return new qa({user:t,providerId:o,_tokenResponse:s,operationType:n})}}function uv(r){return r.providerId?r.providerId:"phoneNumber"in r?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kc extends Xi{constructor(t,n,s,o){var u;super(n.code,n.message),this.operationType=s,this.user=o,Object.setPrototypeOf(this,Kc.prototype),this.customData={appName:t.name,tenantId:(u=t.tenantId)!==null&&u!==void 0?u:void 0,_serverResponse:n.customData._serverResponse,operationType:s}}static _fromErrorAndOperation(t,n,s,o){return new Kc(t,n,s,o)}}function f0(r,t,n,s){return(t==="reauthenticate"?n._getReauthenticationResolver(r):n._getIdTokenResponse(r)).catch(u=>{throw u.code==="auth/multi-factor-auth-required"?Kc._fromErrorAndOperation(r,u,t,s):u})}async function xR(r,t,n=!1){const s=await Nl(r,t._linkToIdToken(r.auth,await r.getIdToken()),n);return qa._forOperation(r,"link",s)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function PR(r,t,n=!1){const{auth:s}=r;if(kn(s.app))return Promise.reject(Ds(s));const o="reauthenticate";try{const u=await Nl(r,f0(s,o,t,r),n);Et(u.idToken,s,"internal-error");const f=Lm(u.idToken);Et(f,s,"internal-error");const{sub:m}=f;return Et(r.uid===m,s,"user-mismatch"),qa._forOperation(r,o,u)}catch(u){throw(u==null?void 0:u.code)==="auth/user-not-found"&&ui(s,"user-mismatch"),u}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function kR(r,t,n=!1){if(kn(r.app))return Promise.reject(Ds(r));const s="signIn",o=await f0(r,s,t),u=await qa._fromIdTokenResponse(r,s,o);return n||await r._updateCurrentUser(u.user),u}function UR(r,t,n,s){return Dn(r).onIdTokenChanged(t,n,s)}function LR(r,t,n){return Dn(r).beforeAuthStateChanged(t,n)}function zR(r,t,n,s){return Dn(r).onAuthStateChanged(t,n,s)}const Yc="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class d0{constructor(t,n){this.storageRetriever=t,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(Yc,"1"),this.storage.removeItem(Yc),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(t,n){return this.storage.setItem(t,JSON.stringify(n)),Promise.resolve()}_get(t){const n=this.storage.getItem(t);return Promise.resolve(n?JSON.parse(n):null)}_remove(t){return this.storage.removeItem(t),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const BR=1e3,HR=10;class m0 extends d0{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(t,n)=>this.onStorageEvent(t,n),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=l0(),this._shouldAllowMigration=!0}forAllChangedKeys(t){for(const n of Object.keys(this.listeners)){const s=this.storage.getItem(n),o=this.localCache[n];s!==o&&t(n,o,s)}}onStorageEvent(t,n=!1){if(!t.key){this.forAllChangedKeys((f,m,g)=>{this.notifyListeners(f,g)});return}const s=t.key;n?this.detachListener():this.stopPolling();const o=()=>{const f=this.storage.getItem(s);!n&&this.localCache[s]===f||this.notifyListeners(s,f)},u=this.storage.getItem(s);_R()&&u!==t.newValue&&t.newValue!==t.oldValue?setTimeout(o,HR):o()}notifyListeners(t,n){this.localCache[t]=n;const s=this.listeners[t];if(s)for(const o of Array.from(s))o(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((t,n,s)=>{this.onStorageEvent(new StorageEvent("storage",{key:t,oldValue:n,newValue:s}),!0)})},BR)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(t,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[t]||(this.listeners[t]=new Set,this.localCache[t]=this.storage.getItem(t)),this.listeners[t].add(n)}_removeListener(t,n){this.listeners[t]&&(this.listeners[t].delete(n),this.listeners[t].size===0&&delete this.listeners[t]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(t,n){await super._set(t,n),this.localCache[t]=JSON.stringify(n)}async _get(t){const n=await super._get(t);return this.localCache[t]=JSON.stringify(n),n}async _remove(t){await super._remove(t),delete this.localCache[t]}}m0.type="LOCAL";const qR=m0;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class p0 extends d0{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(t,n){}_removeListener(t,n){}}p0.type="SESSION";const g0=p0;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jR(r){return Promise.all(r.map(async t=>{try{return{fulfilled:!0,value:await t}}catch(n){return{fulfilled:!1,reason:n}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mh{constructor(t){this.eventTarget=t,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(t){const n=this.receivers.find(o=>o.isListeningto(t));if(n)return n;const s=new mh(t);return this.receivers.push(s),s}isListeningto(t){return this.eventTarget===t}async handleEvent(t){const n=t,{eventId:s,eventType:o,data:u}=n.data,f=this.handlersMap[o];if(!(f!=null&&f.size))return;n.ports[0].postMessage({status:"ack",eventId:s,eventType:o});const m=Array.from(f).map(async y=>y(n.origin,u)),g=await jR(m);n.ports[0].postMessage({status:"done",eventId:s,eventType:o,response:g})}_subscribe(t,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[t]||(this.handlersMap[t]=new Set),this.handlersMap[t].add(n)}_unsubscribe(t,n){this.handlersMap[t]&&n&&this.handlersMap[t].delete(n),(!n||this.handlersMap[t].size===0)&&delete this.handlersMap[t],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}mh.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qm(r="",t=10){let n="";for(let s=0;s<t;s++)n+=Math.floor(Math.random()*10);return r+n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FR{constructor(t){this.target=t,this.handlers=new Set}removeMessageHandler(t){t.messageChannel&&(t.messageChannel.port1.removeEventListener("message",t.onMessage),t.messageChannel.port1.close()),this.handlers.delete(t)}async _send(t,n,s=50){const o=typeof MessageChannel<"u"?new MessageChannel:null;if(!o)throw new Error("connection_unavailable");let u,f;return new Promise((m,g)=>{const y=qm("",20);o.port1.start();const E=setTimeout(()=>{g(new Error("unsupported_event"))},s);f={messageChannel:o,onMessage(b){const S=b;if(S.data.eventId===y)switch(S.data.status){case"ack":clearTimeout(E),u=setTimeout(()=>{g(new Error("timeout"))},3e3);break;case"done":clearTimeout(u),m(S.data.response);break;default:clearTimeout(E),clearTimeout(u),g(new Error("invalid_response"));break}}},this.handlers.add(f),o.port1.addEventListener("message",f.onMessage),this.target.postMessage({eventType:t,eventId:y,data:n},[o.port2])}).finally(()=>{f&&this.removeMessageHandler(f)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function si(){return window}function GR(r){si().location.href=r}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function y0(){return typeof si().WorkerGlobalScope<"u"&&typeof si().importScripts=="function"}async function QR(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function KR(){var r;return((r=navigator==null?void 0:navigator.serviceWorker)===null||r===void 0?void 0:r.controller)||null}function YR(){return y0()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _0="firebaseLocalStorageDb",XR=1,Xc="firebaseLocalStorage",v0="fbase_key";class Ql{constructor(t){this.request=t}toPromise(){return new Promise((t,n)=>{this.request.addEventListener("success",()=>{t(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function ph(r,t){return r.transaction([Xc],t?"readwrite":"readonly").objectStore(Xc)}function $R(){const r=indexedDB.deleteDatabase(_0);return new Ql(r).toPromise()}function om(){const r=indexedDB.open(_0,XR);return new Promise((t,n)=>{r.addEventListener("error",()=>{n(r.error)}),r.addEventListener("upgradeneeded",()=>{const s=r.result;try{s.createObjectStore(Xc,{keyPath:v0})}catch(o){n(o)}}),r.addEventListener("success",async()=>{const s=r.result;s.objectStoreNames.contains(Xc)?t(s):(s.close(),await $R(),t(await om()))})})}async function cv(r,t,n){const s=ph(r,!0).put({[v0]:t,value:n});return new Ql(s).toPromise()}async function ZR(r,t){const n=ph(r,!1).get(t),s=await new Ql(n).toPromise();return s===void 0?null:s.value}function hv(r,t){const n=ph(r,!0).delete(t);return new Ql(n).toPromise()}const WR=800,JR=3;class E0{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await om(),this.db)}async _withRetries(t){let n=0;for(;;)try{const s=await this._openDb();return await t(s)}catch(s){if(n++>JR)throw s;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return y0()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=mh._getInstance(YR()),this.receiver._subscribe("keyChanged",async(t,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(t,n)=>["keyChanged"])}async initializeSender(){var t,n;if(this.activeServiceWorker=await QR(),!this.activeServiceWorker)return;this.sender=new FR(this.activeServiceWorker);const s=await this.sender._send("ping",{},800);s&&!((t=s[0])===null||t===void 0)&&t.fulfilled&&!((n=s[0])===null||n===void 0)&&n.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(t){if(!(!this.sender||!this.activeServiceWorker||KR()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:t},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const t=await om();return await cv(t,Yc,"1"),await hv(t,Yc),!0}catch{}return!1}async _withPendingWrite(t){this.pendingWrites++;try{await t()}finally{this.pendingWrites--}}async _set(t,n){return this._withPendingWrite(async()=>(await this._withRetries(s=>cv(s,t,n)),this.localCache[t]=n,this.notifyServiceWorker(t)))}async _get(t){const n=await this._withRetries(s=>ZR(s,t));return this.localCache[t]=n,n}async _remove(t){return this._withPendingWrite(async()=>(await this._withRetries(n=>hv(n,t)),delete this.localCache[t],this.notifyServiceWorker(t)))}async _poll(){const t=await this._withRetries(o=>{const u=ph(o,!1).getAll();return new Ql(u).toPromise()});if(!t)return[];if(this.pendingWrites!==0)return[];const n=[],s=new Set;if(t.length!==0)for(const{fbase_key:o,value:u}of t)s.add(o),JSON.stringify(this.localCache[o])!==JSON.stringify(u)&&(this.notifyListeners(o,u),n.push(o));for(const o of Object.keys(this.localCache))this.localCache[o]&&!s.has(o)&&(this.notifyListeners(o,null),n.push(o));return n}notifyListeners(t,n){this.localCache[t]=n;const s=this.listeners[t];if(s)for(const o of Array.from(s))o(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),WR)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(t,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[t]||(this.listeners[t]=new Set,this._get(t)),this.listeners[t].add(n)}_removeListener(t,n){this.listeners[t]&&(this.listeners[t].delete(n),this.listeners[t].size===0&&delete this.listeners[t]),Object.keys(this.listeners).length===0&&this.stopPolling()}}E0.type="LOCAL";const tI=E0;new Fl(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function T0(r,t){return t?qi(t):(Et(r._popupRedirectResolver,r,"argument-error"),r._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jm extends h0{constructor(t){super("custom","custom"),this.params=t}_getIdTokenResponse(t){return za(t,this._buildIdpRequest())}_linkToIdToken(t,n){return za(t,this._buildIdpRequest(n))}_getReauthenticationResolver(t){return za(t,this._buildIdpRequest())}_buildIdpRequest(t){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return t&&(n.idToken=t),n}}function eI(r){return kR(r.auth,new jm(r),r.bypassAuthState)}function nI(r){const{auth:t,user:n}=r;return Et(n,t,"internal-error"),PR(n,new jm(r),r.bypassAuthState)}async function iI(r){const{auth:t,user:n}=r;return Et(n,t,"internal-error"),xR(n,new jm(r),r.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class A0{constructor(t,n,s,o,u=!1){this.auth=t,this.resolver=s,this.user=o,this.bypassAuthState=u,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(t,n)=>{this.pendingPromise={resolve:t,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(s){this.reject(s)}})}async onAuthEvent(t){const{urlResponse:n,sessionId:s,postBody:o,tenantId:u,error:f,type:m}=t;if(f){this.reject(f);return}const g={auth:this.auth,requestUri:n,sessionId:s,tenantId:u||void 0,postBody:o||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(m)(g))}catch(y){this.reject(y)}}onError(t){this.reject(t)}getIdpTask(t){switch(t){case"signInViaPopup":case"signInViaRedirect":return eI;case"linkViaPopup":case"linkViaRedirect":return iI;case"reauthViaPopup":case"reauthViaRedirect":return nI;default:ui(this.auth,"internal-error")}}resolve(t){Qi(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(t),this.unregisterAndCleanUp()}reject(t){Qi(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(t),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rI=new Fl(2e3,1e4);async function sI(r,t,n){if(kn(r.app))return Promise.reject(zn(r,"operation-not-supported-in-this-environment"));const s=dh(r);tR(r,t,Hm);const o=T0(s,n);return new Is(s,"signInViaPopup",t,o).executeNotNull()}class Is extends A0{constructor(t,n,s,o,u){super(t,n,o,u),this.provider=s,this.authWindow=null,this.pollId=null,Is.currentPopupAction&&Is.currentPopupAction.cancel(),Is.currentPopupAction=this}async executeNotNull(){const t=await this.execute();return Et(t,this.auth,"internal-error"),t}async onExecution(){Qi(this.filter.length===1,"Popup operations only handle one event");const t=qm();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],t),this.authWindow.associatedEvent=t,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(zn(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var t;return((t=this.authWindow)===null||t===void 0?void 0:t.associatedEvent)||null}cancel(){this.reject(zn(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,Is.currentPopupAction=null}pollUserCancellation(){const t=()=>{var n,s;if(!((s=(n=this.authWindow)===null||n===void 0?void 0:n.window)===null||s===void 0)&&s.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(zn(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(t,rI.get())};t()}}Is.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const aI="pendingRedirect",Vc=new Map;class oI extends A0{constructor(t,n,s=!1){super(t,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,s),this.eventId=null}async execute(){let t=Vc.get(this.auth._key());if(!t){try{const s=await lI(this.resolver,this.auth)?await super.execute():null;t=()=>Promise.resolve(s)}catch(n){t=()=>Promise.reject(n)}Vc.set(this.auth._key(),t)}return this.bypassAuthState||Vc.set(this.auth._key(),()=>Promise.resolve(null)),t()}async onAuthEvent(t){if(t.type==="signInViaRedirect")return super.onAuthEvent(t);if(t.type==="unknown"){this.resolve(null);return}if(t.eventId){const n=await this.auth._redirectUserForId(t.eventId);if(n)return this.user=n,super.onAuthEvent(t);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function lI(r,t){const n=hI(t),s=cI(r);if(!await s._isAvailable())return!1;const o=await s._get(n)==="true";return await s._remove(n),o}function uI(r,t){Vc.set(r._key(),t)}function cI(r){return qi(r._redirectPersistence)}function hI(r){return Mc(aI,r.config.apiKey,r.name)}async function fI(r,t,n=!1){if(kn(r.app))return Promise.reject(Ds(r));const s=dh(r),o=T0(s,t),f=await new oI(s,o,n).execute();return f&&!n&&(delete f.user._redirectEventId,await s._persistUserIfCurrent(f.user),await s._setRedirectUser(null,t)),f}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dI=10*60*1e3;class mI{constructor(t){this.auth=t,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(t){this.consumers.add(t),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,t)&&(this.sendToConsumer(this.queuedRedirectEvent,t),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(t){this.consumers.delete(t)}onEvent(t){if(this.hasEventBeenHandled(t))return!1;let n=!1;return this.consumers.forEach(s=>{this.isEventForConsumer(t,s)&&(n=!0,this.sendToConsumer(t,s),this.saveEventToCache(t))}),this.hasHandledPotentialRedirect||!pI(t)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=t,n=!0)),n}sendToConsumer(t,n){var s;if(t.error&&!S0(t)){const o=((s=t.error.code)===null||s===void 0?void 0:s.split("auth/")[1])||"internal-error";n.onError(zn(this.auth,o))}else n.onAuthEvent(t)}isEventForConsumer(t,n){const s=n.eventId===null||!!t.eventId&&t.eventId===n.eventId;return n.filter.includes(t.type)&&s}hasEventBeenHandled(t){return Date.now()-this.lastProcessedEventTime>=dI&&this.cachedEventUids.clear(),this.cachedEventUids.has(fv(t))}saveEventToCache(t){this.cachedEventUids.add(fv(t)),this.lastProcessedEventTime=Date.now()}}function fv(r){return[r.type,r.eventId,r.sessionId,r.tenantId].filter(t=>t).join("-")}function S0({type:r,error:t}){return r==="unknown"&&(t==null?void 0:t.code)==="auth/no-auth-event"}function pI(r){switch(r.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return S0(r);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function gI(r,t={}){return to(r,"GET","/v1/projects",t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yI=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,_I=/^https?/;async function vI(r){if(r.config.emulator)return;const{authorizedDomains:t}=await gI(r);for(const n of t)try{if(EI(n))return}catch{}ui(r,"unauthorized-domain")}function EI(r){const t=sm(),{protocol:n,hostname:s}=new URL(t);if(r.startsWith("chrome-extension://")){const f=new URL(r);return f.hostname===""&&s===""?n==="chrome-extension:"&&r.replace("chrome-extension://","")===t.replace("chrome-extension://",""):n==="chrome-extension:"&&f.hostname===s}if(!_I.test(n))return!1;if(yI.test(r))return s===r;const o=r.replace(/\./g,"\\.");return new RegExp("^(.+\\."+o+"|"+o+")$","i").test(s)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const TI=new Fl(3e4,6e4);function dv(){const r=si().___jsl;if(r!=null&&r.H){for(const t of Object.keys(r.H))if(r.H[t].r=r.H[t].r||[],r.H[t].L=r.H[t].L||[],r.H[t].r=[...r.H[t].L],r.CP)for(let n=0;n<r.CP.length;n++)r.CP[n]=null}}function AI(r){return new Promise((t,n)=>{var s,o,u;function f(){dv(),gapi.load("gapi.iframes",{callback:()=>{t(gapi.iframes.getContext())},ontimeout:()=>{dv(),n(zn(r,"network-request-failed"))},timeout:TI.get()})}if(!((o=(s=si().gapi)===null||s===void 0?void 0:s.iframes)===null||o===void 0)&&o.Iframe)t(gapi.iframes.getContext());else if(!((u=si().gapi)===null||u===void 0)&&u.load)f();else{const m=IR("iframefcb");return si()[m]=()=>{gapi.load?f():n(zn(r,"network-request-failed"))},wR(`${RR()}?onload=${m}`).catch(g=>n(g))}}).catch(t=>{throw xc=null,t})}let xc=null;function SI(r){return xc=xc||AI(r),xc}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bI=new Fl(5e3,15e3),wI="__/auth/iframe",RI="emulator/auth/iframe",II={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},CI=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function DI(r){const t=r.config;Et(t.authDomain,r,"auth-domain-config-required");const n=t.emulator?km(t,RI):`https://${r.config.authDomain}/${wI}`,s={apiKey:t.apiKey,appName:r.name,v:Ja},o=CI.get(r.config.apiHost);o&&(s.eid=o);const u=r._getFrameworks();return u.length&&(s.fw=u.join(",")),`${n}?${jl(s).slice(1)}`}async function OI(r){const t=await SI(r),n=si().gapi;return Et(n,r,"internal-error"),t.open({where:document.body,url:DI(r),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:II,dontclear:!0},s=>new Promise(async(o,u)=>{await s.restyle({setHideOnLeave:!1});const f=zn(r,"network-request-failed"),m=si().setTimeout(()=>{u(f)},bI.get());function g(){si().clearTimeout(m),o(s)}s.ping(g).then(g,()=>{u(f)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const NI={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},MI=500,VI=600,xI="_blank",PI="http://localhost";class mv{constructor(t){this.window=t,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function kI(r,t,n,s=MI,o=VI){const u=Math.max((window.screen.availHeight-o)/2,0).toString(),f=Math.max((window.screen.availWidth-s)/2,0).toString();let m="";const g=Object.assign(Object.assign({},NI),{width:s.toString(),height:o.toString(),top:u,left:f}),y=Xe().toLowerCase();n&&(m=i0(y)?xI:n),e0(y)&&(t=t||PI,g.scrollbars="yes");const E=Object.entries(g).reduce((S,[L,P])=>`${S}${L}=${P},`,"");if(yR(y)&&m!=="_self")return UI(t||"",m),new mv(null);const b=window.open(t||"",m,E);Et(b,r,"popup-blocked");try{b.focus()}catch{}return new mv(b)}function UI(r,t){const n=document.createElement("a");n.href=r,n.target=t;const s=document.createEvent("MouseEvent");s.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(s)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const LI="__/auth/handler",zI="emulator/auth/handler",BI=encodeURIComponent("fac");async function pv(r,t,n,s,o,u){Et(r.config.authDomain,r,"auth-domain-config-required"),Et(r.config.apiKey,r,"invalid-api-key");const f={apiKey:r.config.apiKey,appName:r.name,authType:n,redirectUrl:s,v:Ja,eventId:o};if(t instanceof Hm){t.setDefaultLanguage(r.languageCode),f.providerId=t.providerId||"",Bb(t.getCustomParameters())||(f.customParameters=JSON.stringify(t.getCustomParameters()));for(const[E,b]of Object.entries({}))f[E]=b}if(t instanceof Gl){const E=t.getScopes().filter(b=>b!=="");E.length>0&&(f.scopes=E.join(","))}r.tenantId&&(f.tid=r.tenantId);const m=f;for(const E of Object.keys(m))m[E]===void 0&&delete m[E];const g=await r._getAppCheckToken(),y=g?`#${BI}=${encodeURIComponent(g)}`:"";return`${HI(r)}?${jl(m).slice(1)}${y}`}function HI({config:r}){return r.emulator?km(r,zI):`https://${r.authDomain}/${LI}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Kd="webStorageSupport";class qI{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=g0,this._completeRedirectFn=fI,this._overrideRedirectResult=uI}async _openPopup(t,n,s,o){var u;Qi((u=this.eventManagers[t._key()])===null||u===void 0?void 0:u.manager,"_initialize() not called before _openPopup()");const f=await pv(t,n,s,sm(),o);return kI(t,f,qm())}async _openRedirect(t,n,s,o){await this._originValidation(t);const u=await pv(t,n,s,sm(),o);return GR(u),new Promise(()=>{})}_initialize(t){const n=t._key();if(this.eventManagers[n]){const{manager:o,promise:u}=this.eventManagers[n];return o?Promise.resolve(o):(Qi(u,"If manager is not set, promise should be"),u)}const s=this.initAndGetManager(t);return this.eventManagers[n]={promise:s},s.catch(()=>{delete this.eventManagers[n]}),s}async initAndGetManager(t){const n=await OI(t),s=new mI(t);return n.register("authEvent",o=>(Et(o==null?void 0:o.authEvent,t,"invalid-auth-event"),{status:s.onEvent(o.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[t._key()]={manager:s},this.iframes[t._key()]=n,s}_isIframeWebStorageSupported(t,n){this.iframes[t._key()].send(Kd,{type:Kd},o=>{var u;const f=(u=o==null?void 0:o[0])===null||u===void 0?void 0:u[Kd];f!==void 0&&n(!!f),ui(t,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(t){const n=t._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=vI(t)),this.originValidationPromises[n]}get _shouldInitProactively(){return l0()||n0()||zm()}}const jI=qI;var gv="@firebase/auth",yv="1.10.6";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FI{constructor(t){this.auth=t,this.internalListeners=new Map}getUid(){var t;return this.assertAuthConfigured(),((t=this.auth.currentUser)===null||t===void 0?void 0:t.uid)||null}async getToken(t){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(t)}:null}addAuthTokenListener(t){if(this.assertAuthConfigured(),this.internalListeners.has(t))return;const n=this.auth.onIdTokenChanged(s=>{t((s==null?void 0:s.stsTokenManager.accessToken)||null)});this.internalListeners.set(t,n),this.updateProactiveRefresh()}removeAuthTokenListener(t){this.assertAuthConfigured();const n=this.internalListeners.get(t);n&&(this.internalListeners.delete(t),n(),this.updateProactiveRefresh())}assertAuthConfigured(){Et(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function GI(r){switch(r){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function QI(r){Ha(new Ns("auth",(t,{options:n})=>{const s=t.getProvider("app").getImmediate(),o=t.getProvider("heartbeat"),u=t.getProvider("app-check-internal"),{apiKey:f,authDomain:m}=s.options;Et(f&&!f.includes(":"),"invalid-api-key",{appName:s.name});const g={apiKey:f,authDomain:m,clientPlatform:r,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:u0(r)},y=new SR(s,o,u,g);return DR(y,n),y},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((t,n,s)=>{t.getProvider("auth-internal").initialize()})),Ha(new Ns("auth-internal",t=>{const n=dh(t.getProvider("auth").getImmediate());return(s=>new FI(s))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),Vr(gv,yv,GI(r)),Vr(gv,yv,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const KI=5*60,YI=zE("authIdTokenMaxAge")||KI;let _v=null;const XI=r=>async t=>{const n=t&&await t.getIdTokenResult(),s=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(s&&s>YI)return;const o=n==null?void 0:n.token;_v!==o&&(_v=o,await fetch(r,{method:o?"POST":"DELETE",headers:o?{Authorization:`Bearer ${o}`}:{}}))};function $I(r=GE()){const t=Mm(r,"auth");if(t.isInitialized())return t.getImmediate();const n=CR(r,{popupRedirectResolver:jI,persistence:[tI,qR,g0]}),s=zE("authTokenSyncURL");if(s&&typeof isSecureContext=="boolean"&&isSecureContext){const u=new URL(s,location.origin);if(location.origin===u.origin){const f=XI(u.toString());LR(n,f,()=>f(n.currentUser)),UR(n,m=>f(m))}}const o=UE("auth");return o&&OR(n,`http://${o}`),n}function ZI(){var r,t;return(t=(r=document.getElementsByTagName("head"))===null||r===void 0?void 0:r[0])!==null&&t!==void 0?t:document}bR({loadJS(r){return new Promise((t,n)=>{const s=document.createElement("script");s.setAttribute("src",r),s.onload=t,s.onerror=o=>{const u=zn("internal-error");u.customData=o,n(u)},s.type="text/javascript",s.charset="UTF-8",ZI().appendChild(s)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});QI("Browser");var WI="firebase",JI="11.9.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Vr(WI,JI,"app");var vv=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var xr,b0;(function(){var r;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function t(M,w){function R(){}R.prototype=w.prototype,M.D=w.prototype,M.prototype=new R,M.prototype.constructor=M,M.C=function(O,V,k){for(var C=Array(arguments.length-2),xe=2;xe<arguments.length;xe++)C[xe-2]=arguments[xe];return w.prototype[V].apply(O,C)}}function n(){this.blockSize=-1}function s(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}t(s,n),s.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function o(M,w,R){R||(R=0);var O=Array(16);if(typeof w=="string")for(var V=0;16>V;++V)O[V]=w.charCodeAt(R++)|w.charCodeAt(R++)<<8|w.charCodeAt(R++)<<16|w.charCodeAt(R++)<<24;else for(V=0;16>V;++V)O[V]=w[R++]|w[R++]<<8|w[R++]<<16|w[R++]<<24;w=M.g[0],R=M.g[1],V=M.g[2];var k=M.g[3],C=w+(k^R&(V^k))+O[0]+3614090360&4294967295;w=R+(C<<7&4294967295|C>>>25),C=k+(V^w&(R^V))+O[1]+3905402710&4294967295,k=w+(C<<12&4294967295|C>>>20),C=V+(R^k&(w^R))+O[2]+606105819&4294967295,V=k+(C<<17&4294967295|C>>>15),C=R+(w^V&(k^w))+O[3]+3250441966&4294967295,R=V+(C<<22&4294967295|C>>>10),C=w+(k^R&(V^k))+O[4]+4118548399&4294967295,w=R+(C<<7&4294967295|C>>>25),C=k+(V^w&(R^V))+O[5]+1200080426&4294967295,k=w+(C<<12&4294967295|C>>>20),C=V+(R^k&(w^R))+O[6]+2821735955&4294967295,V=k+(C<<17&4294967295|C>>>15),C=R+(w^V&(k^w))+O[7]+4249261313&4294967295,R=V+(C<<22&4294967295|C>>>10),C=w+(k^R&(V^k))+O[8]+1770035416&4294967295,w=R+(C<<7&4294967295|C>>>25),C=k+(V^w&(R^V))+O[9]+2336552879&4294967295,k=w+(C<<12&4294967295|C>>>20),C=V+(R^k&(w^R))+O[10]+4294925233&4294967295,V=k+(C<<17&4294967295|C>>>15),C=R+(w^V&(k^w))+O[11]+2304563134&4294967295,R=V+(C<<22&4294967295|C>>>10),C=w+(k^R&(V^k))+O[12]+1804603682&4294967295,w=R+(C<<7&4294967295|C>>>25),C=k+(V^w&(R^V))+O[13]+4254626195&4294967295,k=w+(C<<12&4294967295|C>>>20),C=V+(R^k&(w^R))+O[14]+2792965006&4294967295,V=k+(C<<17&4294967295|C>>>15),C=R+(w^V&(k^w))+O[15]+1236535329&4294967295,R=V+(C<<22&4294967295|C>>>10),C=w+(V^k&(R^V))+O[1]+4129170786&4294967295,w=R+(C<<5&4294967295|C>>>27),C=k+(R^V&(w^R))+O[6]+3225465664&4294967295,k=w+(C<<9&4294967295|C>>>23),C=V+(w^R&(k^w))+O[11]+643717713&4294967295,V=k+(C<<14&4294967295|C>>>18),C=R+(k^w&(V^k))+O[0]+3921069994&4294967295,R=V+(C<<20&4294967295|C>>>12),C=w+(V^k&(R^V))+O[5]+3593408605&4294967295,w=R+(C<<5&4294967295|C>>>27),C=k+(R^V&(w^R))+O[10]+38016083&4294967295,k=w+(C<<9&4294967295|C>>>23),C=V+(w^R&(k^w))+O[15]+3634488961&4294967295,V=k+(C<<14&4294967295|C>>>18),C=R+(k^w&(V^k))+O[4]+3889429448&4294967295,R=V+(C<<20&4294967295|C>>>12),C=w+(V^k&(R^V))+O[9]+568446438&4294967295,w=R+(C<<5&4294967295|C>>>27),C=k+(R^V&(w^R))+O[14]+3275163606&4294967295,k=w+(C<<9&4294967295|C>>>23),C=V+(w^R&(k^w))+O[3]+4107603335&4294967295,V=k+(C<<14&4294967295|C>>>18),C=R+(k^w&(V^k))+O[8]+1163531501&4294967295,R=V+(C<<20&4294967295|C>>>12),C=w+(V^k&(R^V))+O[13]+2850285829&4294967295,w=R+(C<<5&4294967295|C>>>27),C=k+(R^V&(w^R))+O[2]+4243563512&4294967295,k=w+(C<<9&4294967295|C>>>23),C=V+(w^R&(k^w))+O[7]+1735328473&4294967295,V=k+(C<<14&4294967295|C>>>18),C=R+(k^w&(V^k))+O[12]+2368359562&4294967295,R=V+(C<<20&4294967295|C>>>12),C=w+(R^V^k)+O[5]+4294588738&4294967295,w=R+(C<<4&4294967295|C>>>28),C=k+(w^R^V)+O[8]+2272392833&4294967295,k=w+(C<<11&4294967295|C>>>21),C=V+(k^w^R)+O[11]+1839030562&4294967295,V=k+(C<<16&4294967295|C>>>16),C=R+(V^k^w)+O[14]+4259657740&4294967295,R=V+(C<<23&4294967295|C>>>9),C=w+(R^V^k)+O[1]+2763975236&4294967295,w=R+(C<<4&4294967295|C>>>28),C=k+(w^R^V)+O[4]+1272893353&4294967295,k=w+(C<<11&4294967295|C>>>21),C=V+(k^w^R)+O[7]+4139469664&4294967295,V=k+(C<<16&4294967295|C>>>16),C=R+(V^k^w)+O[10]+3200236656&4294967295,R=V+(C<<23&4294967295|C>>>9),C=w+(R^V^k)+O[13]+681279174&4294967295,w=R+(C<<4&4294967295|C>>>28),C=k+(w^R^V)+O[0]+3936430074&4294967295,k=w+(C<<11&4294967295|C>>>21),C=V+(k^w^R)+O[3]+3572445317&4294967295,V=k+(C<<16&4294967295|C>>>16),C=R+(V^k^w)+O[6]+76029189&4294967295,R=V+(C<<23&4294967295|C>>>9),C=w+(R^V^k)+O[9]+3654602809&4294967295,w=R+(C<<4&4294967295|C>>>28),C=k+(w^R^V)+O[12]+3873151461&4294967295,k=w+(C<<11&4294967295|C>>>21),C=V+(k^w^R)+O[15]+530742520&4294967295,V=k+(C<<16&4294967295|C>>>16),C=R+(V^k^w)+O[2]+3299628645&4294967295,R=V+(C<<23&4294967295|C>>>9),C=w+(V^(R|~k))+O[0]+4096336452&4294967295,w=R+(C<<6&4294967295|C>>>26),C=k+(R^(w|~V))+O[7]+1126891415&4294967295,k=w+(C<<10&4294967295|C>>>22),C=V+(w^(k|~R))+O[14]+2878612391&4294967295,V=k+(C<<15&4294967295|C>>>17),C=R+(k^(V|~w))+O[5]+4237533241&4294967295,R=V+(C<<21&4294967295|C>>>11),C=w+(V^(R|~k))+O[12]+1700485571&4294967295,w=R+(C<<6&4294967295|C>>>26),C=k+(R^(w|~V))+O[3]+2399980690&4294967295,k=w+(C<<10&4294967295|C>>>22),C=V+(w^(k|~R))+O[10]+4293915773&4294967295,V=k+(C<<15&4294967295|C>>>17),C=R+(k^(V|~w))+O[1]+2240044497&4294967295,R=V+(C<<21&4294967295|C>>>11),C=w+(V^(R|~k))+O[8]+1873313359&4294967295,w=R+(C<<6&4294967295|C>>>26),C=k+(R^(w|~V))+O[15]+4264355552&4294967295,k=w+(C<<10&4294967295|C>>>22),C=V+(w^(k|~R))+O[6]+2734768916&4294967295,V=k+(C<<15&4294967295|C>>>17),C=R+(k^(V|~w))+O[13]+1309151649&4294967295,R=V+(C<<21&4294967295|C>>>11),C=w+(V^(R|~k))+O[4]+4149444226&4294967295,w=R+(C<<6&4294967295|C>>>26),C=k+(R^(w|~V))+O[11]+3174756917&4294967295,k=w+(C<<10&4294967295|C>>>22),C=V+(w^(k|~R))+O[2]+718787259&4294967295,V=k+(C<<15&4294967295|C>>>17),C=R+(k^(V|~w))+O[9]+3951481745&4294967295,M.g[0]=M.g[0]+w&4294967295,M.g[1]=M.g[1]+(V+(C<<21&4294967295|C>>>11))&4294967295,M.g[2]=M.g[2]+V&4294967295,M.g[3]=M.g[3]+k&4294967295}s.prototype.u=function(M,w){w===void 0&&(w=M.length);for(var R=w-this.blockSize,O=this.B,V=this.h,k=0;k<w;){if(V==0)for(;k<=R;)o(this,M,k),k+=this.blockSize;if(typeof M=="string"){for(;k<w;)if(O[V++]=M.charCodeAt(k++),V==this.blockSize){o(this,O),V=0;break}}else for(;k<w;)if(O[V++]=M[k++],V==this.blockSize){o(this,O),V=0;break}}this.h=V,this.o+=w},s.prototype.v=function(){var M=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);M[0]=128;for(var w=1;w<M.length-8;++w)M[w]=0;var R=8*this.o;for(w=M.length-8;w<M.length;++w)M[w]=R&255,R/=256;for(this.u(M),M=Array(16),w=R=0;4>w;++w)for(var O=0;32>O;O+=8)M[R++]=this.g[w]>>>O&255;return M};function u(M,w){var R=m;return Object.prototype.hasOwnProperty.call(R,M)?R[M]:R[M]=w(M)}function f(M,w){this.h=w;for(var R=[],O=!0,V=M.length-1;0<=V;V--){var k=M[V]|0;O&&k==w||(R[V]=k,O=!1)}this.g=R}var m={};function g(M){return-128<=M&&128>M?u(M,function(w){return new f([w|0],0>w?-1:0)}):new f([M|0],0>M?-1:0)}function y(M){if(isNaN(M)||!isFinite(M))return b;if(0>M)return F(y(-M));for(var w=[],R=1,O=0;M>=R;O++)w[O]=M/R|0,R*=4294967296;return new f(w,0)}function E(M,w){if(M.length==0)throw Error("number format error: empty string");if(w=w||10,2>w||36<w)throw Error("radix out of range: "+w);if(M.charAt(0)=="-")return F(E(M.substring(1),w));if(0<=M.indexOf("-"))throw Error('number format error: interior "-" character');for(var R=y(Math.pow(w,8)),O=b,V=0;V<M.length;V+=8){var k=Math.min(8,M.length-V),C=parseInt(M.substring(V,V+k),w);8>k?(k=y(Math.pow(w,k)),O=O.j(k).add(y(C))):(O=O.j(R),O=O.add(y(C)))}return O}var b=g(0),S=g(1),L=g(16777216);r=f.prototype,r.m=function(){if(Q(this))return-F(this).m();for(var M=0,w=1,R=0;R<this.g.length;R++){var O=this.i(R);M+=(0<=O?O:4294967296+O)*w,w*=4294967296}return M},r.toString=function(M){if(M=M||10,2>M||36<M)throw Error("radix out of range: "+M);if(P(this))return"0";if(Q(this))return"-"+F(this).toString(M);for(var w=y(Math.pow(M,6)),R=this,O="";;){var V=ht(R,w).g;R=$(R,V.j(w));var k=((0<R.g.length?R.g[0]:R.h)>>>0).toString(M);if(R=V,P(R))return k+O;for(;6>k.length;)k="0"+k;O=k+O}},r.i=function(M){return 0>M?0:M<this.g.length?this.g[M]:this.h};function P(M){if(M.h!=0)return!1;for(var w=0;w<M.g.length;w++)if(M.g[w]!=0)return!1;return!0}function Q(M){return M.h==-1}r.l=function(M){return M=$(this,M),Q(M)?-1:P(M)?0:1};function F(M){for(var w=M.g.length,R=[],O=0;O<w;O++)R[O]=~M.g[O];return new f(R,~M.h).add(S)}r.abs=function(){return Q(this)?F(this):this},r.add=function(M){for(var w=Math.max(this.g.length,M.g.length),R=[],O=0,V=0;V<=w;V++){var k=O+(this.i(V)&65535)+(M.i(V)&65535),C=(k>>>16)+(this.i(V)>>>16)+(M.i(V)>>>16);O=C>>>16,k&=65535,C&=65535,R[V]=C<<16|k}return new f(R,R[R.length-1]&-2147483648?-1:0)};function $(M,w){return M.add(F(w))}r.j=function(M){if(P(this)||P(M))return b;if(Q(this))return Q(M)?F(this).j(F(M)):F(F(this).j(M));if(Q(M))return F(this.j(F(M)));if(0>this.l(L)&&0>M.l(L))return y(this.m()*M.m());for(var w=this.g.length+M.g.length,R=[],O=0;O<2*w;O++)R[O]=0;for(O=0;O<this.g.length;O++)for(var V=0;V<M.g.length;V++){var k=this.i(O)>>>16,C=this.i(O)&65535,xe=M.i(V)>>>16,ae=M.i(V)&65535;R[2*O+2*V]+=C*ae,J(R,2*O+2*V),R[2*O+2*V+1]+=k*ae,J(R,2*O+2*V+1),R[2*O+2*V+1]+=C*xe,J(R,2*O+2*V+1),R[2*O+2*V+2]+=k*xe,J(R,2*O+2*V+2)}for(O=0;O<w;O++)R[O]=R[2*O+1]<<16|R[2*O];for(O=w;O<2*w;O++)R[O]=0;return new f(R,0)};function J(M,w){for(;(M[w]&65535)!=M[w];)M[w+1]+=M[w]>>>16,M[w]&=65535,w++}function it(M,w){this.g=M,this.h=w}function ht(M,w){if(P(w))throw Error("division by zero");if(P(M))return new it(b,b);if(Q(M))return w=ht(F(M),w),new it(F(w.g),F(w.h));if(Q(w))return w=ht(M,F(w)),new it(F(w.g),w.h);if(30<M.g.length){if(Q(M)||Q(w))throw Error("slowDivide_ only works with positive integers.");for(var R=S,O=w;0>=O.l(M);)R=ut(R),O=ut(O);var V=bt(R,1),k=bt(O,1);for(O=bt(O,2),R=bt(R,2);!P(O);){var C=k.add(O);0>=C.l(M)&&(V=V.add(R),k=C),O=bt(O,1),R=bt(R,1)}return w=$(M,V.j(w)),new it(V,w)}for(V=b;0<=M.l(w);){for(R=Math.max(1,Math.floor(M.m()/w.m())),O=Math.ceil(Math.log(R)/Math.LN2),O=48>=O?1:Math.pow(2,O-48),k=y(R),C=k.j(w);Q(C)||0<C.l(M);)R-=O,k=y(R),C=k.j(w);P(k)&&(k=S),V=V.add(k),M=$(M,C)}return new it(V,M)}r.A=function(M){return ht(this,M).h},r.and=function(M){for(var w=Math.max(this.g.length,M.g.length),R=[],O=0;O<w;O++)R[O]=this.i(O)&M.i(O);return new f(R,this.h&M.h)},r.or=function(M){for(var w=Math.max(this.g.length,M.g.length),R=[],O=0;O<w;O++)R[O]=this.i(O)|M.i(O);return new f(R,this.h|M.h)},r.xor=function(M){for(var w=Math.max(this.g.length,M.g.length),R=[],O=0;O<w;O++)R[O]=this.i(O)^M.i(O);return new f(R,this.h^M.h)};function ut(M){for(var w=M.g.length+1,R=[],O=0;O<w;O++)R[O]=M.i(O)<<1|M.i(O-1)>>>31;return new f(R,M.h)}function bt(M,w){var R=w>>5;w%=32;for(var O=M.g.length-R,V=[],k=0;k<O;k++)V[k]=0<w?M.i(k+R)>>>w|M.i(k+R+1)<<32-w:M.i(k+R);return new f(V,M.h)}s.prototype.digest=s.prototype.v,s.prototype.reset=s.prototype.s,s.prototype.update=s.prototype.u,b0=s,f.prototype.add=f.prototype.add,f.prototype.multiply=f.prototype.j,f.prototype.modulo=f.prototype.A,f.prototype.compare=f.prototype.l,f.prototype.toNumber=f.prototype.m,f.prototype.toString=f.prototype.toString,f.prototype.getBits=f.prototype.i,f.fromNumber=y,f.fromString=E,xr=f}).apply(typeof vv<"u"?vv:typeof self<"u"?self:typeof window<"u"?window:{});var Sc=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var w0,El,R0,Pc,lm,I0,C0,D0;(function(){var r,t=typeof Object.defineProperties=="function"?Object.defineProperty:function(c,p,_){return c==Array.prototype||c==Object.prototype||(c[p]=_.value),c};function n(c){c=[typeof globalThis=="object"&&globalThis,c,typeof window=="object"&&window,typeof self=="object"&&self,typeof Sc=="object"&&Sc];for(var p=0;p<c.length;++p){var _=c[p];if(_&&_.Math==Math)return _}throw Error("Cannot find global object")}var s=n(this);function o(c,p){if(p)t:{var _=s;c=c.split(".");for(var A=0;A<c.length-1;A++){var U=c[A];if(!(U in _))break t;_=_[U]}c=c[c.length-1],A=_[c],p=p(A),p!=A&&p!=null&&t(_,c,{configurable:!0,writable:!0,value:p})}}function u(c,p){c instanceof String&&(c+="");var _=0,A=!1,U={next:function(){if(!A&&_<c.length){var j=_++;return{value:p(j,c[j]),done:!1}}return A=!0,{done:!0,value:void 0}}};return U[Symbol.iterator]=function(){return U},U}o("Array.prototype.values",function(c){return c||function(){return u(this,function(p,_){return _})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var f=f||{},m=this||self;function g(c){var p=typeof c;return p=p!="object"?p:c?Array.isArray(c)?"array":p:"null",p=="array"||p=="object"&&typeof c.length=="number"}function y(c){var p=typeof c;return p=="object"&&c!=null||p=="function"}function E(c,p,_){return c.call.apply(c.bind,arguments)}function b(c,p,_){if(!c)throw Error();if(2<arguments.length){var A=Array.prototype.slice.call(arguments,2);return function(){var U=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(U,A),c.apply(p,U)}}return function(){return c.apply(p,arguments)}}function S(c,p,_){return S=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?E:b,S.apply(null,arguments)}function L(c,p){var _=Array.prototype.slice.call(arguments,1);return function(){var A=_.slice();return A.push.apply(A,arguments),c.apply(this,A)}}function P(c,p){function _(){}_.prototype=p.prototype,c.aa=p.prototype,c.prototype=new _,c.prototype.constructor=c,c.Qb=function(A,U,j){for(var rt=Array(arguments.length-2),xt=2;xt<arguments.length;xt++)rt[xt-2]=arguments[xt];return p.prototype[U].apply(A,rt)}}function Q(c){const p=c.length;if(0<p){const _=Array(p);for(let A=0;A<p;A++)_[A]=c[A];return _}return[]}function F(c,p){for(let _=1;_<arguments.length;_++){const A=arguments[_];if(g(A)){const U=c.length||0,j=A.length||0;c.length=U+j;for(let rt=0;rt<j;rt++)c[U+rt]=A[rt]}else c.push(A)}}class ${constructor(p,_){this.i=p,this.j=_,this.h=0,this.g=null}get(){let p;return 0<this.h?(this.h--,p=this.g,this.g=p.next,p.next=null):p=this.i(),p}}function J(c){return/^[\s\xa0]*$/.test(c)}function it(){var c=m.navigator;return c&&(c=c.userAgent)?c:""}function ht(c){return ht[" "](c),c}ht[" "]=function(){};var ut=it().indexOf("Gecko")!=-1&&!(it().toLowerCase().indexOf("webkit")!=-1&&it().indexOf("Edge")==-1)&&!(it().indexOf("Trident")!=-1||it().indexOf("MSIE")!=-1)&&it().indexOf("Edge")==-1;function bt(c,p,_){for(const A in c)p.call(_,c[A],A,c)}function M(c,p){for(const _ in c)p.call(void 0,c[_],_,c)}function w(c){const p={};for(const _ in c)p[_]=c[_];return p}const R="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function O(c,p){let _,A;for(let U=1;U<arguments.length;U++){A=arguments[U];for(_ in A)c[_]=A[_];for(let j=0;j<R.length;j++)_=R[j],Object.prototype.hasOwnProperty.call(A,_)&&(c[_]=A[_])}}function V(c){var p=1;c=c.split(":");const _=[];for(;0<p&&c.length;)_.push(c.shift()),p--;return c.length&&_.push(c.join(":")),_}function k(c){m.setTimeout(()=>{throw c},0)}function C(){var c=Bt;let p=null;return c.g&&(p=c.g,c.g=c.g.next,c.g||(c.h=null),p.next=null),p}class xe{constructor(){this.h=this.g=null}add(p,_){const A=ae.get();A.set(p,_),this.h?this.h.next=A:this.g=A,this.h=A}}var ae=new $(()=>new K,c=>c.reset());class K{constructor(){this.next=this.g=this.h=null}set(p,_){this.h=p,this.g=_,this.next=null}reset(){this.next=this.g=this.h=null}}let st,ft=!1,Bt=new xe,D=()=>{const c=m.Promise.resolve(void 0);st=()=>{c.then(tt)}};var tt=()=>{for(var c;c=C();){try{c.h.call(c.g)}catch(_){k(_)}var p=ae;p.j(c),100>p.h&&(p.h++,c.next=p.g,p.g=c)}ft=!1};function at(){this.s=this.s,this.C=this.C}at.prototype.s=!1,at.prototype.ma=function(){this.s||(this.s=!0,this.N())},at.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function nt(c,p){this.type=c,this.g=this.target=p,this.defaultPrevented=!1}nt.prototype.h=function(){this.defaultPrevented=!0};var mt=function(){if(!m.addEventListener||!Object.defineProperty)return!1;var c=!1,p=Object.defineProperty({},"passive",{get:function(){c=!0}});try{const _=()=>{};m.addEventListener("test",_,p),m.removeEventListener("test",_,p)}catch{}return c}();function Ct(c,p){if(nt.call(this,c?c.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,c){var _=this.type=c.type,A=c.changedTouches&&c.changedTouches.length?c.changedTouches[0]:null;if(this.target=c.target||c.srcElement,this.g=p,p=c.relatedTarget){if(ut){t:{try{ht(p.nodeName);var U=!0;break t}catch{}U=!1}U||(p=null)}}else _=="mouseover"?p=c.fromElement:_=="mouseout"&&(p=c.toElement);this.relatedTarget=p,A?(this.clientX=A.clientX!==void 0?A.clientX:A.pageX,this.clientY=A.clientY!==void 0?A.clientY:A.pageY,this.screenX=A.screenX||0,this.screenY=A.screenY||0):(this.clientX=c.clientX!==void 0?c.clientX:c.pageX,this.clientY=c.clientY!==void 0?c.clientY:c.pageY,this.screenX=c.screenX||0,this.screenY=c.screenY||0),this.button=c.button,this.key=c.key||"",this.ctrlKey=c.ctrlKey,this.altKey=c.altKey,this.shiftKey=c.shiftKey,this.metaKey=c.metaKey,this.pointerId=c.pointerId||0,this.pointerType=typeof c.pointerType=="string"?c.pointerType:Tt[c.pointerType]||"",this.state=c.state,this.i=c,c.defaultPrevented&&Ct.aa.h.call(this)}}P(Ct,nt);var Tt={2:"touch",3:"pen",4:"mouse"};Ct.prototype.h=function(){Ct.aa.h.call(this);var c=this.i;c.preventDefault?c.preventDefault():c.returnValue=!1};var Ie="closure_listenable_"+(1e6*Math.random()|0),Wt=0;function Hn(c,p,_,A,U){this.listener=c,this.proxy=null,this.src=p,this.type=_,this.capture=!!A,this.ha=U,this.key=++Wt,this.da=this.fa=!1}function $i(c){c.da=!0,c.listener=null,c.proxy=null,c.src=null,c.ha=null}function mi(c){this.src=c,this.g={},this.h=0}mi.prototype.add=function(c,p,_,A,U){var j=c.toString();c=this.g[j],c||(c=this.g[j]=[],this.h++);var rt=Fr(c,p,A,U);return-1<rt?(p=c[rt],_||(p.fa=!1)):(p=new Hn(p,this.src,j,!!A,U),p.fa=_,c.push(p)),p};function jr(c,p){var _=p.type;if(_ in c.g){var A=c.g[_],U=Array.prototype.indexOf.call(A,p,void 0),j;(j=0<=U)&&Array.prototype.splice.call(A,U,1),j&&($i(p),c.g[_].length==0&&(delete c.g[_],c.h--))}}function Fr(c,p,_,A){for(var U=0;U<c.length;++U){var j=c[U];if(!j.da&&j.listener==p&&j.capture==!!_&&j.ha==A)return U}return-1}var Gr="closure_lm_"+(1e6*Math.random()|0),ao={};function Zl(c,p,_,A,U){if(Array.isArray(p)){for(var j=0;j<p.length;j++)Zl(c,p[j],_,A,U);return null}return _=Wl(_),c&&c[Ie]?c.K(p,_,y(A)?!!A.capture:!1,U):mn(c,p,_,!1,A,U)}function mn(c,p,_,A,U,j){if(!p)throw Error("Invalid event type");var rt=y(U)?!!U.capture:!!U,xt=qs(c);if(xt||(c[Gr]=xt=new mi(c)),_=xt.add(p,_,A,rt,j),_.proxy)return _;if(A=Mh(),_.proxy=A,A.src=c,A.listener=_,c.addEventListener)mt||(U=rt),U===void 0&&(U=!1),c.addEventListener(p.toString(),A,U);else if(c.attachEvent)c.attachEvent(Qr(p.toString()),A);else if(c.addListener&&c.removeListener)c.addListener(A);else throw Error("addEventListener and attachEvent are unavailable.");return _}function Mh(){function c(_){return p.call(c.src,c.listener,_)}const p=Vh;return c}function oo(c,p,_,A,U){if(Array.isArray(p))for(var j=0;j<p.length;j++)oo(c,p[j],_,A,U);else A=y(A)?!!A.capture:!!A,_=Wl(_),c&&c[Ie]?(c=c.i,p=String(p).toString(),p in c.g&&(j=c.g[p],_=Fr(j,_,A,U),-1<_&&($i(j[_]),Array.prototype.splice.call(j,_,1),j.length==0&&(delete c.g[p],c.h--)))):c&&(c=qs(c))&&(p=c.g[p.toString()],c=-1,p&&(c=Fr(p,_,A,U)),(_=-1<c?p[c]:null)&&Hs(_))}function Hs(c){if(typeof c!="number"&&c&&!c.da){var p=c.src;if(p&&p[Ie])jr(p.i,c);else{var _=c.type,A=c.proxy;p.removeEventListener?p.removeEventListener(_,A,c.capture):p.detachEvent?p.detachEvent(Qr(_),A):p.addListener&&p.removeListener&&p.removeListener(A),(_=qs(p))?(jr(_,c),_.h==0&&(_.src=null,p[Gr]=null)):$i(c)}}}function Qr(c){return c in ao?ao[c]:ao[c]="on"+c}function Vh(c,p){if(c.da)c=!0;else{p=new Ct(p,this);var _=c.listener,A=c.ha||c.src;c.fa&&Hs(c),c=_.call(A,p)}return c}function qs(c){return c=c[Gr],c instanceof mi?c:null}var lo="__closure_events_fn_"+(1e9*Math.random()>>>0);function Wl(c){return typeof c=="function"?c:(c[lo]||(c[lo]=function(p){return c.handleEvent(p)}),c[lo])}function oe(){at.call(this),this.i=new mi(this),this.M=this,this.F=null}P(oe,at),oe.prototype[Ie]=!0,oe.prototype.removeEventListener=function(c,p,_,A){oo(this,c,p,_,A)};function Ft(c,p){var _,A=c.F;if(A)for(_=[];A;A=A.F)_.push(A);if(c=c.M,A=p.type||p,typeof p=="string")p=new nt(p,c);else if(p instanceof nt)p.target=p.target||c;else{var U=p;p=new nt(A,c),O(p,U)}if(U=!0,_)for(var j=_.length-1;0<=j;j--){var rt=p.g=_[j];U=sn(rt,A,!0,p)&&U}if(rt=p.g=c,U=sn(rt,A,!0,p)&&U,U=sn(rt,A,!1,p)&&U,_)for(j=0;j<_.length;j++)rt=p.g=_[j],U=sn(rt,A,!1,p)&&U}oe.prototype.N=function(){if(oe.aa.N.call(this),this.i){var c=this.i,p;for(p in c.g){for(var _=c.g[p],A=0;A<_.length;A++)$i(_[A]);delete c.g[p],c.h--}}this.F=null},oe.prototype.K=function(c,p,_,A){return this.i.add(String(c),p,!1,_,A)},oe.prototype.L=function(c,p,_,A){return this.i.add(String(c),p,!0,_,A)};function sn(c,p,_,A){if(p=c.i.g[String(p)],!p)return!0;p=p.concat();for(var U=!0,j=0;j<p.length;++j){var rt=p[j];if(rt&&!rt.da&&rt.capture==_){var xt=rt.listener,Ee=rt.ha||rt.src;rt.fa&&jr(c.i,rt),U=xt.call(Ee,A)!==!1&&U}}return U&&!A.defaultPrevented}function je(c,p,_){if(typeof c=="function")_&&(c=S(c,_));else if(c&&typeof c.handleEvent=="function")c=S(c.handleEvent,c);else throw Error("Invalid listener argument");return 2147483647<Number(p)?-1:m.setTimeout(c,p||0)}function Jl(c){c.g=je(()=>{c.g=null,c.i&&(c.i=!1,Jl(c))},c.l);const p=c.h;c.h=null,c.m.apply(null,p)}class xh extends at{constructor(p,_){super(),this.m=p,this.l=_,this.h=null,this.i=!1,this.g=null}j(p){this.h=arguments,this.g?this.i=!0:Jl(this)}N(){super.N(),this.g&&(m.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Kr(c){at.call(this),this.h=c,this.g={}}P(Kr,at);var Yr=[];function Xr(c){bt(c.g,function(p,_){this.g.hasOwnProperty(_)&&Hs(p)},c),c.g={}}Kr.prototype.N=function(){Kr.aa.N.call(this),Xr(this)},Kr.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var On=m.JSON.stringify,js=m.JSON.parse,$r=class{stringify(c){return m.JSON.stringify(c,void 0)}parse(c){return m.JSON.parse(c,void 0)}};function uo(){}uo.prototype.h=null;function co(c){return c.h||(c.h=c.i())}function ho(){}var pi={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function gi(){nt.call(this,"d")}P(gi,nt);function fo(){nt.call(this,"c")}P(fo,nt);var qn={},mo=null;function Zi(){return mo=mo||new oe}qn.La="serverreachability";function Fs(c){nt.call(this,qn.La,c)}P(Fs,nt);function Wi(c){const p=Zi();Ft(p,new Fs(p))}qn.STAT_EVENT="statevent";function tu(c,p){nt.call(this,qn.STAT_EVENT,c),this.stat=p}P(tu,nt);function te(c){const p=Zi();Ft(p,new tu(p,c))}qn.Ma="timingevent";function ve(c,p){nt.call(this,qn.Ma,c),this.size=p}P(ve,nt);function me(c,p){if(typeof c!="function")throw Error("Fn must not be null and must be a function");return m.setTimeout(function(){c()},p)}function pn(){this.g=!0}pn.prototype.xa=function(){this.g=!1};function po(c,p,_,A,U,j){c.info(function(){if(c.g)if(j)for(var rt="",xt=j.split("&"),Ee=0;Ee<xt.length;Ee++){var Pt=xt[Ee].split("=");if(1<Pt.length){var De=Pt[0];Pt=Pt[1];var Te=De.split("_");rt=2<=Te.length&&Te[1]=="type"?rt+(De+"="+Pt+"&"):rt+(De+"=redacted&")}}else rt=null;else rt=j;return"XMLHTTP REQ ("+A+") [attempt "+U+"]: "+p+`
`+_+`
`+rt})}function Ph(c,p,_,A,U,j,rt){c.info(function(){return"XMLHTTP RESP ("+A+") [ attempt "+U+"]: "+p+`
`+_+`
`+j+" "+rt})}function Ji(c,p,_,A){c.info(function(){return"XMLHTTP TEXT ("+p+"): "+Zr(c,_)+(A?" "+A:"")})}function eu(c,p){c.info(function(){return"TIMEOUT: "+p})}pn.prototype.info=function(){};function Zr(c,p){if(!c.g)return p;if(!p)return null;try{var _=JSON.parse(p);if(_){for(c=0;c<_.length;c++)if(Array.isArray(_[c])){var A=_[c];if(!(2>A.length)){var U=A[1];if(Array.isArray(U)&&!(1>U.length)){var j=U[0];if(j!="noop"&&j!="stop"&&j!="close")for(var rt=1;rt<U.length;rt++)U[rt]=""}}}}return On(_)}catch{return p}}var tr={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},yi={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},jn;function Fn(){}P(Fn,uo),Fn.prototype.g=function(){return new XMLHttpRequest},Fn.prototype.i=function(){return{}},jn=new Fn;function $e(c,p,_,A){this.j=c,this.i=p,this.l=_,this.R=A||1,this.U=new Kr(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new ce}function ce(){this.i=null,this.g="",this.h=!1}var go={},Gs={};function Nn(c,p,_){c.L=1,c.v=ns(an(p)),c.m=_,c.P=!0,_i(c,null)}function _i(c,p){c.F=Date.now(),Wr(c),c.A=an(c.v);var _=c.A,A=c.R;Array.isArray(A)||(A=[String(A)]),Ao(_.i,"t",A),c.C=0,_=c.j.J,c.h=new ce,c.g=yu(c.j,_?p:null,!c.m),0<c.O&&(c.M=new xh(S(c.Y,c,c.g),c.O)),p=c.U,_=c.g,A=c.ca;var U="readystatechange";Array.isArray(U)||(U&&(Yr[0]=U.toString()),U=Yr);for(var j=0;j<U.length;j++){var rt=Zl(_,U[j],A||p.handleEvent,!1,p.h||p);if(!rt)break;p.g[rt.key]=rt}p=c.H?w(c.H):{},c.m?(c.u||(c.u="POST"),p["Content-Type"]="application/x-www-form-urlencoded",c.g.ea(c.A,c.u,c.m,p)):(c.u="GET",c.g.ea(c.A,c.u,null,p)),Wi(),po(c.i,c.u,c.A,c.l,c.R,c.m)}$e.prototype.ca=function(c){c=c.target;const p=this.M;p&&vn(c)==3?p.j():this.Y(c)},$e.prototype.Y=function(c){try{if(c==this.g)t:{const Te=vn(this.g);var p=this.g.Ba();const Ri=this.g.Z();if(!(3>Te)&&(Te!=3||this.g&&(this.h.h||this.g.oa()||uu(this.g)))){this.J||Te!=4||p==7||(p==8||0>=Ri?Wi(3):Wi(2)),er(this);var _=this.g.Z();this.X=_;e:if(nu(this)){var A=uu(this.g);c="";var U=A.length,j=vn(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){Pe(this),Gn(this);var rt="";break e}this.h.i=new m.TextDecoder}for(p=0;p<U;p++)this.h.h=!0,c+=this.h.i.decode(A[p],{stream:!(j&&p==U-1)});A.length=0,this.h.g+=c,this.C=0,rt=this.h.g}else rt=this.g.oa();if(this.o=_==200,Ph(this.i,this.u,this.A,this.l,this.R,Te,_),this.o){if(this.T&&!this.K){e:{if(this.g){var xt,Ee=this.g;if((xt=Ee.g?Ee.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!J(xt)){var Pt=xt;break e}}Pt=null}if(_=Pt)Ji(this.i,this.l,_,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,Jr(this,_);else{this.o=!1,this.s=3,te(12),Pe(this),Gn(this);break t}}if(this.P){_=!0;let ke;for(;!this.J&&this.C<rt.length;)if(ke=iu(this,rt),ke==Gs){Te==4&&(this.s=4,te(14),_=!1),Ji(this.i,this.l,null,"[Incomplete Response]");break}else if(ke==go){this.s=4,te(15),Ji(this.i,this.l,rt,"[Invalid Chunk]"),_=!1;break}else Ji(this.i,this.l,ke,null),Jr(this,ke);if(nu(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Te!=4||rt.length!=0||this.h.h||(this.s=1,te(16),_=!1),this.o=this.o&&_,!_)Ji(this.i,this.l,rt,"[Invalid Chunked Response]"),Pe(this),Gn(this);else if(0<rt.length&&!this.W){this.W=!0;var De=this.j;De.g==this&&De.ba&&!De.M&&(De.j.info("Great, no buffering proxy detected. Bytes received: "+rt.length),cs(De),De.M=!0,te(11))}}else Ji(this.i,this.l,rt,null),Jr(this,rt);Te==4&&Pe(this),this.o&&!this.J&&(Te==4?mu(this.j,this):(this.o=!1,Wr(this)))}else Bh(this.g),_==400&&0<rt.indexOf("Unknown SID")?(this.s=3,te(12)):(this.s=0,te(13)),Pe(this),Gn(this)}}}catch{}finally{}};function nu(c){return c.g?c.u=="GET"&&c.L!=2&&c.j.Ca:!1}function iu(c,p){var _=c.C,A=p.indexOf(`
`,_);return A==-1?Gs:(_=Number(p.substring(_,A)),isNaN(_)?go:(A+=1,A+_>p.length?Gs:(p=p.slice(A,A+_),c.C=A+_,p)))}$e.prototype.cancel=function(){this.J=!0,Pe(this)};function Wr(c){c.S=Date.now()+c.I,ru(c,c.I)}function ru(c,p){if(c.B!=null)throw Error("WatchDog timer not null");c.B=me(S(c.ba,c),p)}function er(c){c.B&&(m.clearTimeout(c.B),c.B=null)}$e.prototype.ba=function(){this.B=null;const c=Date.now();0<=c-this.S?(eu(this.i,this.A),this.L!=2&&(Wi(),te(17)),Pe(this),this.s=2,Gn(this)):ru(this,this.S-c)};function Gn(c){c.j.G==0||c.J||mu(c.j,c)}function Pe(c){er(c);var p=c.M;p&&typeof p.ma=="function"&&p.ma(),c.M=null,Xr(c.U),c.g&&(p=c.g,c.g=null,p.abort(),p.ma())}function Jr(c,p){try{var _=c.j;if(_.G!=0&&(_.g==c||yo(_.h,c))){if(!c.K&&yo(_.h,c)&&_.G==3){try{var A=_.Da.g.parse(p)}catch{A=null}if(Array.isArray(A)&&A.length==3){var U=A;if(U[0]==0){t:if(!_.u){if(_.g)if(_.g.F+3e3<c.F)ia(_),ea(_);else break t;Io(_),te(18)}}else _.za=U[1],0<_.za-_.T&&37500>U[2]&&_.F&&_.v==0&&!_.C&&(_.C=me(S(_.Za,_),6e3));if(1>=Ks(_.h)&&_.ca){try{_.ca()}catch{}_.ca=void 0}}else wi(_,11)}else if((c.K||_.g==c)&&ia(_),!J(p))for(U=_.Da.g.parse(p),p=0;p<U.length;p++){let Pt=U[p];if(_.T=Pt[0],Pt=Pt[1],_.G==2)if(Pt[0]=="c"){_.K=Pt[1],_.ia=Pt[2];const De=Pt[3];De!=null&&(_.la=De,_.j.info("VER="+_.la));const Te=Pt[4];Te!=null&&(_.Aa=Te,_.j.info("SVER="+_.Aa));const Ri=Pt[5];Ri!=null&&typeof Ri=="number"&&0<Ri&&(A=1.5*Ri,_.L=A,_.j.info("backChannelRequestTimeoutMs_="+A)),A=_;const ke=c.g;if(ke){const Wn=ke.g?ke.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Wn){var j=A.h;j.g||Wn.indexOf("spdy")==-1&&Wn.indexOf("quic")==-1&&Wn.indexOf("h2")==-1||(j.j=j.l,j.g=new Set,j.h&&(Ys(j,j.h),j.h=null))}if(A.D){const Do=ke.g?ke.g.getResponseHeader("X-HTTP-Session-Id"):null;Do&&(A.ya=Do,Kt(A.I,A.D,Do))}}_.G=3,_.l&&_.l.ua(),_.ba&&(_.R=Date.now()-c.F,_.j.info("Handshake RTT: "+_.R+"ms")),A=_;var rt=c;if(A.qa=gu(A,A.J?A.ia:null,A.W),rt.K){Ze(A.h,rt);var xt=rt,Ee=A.L;Ee&&(xt.I=Ee),xt.B&&(er(xt),Wr(xt)),A.g=rt}else fu(A);0<_.i.length&&na(_)}else Pt[0]!="stop"&&Pt[0]!="close"||wi(_,7);else _.G==3&&(Pt[0]=="stop"||Pt[0]=="close"?Pt[0]=="stop"?wi(_,7):wo(_):Pt[0]!="noop"&&_.l&&_.l.ta(Pt),_.v=0)}}Wi(4)}catch{}}var su=class{constructor(c,p){this.g=c,this.map=p}};function vi(c){this.l=c||10,m.PerformanceNavigationTiming?(c=m.performance.getEntriesByType("navigation"),c=0<c.length&&(c[0].nextHopProtocol=="hq"||c[0].nextHopProtocol=="h2")):c=!!(m.chrome&&m.chrome.loadTimes&&m.chrome.loadTimes()&&m.chrome.loadTimes().wasFetchedViaSpdy),this.j=c?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function Qs(c){return c.h?!0:c.g?c.g.size>=c.j:!1}function Ks(c){return c.h?1:c.g?c.g.size:0}function yo(c,p){return c.h?c.h==p:c.g?c.g.has(p):!1}function Ys(c,p){c.g?c.g.add(p):c.h=p}function Ze(c,p){c.h&&c.h==p?c.h=null:c.g&&c.g.has(p)&&c.g.delete(p)}vi.prototype.cancel=function(){if(this.i=_o(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const c of this.g.values())c.cancel();this.g.clear()}};function _o(c){if(c.h!=null)return c.i.concat(c.h.D);if(c.g!=null&&c.g.size!==0){let p=c.i;for(const _ of c.g.values())p=p.concat(_.D);return p}return Q(c.i)}function kh(c){if(c.V&&typeof c.V=="function")return c.V();if(typeof Map<"u"&&c instanceof Map||typeof Set<"u"&&c instanceof Set)return Array.from(c.values());if(typeof c=="string")return c.split("");if(g(c)){for(var p=[],_=c.length,A=0;A<_;A++)p.push(c[A]);return p}p=[],_=0;for(A in c)p[_++]=c[A];return p}function Xs(c){if(c.na&&typeof c.na=="function")return c.na();if(!c.V||typeof c.V!="function"){if(typeof Map<"u"&&c instanceof Map)return Array.from(c.keys());if(!(typeof Set<"u"&&c instanceof Set)){if(g(c)||typeof c=="string"){var p=[];c=c.length;for(var _=0;_<c;_++)p.push(_);return p}p=[],_=0;for(const A in c)p[_++]=A;return p}}}function vo(c,p){if(c.forEach&&typeof c.forEach=="function")c.forEach(p,void 0);else if(g(c)||typeof c=="string")Array.prototype.forEach.call(c,p,void 0);else for(var _=Xs(c),A=kh(c),U=A.length,j=0;j<U;j++)p.call(void 0,A[j],_&&_[j],c)}var ts=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Uh(c,p){if(c){c=c.split("&");for(var _=0;_<c.length;_++){var A=c[_].indexOf("="),U=null;if(0<=A){var j=c[_].substring(0,A);U=c[_].substring(A+1)}else j=c[_];p(j,U?decodeURIComponent(U.replace(/\+/g," ")):"")}}}function pe(c){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,c instanceof pe){this.h=c.h,es(this,c.j),this.o=c.o,this.g=c.g,nr(this,c.s),this.l=c.l;var p=c.i,_=new Ti;_.i=p.i,p.g&&(_.g=new Map(p.g),_.h=p.h),Ei(this,_),this.m=c.m}else c&&(p=String(c).match(ts))?(this.h=!1,es(this,p[1]||"",!0),this.o=gn(p[2]||""),this.g=gn(p[3]||"",!0),nr(this,p[4]),this.l=gn(p[5]||"",!0),Ei(this,p[6]||"",!0),this.m=gn(p[7]||"")):(this.h=!1,this.i=new Ti(null,this.h))}pe.prototype.toString=function(){var c=[],p=this.j;p&&c.push(is(p,Eo,!0),":");var _=this.g;return(_||p=="file")&&(c.push("//"),(p=this.o)&&c.push(is(p,Eo,!0),"@"),c.push(encodeURIComponent(String(_)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),_=this.s,_!=null&&c.push(":",String(_))),(_=this.l)&&(this.g&&_.charAt(0)!="/"&&c.push("/"),c.push(is(_,_.charAt(0)=="/"?Lh:To,!0))),(_=this.i.toString())&&c.push("?",_),(_=this.m)&&c.push("#",is(_,$s)),c.join("")};function an(c){return new pe(c)}function es(c,p,_){c.j=_?gn(p,!0):p,c.j&&(c.j=c.j.replace(/:$/,""))}function nr(c,p){if(p){if(p=Number(p),isNaN(p)||0>p)throw Error("Bad port number "+p);c.s=p}else c.s=null}function Ei(c,p,_){p instanceof Ti?(c.i=p,ou(c.i,c.h)):(_||(p=is(p,zh)),c.i=new Ti(p,c.h))}function Kt(c,p,_){c.i.set(p,_)}function ns(c){return Kt(c,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),c}function gn(c,p){return c?p?decodeURI(c.replace(/%25/g,"%2525")):decodeURIComponent(c):""}function is(c,p,_){return typeof c=="string"?(c=encodeURI(c).replace(p,au),_&&(c=c.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),c):null}function au(c){return c=c.charCodeAt(0),"%"+(c>>4&15).toString(16)+(c&15).toString(16)}var Eo=/[#\/\?@]/g,To=/[#\?:]/g,Lh=/[#\?]/g,zh=/[#\?@]/g,$s=/#/g;function Ti(c,p){this.h=this.g=null,this.i=c||null,this.j=!!p}function yn(c){c.g||(c.g=new Map,c.h=0,c.i&&Uh(c.i,function(p,_){c.add(decodeURIComponent(p.replace(/\+/g," ")),_)}))}r=Ti.prototype,r.add=function(c,p){yn(this),this.i=null,c=Qn(this,c);var _=this.g.get(c);return _||this.g.set(c,_=[]),_.push(p),this.h+=1,this};function Ai(c,p){yn(c),p=Qn(c,p),c.g.has(p)&&(c.i=null,c.h-=c.g.get(p).length,c.g.delete(p))}function Si(c,p){return yn(c),p=Qn(c,p),c.g.has(p)}r.forEach=function(c,p){yn(this),this.g.forEach(function(_,A){_.forEach(function(U){c.call(p,U,A,this)},this)},this)},r.na=function(){yn(this);const c=Array.from(this.g.values()),p=Array.from(this.g.keys()),_=[];for(let A=0;A<p.length;A++){const U=c[A];for(let j=0;j<U.length;j++)_.push(p[A])}return _},r.V=function(c){yn(this);let p=[];if(typeof c=="string")Si(this,c)&&(p=p.concat(this.g.get(Qn(this,c))));else{c=Array.from(this.g.values());for(let _=0;_<c.length;_++)p=p.concat(c[_])}return p},r.set=function(c,p){return yn(this),this.i=null,c=Qn(this,c),Si(this,c)&&(this.h-=this.g.get(c).length),this.g.set(c,[p]),this.h+=1,this},r.get=function(c,p){return c?(c=this.V(c),0<c.length?String(c[0]):p):p};function Ao(c,p,_){Ai(c,p),0<_.length&&(c.i=null,c.g.set(Qn(c,p),Q(_)),c.h+=_.length)}r.toString=function(){if(this.i)return this.i;if(!this.g)return"";const c=[],p=Array.from(this.g.keys());for(var _=0;_<p.length;_++){var A=p[_];const j=encodeURIComponent(String(A)),rt=this.V(A);for(A=0;A<rt.length;A++){var U=j;rt[A]!==""&&(U+="="+encodeURIComponent(String(rt[A]))),c.push(U)}}return this.i=c.join("&")};function Qn(c,p){return p=String(p),c.j&&(p=p.toLowerCase()),p}function ou(c,p){p&&!c.j&&(yn(c),c.i=null,c.g.forEach(function(_,A){var U=A.toLowerCase();A!=U&&(Ai(this,A),Ao(this,U,_))},c)),c.j=p}function rs(c,p){const _=new pn;if(m.Image){const A=new Image;A.onload=L(_n,_,"TestLoadImage: loaded",!0,p,A),A.onerror=L(_n,_,"TestLoadImage: error",!1,p,A),A.onabort=L(_n,_,"TestLoadImage: abort",!1,p,A),A.ontimeout=L(_n,_,"TestLoadImage: timeout",!1,p,A),m.setTimeout(function(){A.ontimeout&&A.ontimeout()},1e4),A.src=c}else p(!1)}function Mn(c,p){const _=new pn,A=new AbortController,U=setTimeout(()=>{A.abort(),_n(_,"TestPingServer: timeout",!1,p)},1e4);fetch(c,{signal:A.signal}).then(j=>{clearTimeout(U),j.ok?_n(_,"TestPingServer: ok",!0,p):_n(_,"TestPingServer: server error",!1,p)}).catch(()=>{clearTimeout(U),_n(_,"TestPingServer: error",!1,p)})}function _n(c,p,_,A,U){try{U&&(U.onload=null,U.onerror=null,U.onabort=null,U.ontimeout=null),A(_)}catch{}}function ss(){this.g=new $r}function Kn(c,p,_){const A=_||"";try{vo(c,function(U,j){let rt=U;y(U)&&(rt=On(U)),p.push(A+j+"="+encodeURIComponent(rt))})}catch(U){throw p.push(A+"type="+encodeURIComponent("_badmap")),U}}function ir(c){this.l=c.Ub||null,this.j=c.eb||!1}P(ir,uo),ir.prototype.g=function(){return new bi(this.l,this.j)},ir.prototype.i=function(c){return function(){return c}}({});function bi(c,p){oe.call(this),this.D=c,this.o=p,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}P(bi,oe),r=bi.prototype,r.open=function(c,p){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=c,this.A=p,this.readyState=1,Xn(this)},r.send=function(c){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const p={headers:this.u,method:this.B,credentials:this.m,cache:void 0};c&&(p.body=c),(this.D||m).fetch(new Request(this.A,p)).then(this.Sa.bind(this),this.ga.bind(this))},r.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,Yn(this)),this.readyState=0},r.Sa=function(c){if(this.g&&(this.l=c,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=c.headers,this.readyState=2,Xn(this)),this.g&&(this.readyState=3,Xn(this),this.g)))if(this.responseType==="arraybuffer")c.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof m.ReadableStream<"u"&&"body"in c){if(this.j=c.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;So(this)}else c.text().then(this.Ra.bind(this),this.ga.bind(this))};function So(c){c.j.read().then(c.Pa.bind(c)).catch(c.ga.bind(c))}r.Pa=function(c){if(this.g){if(this.o&&c.value)this.response.push(c.value);else if(!this.o){var p=c.value?c.value:new Uint8Array(0);(p=this.v.decode(p,{stream:!c.done}))&&(this.response=this.responseText+=p)}c.done?Yn(this):Xn(this),this.readyState==3&&So(this)}},r.Ra=function(c){this.g&&(this.response=this.responseText=c,Yn(this))},r.Qa=function(c){this.g&&(this.response=c,Yn(this))},r.ga=function(){this.g&&Yn(this)};function Yn(c){c.readyState=4,c.l=null,c.j=null,c.v=null,Xn(c)}r.setRequestHeader=function(c,p){this.u.append(c,p)},r.getResponseHeader=function(c){return this.h&&this.h.get(c.toLowerCase())||""},r.getAllResponseHeaders=function(){if(!this.h)return"";const c=[],p=this.h.entries();for(var _=p.next();!_.done;)_=_.value,c.push(_[0]+": "+_[1]),_=p.next();return c.join(`\r
`)};function Xn(c){c.onreadystatechange&&c.onreadystatechange.call(c)}Object.defineProperty(bi.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(c){this.m=c?"include":"same-origin"}});function bo(c){let p="";return bt(c,function(_,A){p+=A,p+=":",p+=_,p+=`\r
`}),p}function Ce(c,p,_){t:{for(A in _){var A=!1;break t}A=!0}A||(_=bo(_),typeof c=="string"?_!=null&&encodeURIComponent(String(_)):Kt(c,p,_))}function qt(c){oe.call(this),this.headers=new Map,this.o=c||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}P(qt,oe);var Zs=/^https?$/i,as=["POST","PUT"];r=qt.prototype,r.Ha=function(c){this.J=c},r.ea=function(c,p,_,A){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+c);p=p?p.toUpperCase():"GET",this.D=c,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():jn.g(),this.v=this.o?co(this.o):co(jn),this.g.onreadystatechange=S(this.Ea,this);try{this.B=!0,this.g.open(p,String(c),!0),this.B=!1}catch(j){lu(this,j);return}if(c=_||"",_=new Map(this.headers),A)if(Object.getPrototypeOf(A)===Object.prototype)for(var U in A)_.set(U,A[U]);else if(typeof A.keys=="function"&&typeof A.get=="function")for(const j of A.keys())_.set(j,A.get(j));else throw Error("Unknown input type for opt_headers: "+String(A));A=Array.from(_.keys()).find(j=>j.toLowerCase()=="content-type"),U=m.FormData&&c instanceof m.FormData,!(0<=Array.prototype.indexOf.call(as,p,void 0))||A||U||_.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[j,rt]of _)this.g.setRequestHeader(j,rt);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{os(this),this.u=!0,this.g.send(c),this.u=!1}catch(j){lu(this,j)}};function lu(c,p){c.h=!1,c.g&&(c.j=!0,c.g.abort(),c.j=!1),c.l=p,c.m=5,Ws(c),$n(c)}function Ws(c){c.A||(c.A=!0,Ft(c,"complete"),Ft(c,"error"))}r.abort=function(c){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=c||7,Ft(this,"complete"),Ft(this,"abort"),$n(this))},r.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),$n(this,!0)),qt.aa.N.call(this)},r.Ea=function(){this.s||(this.B||this.u||this.j?Js(this):this.bb())},r.bb=function(){Js(this)};function Js(c){if(c.h&&typeof f<"u"&&(!c.v[1]||vn(c)!=4||c.Z()!=2)){if(c.u&&vn(c)==4)je(c.Ea,0,c);else if(Ft(c,"readystatechange"),vn(c)==4){c.h=!1;try{const rt=c.Z();t:switch(rt){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var p=!0;break t;default:p=!1}var _;if(!(_=p)){var A;if(A=rt===0){var U=String(c.D).match(ts)[1]||null;!U&&m.self&&m.self.location&&(U=m.self.location.protocol.slice(0,-1)),A=!Zs.test(U?U.toLowerCase():"")}_=A}if(_)Ft(c,"complete"),Ft(c,"success");else{c.m=6;try{var j=2<vn(c)?c.g.statusText:""}catch{j=""}c.l=j+" ["+c.Z()+"]",Ws(c)}}finally{$n(c)}}}}function $n(c,p){if(c.g){os(c);const _=c.g,A=c.v[0]?()=>{}:null;c.g=null,c.v=null,p||Ft(c,"ready");try{_.onreadystatechange=A}catch{}}}function os(c){c.I&&(m.clearTimeout(c.I),c.I=null)}r.isActive=function(){return!!this.g};function vn(c){return c.g?c.g.readyState:0}r.Z=function(){try{return 2<vn(this)?this.g.status:-1}catch{return-1}},r.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},r.Oa=function(c){if(this.g){var p=this.g.responseText;return c&&p.indexOf(c)==0&&(p=p.substring(c.length)),js(p)}};function uu(c){try{if(!c.g)return null;if("response"in c.g)return c.g.response;switch(c.H){case"":case"text":return c.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in c.g)return c.g.mozResponseArrayBuffer}return null}catch{return null}}function Bh(c){const p={};c=(c.g&&2<=vn(c)&&c.g.getAllResponseHeaders()||"").split(`\r
`);for(let A=0;A<c.length;A++){if(J(c[A]))continue;var _=V(c[A]);const U=_[0];if(_=_[1],typeof _!="string")continue;_=_.trim();const j=p[U]||[];p[U]=j,j.push(_)}M(p,function(A){return A.join(", ")})}r.Ba=function(){return this.m},r.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function ls(c,p,_){return _&&_.internalChannelParams&&_.internalChannelParams[c]||p}function ta(c){this.Aa=0,this.i=[],this.j=new pn,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=ls("failFast",!1,c),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=ls("baseRetryDelayMs",5e3,c),this.cb=ls("retryDelaySeedMs",1e4,c),this.Wa=ls("forwardChannelMaxRetries",2,c),this.wa=ls("forwardChannelRequestTimeoutMs",2e4,c),this.pa=c&&c.xmlHttpFactory||void 0,this.Xa=c&&c.Tb||void 0,this.Ca=c&&c.useFetchStreams||!1,this.L=void 0,this.J=c&&c.supportsCrossDomainXhr||!1,this.K="",this.h=new vi(c&&c.concurrentRequestLimit),this.Da=new ss,this.P=c&&c.fastHandshake||!1,this.O=c&&c.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=c&&c.Rb||!1,c&&c.xa&&this.j.xa(),c&&c.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&c&&c.detectBufferingProxy||!1,this.ja=void 0,c&&c.longPollingTimeout&&0<c.longPollingTimeout&&(this.ja=c.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}r=ta.prototype,r.la=8,r.G=1,r.connect=function(c,p,_,A){te(0),this.W=c,this.H=p||{},_&&A!==void 0&&(this.H.OSID=_,this.H.OAID=A),this.F=this.X,this.I=gu(this,null,this.W),na(this)};function wo(c){if(cu(c),c.G==3){var p=c.U++,_=an(c.I);if(Kt(_,"SID",c.K),Kt(_,"RID",p),Kt(_,"TYPE","terminate"),us(c,_),p=new $e(c,c.j,p),p.L=2,p.v=ns(an(_)),_=!1,m.navigator&&m.navigator.sendBeacon)try{_=m.navigator.sendBeacon(p.v.toString(),"")}catch{}!_&&m.Image&&(new Image().src=p.v,_=!0),_||(p.g=yu(p.j,null),p.g.ea(p.v)),p.F=Date.now(),Wr(p)}pu(c)}function ea(c){c.g&&(cs(c),c.g.cancel(),c.g=null)}function cu(c){ea(c),c.u&&(m.clearTimeout(c.u),c.u=null),ia(c),c.h.cancel(),c.s&&(typeof c.s=="number"&&m.clearTimeout(c.s),c.s=null)}function na(c){if(!Qs(c.h)&&!c.s){c.s=!0;var p=c.Ga;st||D(),ft||(st(),ft=!0),Bt.add(p,c),c.B=0}}function Hh(c,p){return Ks(c.h)>=c.h.j-(c.s?1:0)?!1:c.s?(c.i=p.D.concat(c.i),!0):c.G==1||c.G==2||c.B>=(c.Va?0:c.Wa)?!1:(c.s=me(S(c.Ga,c,p),Co(c,c.B)),c.B++,!0)}r.Ga=function(c){if(this.s)if(this.s=null,this.G==1){if(!c){this.U=Math.floor(1e5*Math.random()),c=this.U++;const U=new $e(this,this.j,c);let j=this.o;if(this.S&&(j?(j=w(j),O(j,this.S)):j=this.S),this.m!==null||this.O||(U.H=j,j=null),this.P)t:{for(var p=0,_=0;_<this.i.length;_++){e:{var A=this.i[_];if("__data__"in A.map&&(A=A.map.__data__,typeof A=="string")){A=A.length;break e}A=void 0}if(A===void 0)break;if(p+=A,4096<p){p=_;break t}if(p===4096||_===this.i.length-1){p=_+1;break t}}p=1e3}else p=1e3;p=hu(this,U,p),_=an(this.I),Kt(_,"RID",c),Kt(_,"CVER",22),this.D&&Kt(_,"X-HTTP-Session-Id",this.D),us(this,_),j&&(this.O?p="headers="+encodeURIComponent(String(bo(j)))+"&"+p:this.m&&Ce(_,this.m,j)),Ys(this.h,U),this.Ua&&Kt(_,"TYPE","init"),this.P?(Kt(_,"$req",p),Kt(_,"SID","null"),U.T=!0,Nn(U,_,null)):Nn(U,_,p),this.G=2}}else this.G==3&&(c?Ro(this,c):this.i.length==0||Qs(this.h)||Ro(this))};function Ro(c,p){var _;p?_=p.l:_=c.U++;const A=an(c.I);Kt(A,"SID",c.K),Kt(A,"RID",_),Kt(A,"AID",c.T),us(c,A),c.m&&c.o&&Ce(A,c.m,c.o),_=new $e(c,c.j,_,c.B+1),c.m===null&&(_.H=c.o),p&&(c.i=p.D.concat(c.i)),p=hu(c,_,1e3),_.I=Math.round(.5*c.wa)+Math.round(.5*c.wa*Math.random()),Ys(c.h,_),Nn(_,A,p)}function us(c,p){c.H&&bt(c.H,function(_,A){Kt(p,A,_)}),c.l&&vo({},function(_,A){Kt(p,A,_)})}function hu(c,p,_){_=Math.min(c.i.length,_);var A=c.l?S(c.l.Na,c.l,c):null;t:{var U=c.i;let j=-1;for(;;){const rt=["count="+_];j==-1?0<_?(j=U[0].g,rt.push("ofs="+j)):j=0:rt.push("ofs="+j);let xt=!0;for(let Ee=0;Ee<_;Ee++){let Pt=U[Ee].g;const De=U[Ee].map;if(Pt-=j,0>Pt)j=Math.max(0,U[Ee].g-100),xt=!1;else try{Kn(De,rt,"req"+Pt+"_")}catch{A&&A(De)}}if(xt){A=rt.join("&");break t}}}return c=c.i.splice(0,_),p.D=c,A}function fu(c){if(!c.g&&!c.u){c.Y=1;var p=c.Fa;st||D(),ft||(st(),ft=!0),Bt.add(p,c),c.v=0}}function Io(c){return c.g||c.u||3<=c.v?!1:(c.Y++,c.u=me(S(c.Fa,c),Co(c,c.v)),c.v++,!0)}r.Fa=function(){if(this.u=null,du(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var c=2*this.R;this.j.info("BP detection timer enabled: "+c),this.A=me(S(this.ab,this),c)}},r.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,te(10),ea(this),du(this))};function cs(c){c.A!=null&&(m.clearTimeout(c.A),c.A=null)}function du(c){c.g=new $e(c,c.j,"rpc",c.Y),c.m===null&&(c.g.H=c.o),c.g.O=0;var p=an(c.qa);Kt(p,"RID","rpc"),Kt(p,"SID",c.K),Kt(p,"AID",c.T),Kt(p,"CI",c.F?"0":"1"),!c.F&&c.ja&&Kt(p,"TO",c.ja),Kt(p,"TYPE","xmlhttp"),us(c,p),c.m&&c.o&&Ce(p,c.m,c.o),c.L&&(c.g.I=c.L);var _=c.g;c=c.ia,_.L=1,_.v=ns(an(p)),_.m=null,_.P=!0,_i(_,c)}r.Za=function(){this.C!=null&&(this.C=null,ea(this),Io(this),te(19))};function ia(c){c.C!=null&&(m.clearTimeout(c.C),c.C=null)}function mu(c,p){var _=null;if(c.g==p){ia(c),cs(c),c.g=null;var A=2}else if(yo(c.h,p))_=p.D,Ze(c.h,p),A=1;else return;if(c.G!=0){if(p.o)if(A==1){_=p.m?p.m.length:0,p=Date.now()-p.F;var U=c.B;A=Zi(),Ft(A,new ve(A,_)),na(c)}else fu(c);else if(U=p.s,U==3||U==0&&0<p.X||!(A==1&&Hh(c,p)||A==2&&Io(c)))switch(_&&0<_.length&&(p=c.h,p.i=p.i.concat(_)),U){case 1:wi(c,5);break;case 4:wi(c,10);break;case 3:wi(c,6);break;default:wi(c,2)}}}function Co(c,p){let _=c.Ta+Math.floor(Math.random()*c.cb);return c.isActive()||(_*=2),_*p}function wi(c,p){if(c.j.info("Error code "+p),p==2){var _=S(c.fb,c),A=c.Xa;const U=!A;A=new pe(A||"//www.google.com/images/cleardot.gif"),m.location&&m.location.protocol=="http"||es(A,"https"),ns(A),U?rs(A.toString(),_):Mn(A.toString(),_)}else te(2);c.G=0,c.l&&c.l.sa(p),pu(c),cu(c)}r.fb=function(c){c?(this.j.info("Successfully pinged google.com"),te(2)):(this.j.info("Failed to ping google.com"),te(1))};function pu(c){if(c.G=0,c.ka=[],c.l){const p=_o(c.h);(p.length!=0||c.i.length!=0)&&(F(c.ka,p),F(c.ka,c.i),c.h.i.length=0,Q(c.i),c.i.length=0),c.l.ra()}}function gu(c,p,_){var A=_ instanceof pe?an(_):new pe(_);if(A.g!="")p&&(A.g=p+"."+A.g),nr(A,A.s);else{var U=m.location;A=U.protocol,p=p?p+"."+U.hostname:U.hostname,U=+U.port;var j=new pe(null);A&&es(j,A),p&&(j.g=p),U&&nr(j,U),_&&(j.l=_),A=j}return _=c.D,p=c.ya,_&&p&&Kt(A,_,p),Kt(A,"VER",c.la),us(c,A),A}function yu(c,p,_){if(p&&!c.J)throw Error("Can't create secondary domain capable XhrIo object.");return p=c.Ca&&!c.pa?new qt(new ir({eb:_})):new qt(c.pa),p.Ha(c.J),p}r.isActive=function(){return!!this.l&&this.l.isActive(this)};function _u(){}r=_u.prototype,r.ua=function(){},r.ta=function(){},r.sa=function(){},r.ra=function(){},r.isActive=function(){return!0},r.Na=function(){};function ra(){}ra.prototype.g=function(c,p){return new We(c,p)};function We(c,p){oe.call(this),this.g=new ta(p),this.l=c,this.h=p&&p.messageUrlParams||null,c=p&&p.messageHeaders||null,p&&p.clientProtocolHeaderRequired&&(c?c["X-Client-Protocol"]="webchannel":c={"X-Client-Protocol":"webchannel"}),this.g.o=c,c=p&&p.initMessageHeaders||null,p&&p.messageContentType&&(c?c["X-WebChannel-Content-Type"]=p.messageContentType:c={"X-WebChannel-Content-Type":p.messageContentType}),p&&p.va&&(c?c["X-WebChannel-Client-Profile"]=p.va:c={"X-WebChannel-Client-Profile":p.va}),this.g.S=c,(c=p&&p.Sb)&&!J(c)&&(this.g.m=c),this.v=p&&p.supportsCrossDomainXhr||!1,this.u=p&&p.sendRawJson||!1,(p=p&&p.httpSessionIdParam)&&!J(p)&&(this.g.D=p,c=this.h,c!==null&&p in c&&(c=this.h,p in c&&delete c[p])),this.j=new Zn(this)}P(We,oe),We.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},We.prototype.close=function(){wo(this.g)},We.prototype.o=function(c){var p=this.g;if(typeof c=="string"){var _={};_.__data__=c,c=_}else this.u&&(_={},_.__data__=On(c),c=_);p.i.push(new su(p.Ya++,c)),p.G==3&&na(p)},We.prototype.N=function(){this.g.l=null,delete this.j,wo(this.g),delete this.g,We.aa.N.call(this)};function vu(c){gi.call(this),c.__headers__&&(this.headers=c.__headers__,this.statusCode=c.__status__,delete c.__headers__,delete c.__status__);var p=c.__sm__;if(p){t:{for(const _ in p){c=_;break t}c=void 0}(this.i=c)&&(c=this.i,p=p!==null&&c in p?p[c]:void 0),this.data=p}else this.data=c}P(vu,gi);function Eu(){fo.call(this),this.status=1}P(Eu,fo);function Zn(c){this.g=c}P(Zn,_u),Zn.prototype.ua=function(){Ft(this.g,"a")},Zn.prototype.ta=function(c){Ft(this.g,new vu(c))},Zn.prototype.sa=function(c){Ft(this.g,new Eu)},Zn.prototype.ra=function(){Ft(this.g,"b")},ra.prototype.createWebChannel=ra.prototype.g,We.prototype.send=We.prototype.o,We.prototype.open=We.prototype.m,We.prototype.close=We.prototype.close,D0=function(){return new ra},C0=function(){return Zi()},I0=qn,lm={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},tr.NO_ERROR=0,tr.TIMEOUT=8,tr.HTTP_ERROR=6,Pc=tr,yi.COMPLETE="complete",R0=yi,ho.EventType=pi,pi.OPEN="a",pi.CLOSE="b",pi.ERROR="c",pi.MESSAGE="d",oe.prototype.listen=oe.prototype.K,El=ho,qt.prototype.listenOnce=qt.prototype.L,qt.prototype.getLastError=qt.prototype.Ka,qt.prototype.getLastErrorCode=qt.prototype.Ba,qt.prototype.getStatus=qt.prototype.Z,qt.prototype.getResponseJson=qt.prototype.Oa,qt.prototype.getResponseText=qt.prototype.oa,qt.prototype.send=qt.prototype.ea,qt.prototype.setWithCredentials=qt.prototype.Ha,w0=qt}).apply(typeof Sc<"u"?Sc:typeof self<"u"?self:typeof window<"u"?window:{});const Ev="@firebase/firestore",Tv="4.7.17";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ke{constructor(t){this.uid=t}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(t){return t.uid===this.uid}}Ke.UNAUTHENTICATED=new Ke(null),Ke.GOOGLE_CREDENTIALS=new Ke("google-credentials-uid"),Ke.FIRST_PARTY=new Ke("first-party-uid"),Ke.MOCK_USER=new Ke("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let eo="11.9.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Vs=new Om("@firebase/firestore");function Va(){return Vs.logLevel}function ot(r,...t){if(Vs.logLevel<=Mt.DEBUG){const n=t.map(Fm);Vs.debug(`Firestore (${eo}): ${r}`,...n)}}function Ki(r,...t){if(Vs.logLevel<=Mt.ERROR){const n=t.map(Fm);Vs.error(`Firestore (${eo}): ${r}`,...n)}}function ja(r,...t){if(Vs.logLevel<=Mt.WARN){const n=t.map(Fm);Vs.warn(`Firestore (${eo}): ${r}`,...n)}}function Fm(r){if(typeof r=="string")return r;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(n){return JSON.stringify(n)}(r)}catch{return r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _t(r,t,n){let s="Unexpected state";typeof t=="string"?s=t:n=t,O0(r,s,n)}function O0(r,t,n){let s=`FIRESTORE (${eo}) INTERNAL ASSERTION FAILED: ${t} (ID: ${r.toString(16)})`;if(n!==void 0)try{s+=" CONTEXT: "+JSON.stringify(n)}catch{s+=" CONTEXT: "+n}throw Ki(s),new Error(s)}function jt(r,t,n,s){let o="Unexpected state";typeof n=="string"?o=n:s=n,r||O0(t,o,s)}function St(r,t){return r}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const et={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class dt extends Xi{constructor(t,n){super(t,n),this.code=t,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pr{constructor(){this.promise=new Promise((t,n)=>{this.resolve=t,this.reject=n})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class N0{constructor(t,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${t}`)}}class tC{getToken(){return Promise.resolve(null)}invalidateToken(){}start(t,n){t.enqueueRetryable(()=>n(Ke.UNAUTHENTICATED))}shutdown(){}}class eC{constructor(t){this.token=t,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(t,n){this.changeListener=n,t.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}}class nC{constructor(t){this.t=t,this.currentUser=Ke.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(t,n){jt(this.o===void 0,42304);let s=this.i;const o=g=>this.i!==s?(s=this.i,n(g)):Promise.resolve();let u=new Pr;this.o=()=>{this.i++,this.currentUser=this.u(),u.resolve(),u=new Pr,t.enqueueRetryable(()=>o(this.currentUser))};const f=()=>{const g=u;t.enqueueRetryable(async()=>{await g.promise,await o(this.currentUser)})},m=g=>{ot("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=g,this.o&&(this.auth.addAuthTokenListener(this.o),f())};this.t.onInit(g=>m(g)),setTimeout(()=>{if(!this.auth){const g=this.t.getImmediate({optional:!0});g?m(g):(ot("FirebaseAuthCredentialsProvider","Auth not yet detected"),u.resolve(),u=new Pr)}},0),f()}getToken(){const t=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(s=>this.i!==t?(ot("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):s?(jt(typeof s.accessToken=="string",31837,{l:s}),new N0(s.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const t=this.auth&&this.auth.getUid();return jt(t===null||typeof t=="string",2055,{h:t}),new Ke(t)}}class iC{constructor(t,n,s){this.P=t,this.T=n,this.I=s,this.type="FirstParty",this.user=Ke.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const t=this.R();return t&&this.A.set("Authorization",t),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class rC{constructor(t,n,s){this.P=t,this.T=n,this.I=s}getToken(){return Promise.resolve(new iC(this.P,this.T,this.I))}start(t,n){t.enqueueRetryable(()=>n(Ke.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class Av{constructor(t){this.value=t,this.type="AppCheck",this.headers=new Map,t&&t.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class sC{constructor(t,n){this.V=n,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,kn(t)&&t.settings.appCheckToken&&(this.p=t.settings.appCheckToken)}start(t,n){jt(this.o===void 0,3512);const s=u=>{u.error!=null&&ot("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${u.error.message}`);const f=u.token!==this.m;return this.m=u.token,ot("FirebaseAppCheckTokenProvider",`Received ${f?"new":"existing"} token.`),f?n(u.token):Promise.resolve()};this.o=u=>{t.enqueueRetryable(()=>s(u))};const o=u=>{ot("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=u,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit(u=>o(u)),setTimeout(()=>{if(!this.appCheck){const u=this.V.getImmediate({optional:!0});u?o(u):ot("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){if(this.p)return Promise.resolve(new Av(this.p));const t=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(t).then(n=>n?(jt(typeof n.token=="string",44558,{tokenResult:n}),this.m=n.token,new Av(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function aC(r){const t=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(r);if(t&&typeof t.getRandomValues=="function")t.getRandomValues(n);else for(let s=0;s<r;s++)n[s]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function M0(){return new TextEncoder}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class V0{static newId(){const t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=62*Math.floor(4.129032258064516);let s="";for(;s.length<20;){const o=aC(40);for(let u=0;u<o.length;++u)s.length<20&&o[u]<n&&(s+=t.charAt(o[u]%62))}return s}}function It(r,t){return r<t?-1:r>t?1:0}function um(r,t){let n=0;for(;n<r.length&&n<t.length;){const s=r.codePointAt(n),o=t.codePointAt(n);if(s!==o){if(s<128&&o<128)return It(s,o);{const u=M0(),f=oC(u.encode(Sv(r,n)),u.encode(Sv(t,n)));return f!==0?f:It(s,o)}}n+=s>65535?2:1}return It(r.length,t.length)}function Sv(r,t){return r.codePointAt(t)>65535?r.substring(t,t+2):r.substring(t,t+1)}function oC(r,t){for(let n=0;n<r.length&&n<t.length;++n)if(r[n]!==t[n])return It(r[n],t[n]);return It(r.length,t.length)}function Fa(r,t,n){return r.length===t.length&&r.every((s,o)=>n(s,t[o]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bv=-62135596800,wv=1e6;class we{static now(){return we.fromMillis(Date.now())}static fromDate(t){return we.fromMillis(t.getTime())}static fromMillis(t){const n=Math.floor(t/1e3),s=Math.floor((t-1e3*n)*wv);return new we(n,s)}constructor(t,n){if(this.seconds=t,this.nanoseconds=n,n<0)throw new dt(et.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new dt(et.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(t<bv)throw new dt(et.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t);if(t>=253402300800)throw new dt(et.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/wv}_compareTo(t){return this.seconds===t.seconds?It(this.nanoseconds,t.nanoseconds):It(this.seconds,t.seconds)}isEqual(t){return t.seconds===this.seconds&&t.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const t=this.seconds-bv;return String(t).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class At{static fromTimestamp(t){return new At(t)}static min(){return new At(new we(0,0))}static max(){return new At(new we(253402300799,999999999))}constructor(t){this.timestamp=t}compareTo(t){return this.timestamp._compareTo(t.timestamp)}isEqual(t){return this.timestamp.isEqual(t.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Rv="__name__";class ri{constructor(t,n,s){n===void 0?n=0:n>t.length&&_t(637,{offset:n,range:t.length}),s===void 0?s=t.length-n:s>t.length-n&&_t(1746,{length:s,range:t.length-n}),this.segments=t,this.offset=n,this.len=s}get length(){return this.len}isEqual(t){return ri.comparator(this,t)===0}child(t){const n=this.segments.slice(this.offset,this.limit());return t instanceof ri?t.forEach(s=>{n.push(s)}):n.push(t),this.construct(n)}limit(){return this.offset+this.length}popFirst(t){return t=t===void 0?1:t,this.construct(this.segments,this.offset+t,this.length-t)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(t){return this.segments[this.offset+t]}isEmpty(){return this.length===0}isPrefixOf(t){if(t.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==t.get(n))return!1;return!0}isImmediateParentOf(t){if(this.length+1!==t.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==t.get(n))return!1;return!0}forEach(t){for(let n=this.offset,s=this.limit();n<s;n++)t(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(t,n){const s=Math.min(t.length,n.length);for(let o=0;o<s;o++){const u=ri.compareSegments(t.get(o),n.get(o));if(u!==0)return u}return It(t.length,n.length)}static compareSegments(t,n){const s=ri.isNumericId(t),o=ri.isNumericId(n);return s&&!o?-1:!s&&o?1:s&&o?ri.extractNumericId(t).compare(ri.extractNumericId(n)):um(t,n)}static isNumericId(t){return t.startsWith("__id")&&t.endsWith("__")}static extractNumericId(t){return xr.fromString(t.substring(4,t.length-2))}}class ne extends ri{construct(t,n,s){return new ne(t,n,s)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...t){const n=[];for(const s of t){if(s.indexOf("//")>=0)throw new dt(et.INVALID_ARGUMENT,`Invalid segment (${s}). Paths must not contain // in them.`);n.push(...s.split("/").filter(o=>o.length>0))}return new ne(n)}static emptyPath(){return new ne([])}}const lC=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class He extends ri{construct(t,n,s){return new He(t,n,s)}static isValidIdentifier(t){return lC.test(t)}canonicalString(){return this.toArray().map(t=>(t=t.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),He.isValidIdentifier(t)||(t="`"+t+"`"),t)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===Rv}static keyField(){return new He([Rv])}static fromServerFormat(t){const n=[];let s="",o=0;const u=()=>{if(s.length===0)throw new dt(et.INVALID_ARGUMENT,`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(s),s=""};let f=!1;for(;o<t.length;){const m=t[o];if(m==="\\"){if(o+1===t.length)throw new dt(et.INVALID_ARGUMENT,"Path has trailing escape character: "+t);const g=t[o+1];if(g!=="\\"&&g!=="."&&g!=="`")throw new dt(et.INVALID_ARGUMENT,"Path has invalid escape sequence: "+t);s+=g,o+=2}else m==="`"?(f=!f,o++):m!=="."||f?(s+=m,o++):(u(),o++)}if(u(),f)throw new dt(et.INVALID_ARGUMENT,"Unterminated ` in path: "+t);return new He(n)}static emptyPath(){return new He([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pt{constructor(t){this.path=t}static fromPath(t){return new pt(ne.fromString(t))}static fromName(t){return new pt(ne.fromString(t).popFirst(5))}static empty(){return new pt(ne.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(t){return this.path.length>=2&&this.path.get(this.path.length-2)===t}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(t){return t!==null&&ne.comparator(this.path,t.path)===0}toString(){return this.path.toString()}static comparator(t,n){return ne.comparator(t.path,n.path)}static isDocumentKey(t){return t.length%2==0}static fromSegments(t){return new pt(new ne(t.slice()))}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ml=-1;function uC(r,t){const n=r.toTimestamp().seconds,s=r.toTimestamp().nanoseconds+1,o=At.fromTimestamp(s===1e9?new we(n+1,0):new we(n,s));return new Ur(o,pt.empty(),t)}function cC(r){return new Ur(r.readTime,r.key,Ml)}class Ur{constructor(t,n,s){this.readTime=t,this.documentKey=n,this.largestBatchId=s}static min(){return new Ur(At.min(),pt.empty(),Ml)}static max(){return new Ur(At.max(),pt.empty(),Ml)}}function hC(r,t){let n=r.readTime.compareTo(t.readTime);return n!==0?n:(n=pt.comparator(r.documentKey,t.documentKey),n!==0?n:It(r.largestBatchId,t.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fC="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class dC{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(t){this.onCommittedListeners.push(t)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(t=>t())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function no(r){if(r.code!==et.FAILED_PRECONDITION||r.message!==fC)throw r;ot("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class W{constructor(t){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,t(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(t){return this.next(void 0,t)}next(t,n){return this.callbackAttached&&_t(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(t,this.result):new W((s,o)=>{this.nextCallback=u=>{this.wrapSuccess(t,u).next(s,o)},this.catchCallback=u=>{this.wrapFailure(n,u).next(s,o)}})}toPromise(){return new Promise((t,n)=>{this.next(t,n)})}wrapUserFunction(t){try{const n=t();return n instanceof W?n:W.resolve(n)}catch(n){return W.reject(n)}}wrapSuccess(t,n){return t?this.wrapUserFunction(()=>t(n)):W.resolve(n)}wrapFailure(t,n){return t?this.wrapUserFunction(()=>t(n)):W.reject(n)}static resolve(t){return new W((n,s)=>{n(t)})}static reject(t){return new W((n,s)=>{s(t)})}static waitFor(t){return new W((n,s)=>{let o=0,u=0,f=!1;t.forEach(m=>{++o,m.next(()=>{++u,f&&u===o&&n()},g=>s(g))}),f=!0,u===o&&n()})}static or(t){let n=W.resolve(!1);for(const s of t)n=n.next(o=>o?W.resolve(o):s());return n}static forEach(t,n){const s=[];return t.forEach((o,u)=>{s.push(n.call(this,o,u))}),this.waitFor(s)}static mapArray(t,n){return new W((s,o)=>{const u=t.length,f=new Array(u);let m=0;for(let g=0;g<u;g++){const y=g;n(t[y]).next(E=>{f[y]=E,++m,m===u&&s(f)},E=>o(E))}})}static doWhile(t,n){return new W((s,o)=>{const u=()=>{t()===!0?n().next(()=>{u()},o):s()};u()})}}function mC(r){const t=r.match(/Android ([\d.]+)/i),n=t?t[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function io(r){return r.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gh{constructor(t,n){this.previousValue=t,n&&(n.sequenceNumberHandler=s=>this.ue(s),this.ce=s=>n.writeSequenceNumber(s))}ue(t){return this.previousValue=Math.max(t,this.previousValue),this.previousValue}next(){const t=++this.previousValue;return this.ce&&this.ce(t),t}}gh.le=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Gm=-1;function yh(r){return r==null}function $c(r){return r===0&&1/r==-1/0}function pC(r){return typeof r=="number"&&Number.isInteger(r)&&!$c(r)&&r<=Number.MAX_SAFE_INTEGER&&r>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const x0="";function gC(r){let t="";for(let n=0;n<r.length;n++)t.length>0&&(t=Iv(t)),t=yC(r.get(n),t);return Iv(t)}function yC(r,t){let n=t;const s=r.length;for(let o=0;o<s;o++){const u=r.charAt(o);switch(u){case"\0":n+="";break;case x0:n+="";break;default:n+=u}}return n}function Iv(r){return r+x0+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Cv(r){let t=0;for(const n in r)Object.prototype.hasOwnProperty.call(r,n)&&t++;return t}function Us(r,t){for(const n in r)Object.prototype.hasOwnProperty.call(r,n)&&t(n,r[n])}function P0(r){for(const t in r)if(Object.prototype.hasOwnProperty.call(r,t))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class se{constructor(t,n){this.comparator=t,this.root=n||Be.EMPTY}insert(t,n){return new se(this.comparator,this.root.insert(t,n,this.comparator).copy(null,null,Be.BLACK,null,null))}remove(t){return new se(this.comparator,this.root.remove(t,this.comparator).copy(null,null,Be.BLACK,null,null))}get(t){let n=this.root;for(;!n.isEmpty();){const s=this.comparator(t,n.key);if(s===0)return n.value;s<0?n=n.left:s>0&&(n=n.right)}return null}indexOf(t){let n=0,s=this.root;for(;!s.isEmpty();){const o=this.comparator(t,s.key);if(o===0)return n+s.left.size;o<0?s=s.left:(n+=s.left.size+1,s=s.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(t){return this.root.inorderTraversal(t)}forEach(t){this.inorderTraversal((n,s)=>(t(n,s),!1))}toString(){const t=[];return this.inorderTraversal((n,s)=>(t.push(`${n}:${s}`),!1)),`{${t.join(", ")}}`}reverseTraversal(t){return this.root.reverseTraversal(t)}getIterator(){return new bc(this.root,null,this.comparator,!1)}getIteratorFrom(t){return new bc(this.root,t,this.comparator,!1)}getReverseIterator(){return new bc(this.root,null,this.comparator,!0)}getReverseIteratorFrom(t){return new bc(this.root,t,this.comparator,!0)}}class bc{constructor(t,n,s,o){this.isReverse=o,this.nodeStack=[];let u=1;for(;!t.isEmpty();)if(u=n?s(t.key,n):1,n&&o&&(u*=-1),u<0)t=this.isReverse?t.left:t.right;else{if(u===0){this.nodeStack.push(t);break}this.nodeStack.push(t),t=this.isReverse?t.right:t.left}}getNext(){let t=this.nodeStack.pop();const n={key:t.key,value:t.value};if(this.isReverse)for(t=t.left;!t.isEmpty();)this.nodeStack.push(t),t=t.right;else for(t=t.right;!t.isEmpty();)this.nodeStack.push(t),t=t.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const t=this.nodeStack[this.nodeStack.length-1];return{key:t.key,value:t.value}}}class Be{constructor(t,n,s,o,u){this.key=t,this.value=n,this.color=s??Be.RED,this.left=o??Be.EMPTY,this.right=u??Be.EMPTY,this.size=this.left.size+1+this.right.size}copy(t,n,s,o,u){return new Be(t??this.key,n??this.value,s??this.color,o??this.left,u??this.right)}isEmpty(){return!1}inorderTraversal(t){return this.left.inorderTraversal(t)||t(this.key,this.value)||this.right.inorderTraversal(t)}reverseTraversal(t){return this.right.reverseTraversal(t)||t(this.key,this.value)||this.left.reverseTraversal(t)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(t,n,s){let o=this;const u=s(t,o.key);return o=u<0?o.copy(null,null,null,o.left.insert(t,n,s),null):u===0?o.copy(null,n,null,null,null):o.copy(null,null,null,null,o.right.insert(t,n,s)),o.fixUp()}removeMin(){if(this.left.isEmpty())return Be.EMPTY;let t=this;return t.left.isRed()||t.left.left.isRed()||(t=t.moveRedLeft()),t=t.copy(null,null,null,t.left.removeMin(),null),t.fixUp()}remove(t,n){let s,o=this;if(n(t,o.key)<0)o.left.isEmpty()||o.left.isRed()||o.left.left.isRed()||(o=o.moveRedLeft()),o=o.copy(null,null,null,o.left.remove(t,n),null);else{if(o.left.isRed()&&(o=o.rotateRight()),o.right.isEmpty()||o.right.isRed()||o.right.left.isRed()||(o=o.moveRedRight()),n(t,o.key)===0){if(o.right.isEmpty())return Be.EMPTY;s=o.right.min(),o=o.copy(s.key,s.value,null,null,o.right.removeMin())}o=o.copy(null,null,null,null,o.right.remove(t,n))}return o.fixUp()}isRed(){return this.color}fixUp(){let t=this;return t.right.isRed()&&!t.left.isRed()&&(t=t.rotateLeft()),t.left.isRed()&&t.left.left.isRed()&&(t=t.rotateRight()),t.left.isRed()&&t.right.isRed()&&(t=t.colorFlip()),t}moveRedLeft(){let t=this.colorFlip();return t.right.left.isRed()&&(t=t.copy(null,null,null,null,t.right.rotateRight()),t=t.rotateLeft(),t=t.colorFlip()),t}moveRedRight(){let t=this.colorFlip();return t.left.left.isRed()&&(t=t.rotateRight(),t=t.colorFlip()),t}rotateLeft(){const t=this.copy(null,null,Be.RED,null,this.right.left);return this.right.copy(null,null,this.color,t,null)}rotateRight(){const t=this.copy(null,null,Be.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,t)}colorFlip(){const t=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,t,n)}checkMaxDepth(){const t=this.check();return Math.pow(2,t)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw _t(43730,{key:this.key,value:this.value});if(this.right.isRed())throw _t(14113,{key:this.key,value:this.value});const t=this.left.check();if(t!==this.right.check())throw _t(27949);return t+(this.isRed()?0:1)}}Be.EMPTY=null,Be.RED=!0,Be.BLACK=!1;Be.EMPTY=new class{constructor(){this.size=0}get key(){throw _t(57766)}get value(){throw _t(16141)}get color(){throw _t(16727)}get left(){throw _t(29726)}get right(){throw _t(36894)}copy(t,n,s,o,u){return this}insert(t,n,s){return new Be(t,n)}remove(t,n){return this}isEmpty(){return!0}inorderTraversal(t){return!1}reverseTraversal(t){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Re{constructor(t){this.comparator=t,this.data=new se(this.comparator)}has(t){return this.data.get(t)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(t){return this.data.indexOf(t)}forEach(t){this.data.inorderTraversal((n,s)=>(t(n),!1))}forEachInRange(t,n){const s=this.data.getIteratorFrom(t[0]);for(;s.hasNext();){const o=s.getNext();if(this.comparator(o.key,t[1])>=0)return;n(o.key)}}forEachWhile(t,n){let s;for(s=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();s.hasNext();)if(!t(s.getNext().key))return}firstAfterOrEqual(t){const n=this.data.getIteratorFrom(t);return n.hasNext()?n.getNext().key:null}getIterator(){return new Dv(this.data.getIterator())}getIteratorFrom(t){return new Dv(this.data.getIteratorFrom(t))}add(t){return this.copy(this.data.remove(t).insert(t,!0))}delete(t){return this.has(t)?this.copy(this.data.remove(t)):this}isEmpty(){return this.data.isEmpty()}unionWith(t){let n=this;return n.size<t.size&&(n=t,t=this),t.forEach(s=>{n=n.add(s)}),n}isEqual(t){if(!(t instanceof Re)||this.size!==t.size)return!1;const n=this.data.getIterator(),s=t.data.getIterator();for(;n.hasNext();){const o=n.getNext().key,u=s.getNext().key;if(this.comparator(o,u)!==0)return!1}return!0}toArray(){const t=[];return this.forEach(n=>{t.push(n)}),t}toString(){const t=[];return this.forEach(n=>t.push(n)),"SortedSet("+t.toString()+")"}copy(t){const n=new Re(this.comparator);return n.data=t,n}}class Dv{constructor(t){this.iter=t}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ln{constructor(t){this.fields=t,t.sort(He.comparator)}static empty(){return new Ln([])}unionWith(t){let n=new Re(He.comparator);for(const s of this.fields)n=n.add(s);for(const s of t)n=n.add(s);return new Ln(n.toArray())}covers(t){for(const n of this.fields)if(n.isPrefixOf(t))return!0;return!1}isEqual(t){return Fa(this.fields,t.fields,(n,s)=>n.isEqual(s))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class k0 extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qe{constructor(t){this.binaryString=t}static fromBase64String(t){const n=function(o){try{return atob(o)}catch(u){throw typeof DOMException<"u"&&u instanceof DOMException?new k0("Invalid base64 string: "+u):u}}(t);return new qe(n)}static fromUint8Array(t){const n=function(o){let u="";for(let f=0;f<o.length;++f)u+=String.fromCharCode(o[f]);return u}(t);return new qe(n)}[Symbol.iterator](){let t=0;return{next:()=>t<this.binaryString.length?{value:this.binaryString.charCodeAt(t++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(n){return btoa(n)}(this.binaryString)}toUint8Array(){return function(n){const s=new Uint8Array(n.length);for(let o=0;o<n.length;o++)s[o]=n.charCodeAt(o);return s}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(t){return It(this.binaryString,t.binaryString)}isEqual(t){return this.binaryString===t.binaryString}}qe.EMPTY_BYTE_STRING=new qe("");const _C=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Lr(r){if(jt(!!r,39018),typeof r=="string"){let t=0;const n=_C.exec(r);if(jt(!!n,46558,{timestamp:r}),n[1]){let o=n[1];o=(o+"000000000").substr(0,9),t=Number(o)}const s=new Date(r);return{seconds:Math.floor(s.getTime()/1e3),nanos:t}}return{seconds:de(r.seconds),nanos:de(r.nanos)}}function de(r){return typeof r=="number"?r:typeof r=="string"?Number(r):0}function zr(r){return typeof r=="string"?qe.fromBase64String(r):qe.fromUint8Array(r)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const U0="server_timestamp",L0="__type__",z0="__previous_value__",B0="__local_write_time__";function Qm(r){var t,n;return((n=(((t=r==null?void 0:r.mapValue)===null||t===void 0?void 0:t.fields)||{})[L0])===null||n===void 0?void 0:n.stringValue)===U0}function _h(r){const t=r.mapValue.fields[z0];return Qm(t)?_h(t):t}function Vl(r){const t=Lr(r.mapValue.fields[B0].timestampValue);return new we(t.seconds,t.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vC{constructor(t,n,s,o,u,f,m,g,y,E){this.databaseId=t,this.appId=n,this.persistenceKey=s,this.host=o,this.ssl=u,this.forceLongPolling=f,this.autoDetectLongPolling=m,this.longPollingOptions=g,this.useFetchStreams=y,this.isUsingEmulator=E}}const Zc="(default)";class xl{constructor(t,n){this.projectId=t,this.database=n||Zc}static empty(){return new xl("","")}get isDefaultDatabase(){return this.database===Zc}isEqual(t){return t instanceof xl&&t.projectId===this.projectId&&t.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const H0="__type__",EC="__max__",wc={mapValue:{}},q0="__vector__",Wc="value";function Br(r){return"nullValue"in r?0:"booleanValue"in r?1:"integerValue"in r||"doubleValue"in r?2:"timestampValue"in r?3:"stringValue"in r?5:"bytesValue"in r?6:"referenceValue"in r?7:"geoPointValue"in r?8:"arrayValue"in r?9:"mapValue"in r?Qm(r)?4:AC(r)?9007199254740991:TC(r)?10:11:_t(28295,{value:r})}function ci(r,t){if(r===t)return!0;const n=Br(r);if(n!==Br(t))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return r.booleanValue===t.booleanValue;case 4:return Vl(r).isEqual(Vl(t));case 3:return function(o,u){if(typeof o.timestampValue=="string"&&typeof u.timestampValue=="string"&&o.timestampValue.length===u.timestampValue.length)return o.timestampValue===u.timestampValue;const f=Lr(o.timestampValue),m=Lr(u.timestampValue);return f.seconds===m.seconds&&f.nanos===m.nanos}(r,t);case 5:return r.stringValue===t.stringValue;case 6:return function(o,u){return zr(o.bytesValue).isEqual(zr(u.bytesValue))}(r,t);case 7:return r.referenceValue===t.referenceValue;case 8:return function(o,u){return de(o.geoPointValue.latitude)===de(u.geoPointValue.latitude)&&de(o.geoPointValue.longitude)===de(u.geoPointValue.longitude)}(r,t);case 2:return function(o,u){if("integerValue"in o&&"integerValue"in u)return de(o.integerValue)===de(u.integerValue);if("doubleValue"in o&&"doubleValue"in u){const f=de(o.doubleValue),m=de(u.doubleValue);return f===m?$c(f)===$c(m):isNaN(f)&&isNaN(m)}return!1}(r,t);case 9:return Fa(r.arrayValue.values||[],t.arrayValue.values||[],ci);case 10:case 11:return function(o,u){const f=o.mapValue.fields||{},m=u.mapValue.fields||{};if(Cv(f)!==Cv(m))return!1;for(const g in f)if(f.hasOwnProperty(g)&&(m[g]===void 0||!ci(f[g],m[g])))return!1;return!0}(r,t);default:return _t(52216,{left:r})}}function Pl(r,t){return(r.values||[]).find(n=>ci(n,t))!==void 0}function Ga(r,t){if(r===t)return 0;const n=Br(r),s=Br(t);if(n!==s)return It(n,s);switch(n){case 0:case 9007199254740991:return 0;case 1:return It(r.booleanValue,t.booleanValue);case 2:return function(u,f){const m=de(u.integerValue||u.doubleValue),g=de(f.integerValue||f.doubleValue);return m<g?-1:m>g?1:m===g?0:isNaN(m)?isNaN(g)?0:-1:1}(r,t);case 3:return Ov(r.timestampValue,t.timestampValue);case 4:return Ov(Vl(r),Vl(t));case 5:return um(r.stringValue,t.stringValue);case 6:return function(u,f){const m=zr(u),g=zr(f);return m.compareTo(g)}(r.bytesValue,t.bytesValue);case 7:return function(u,f){const m=u.split("/"),g=f.split("/");for(let y=0;y<m.length&&y<g.length;y++){const E=It(m[y],g[y]);if(E!==0)return E}return It(m.length,g.length)}(r.referenceValue,t.referenceValue);case 8:return function(u,f){const m=It(de(u.latitude),de(f.latitude));return m!==0?m:It(de(u.longitude),de(f.longitude))}(r.geoPointValue,t.geoPointValue);case 9:return Nv(r.arrayValue,t.arrayValue);case 10:return function(u,f){var m,g,y,E;const b=u.fields||{},S=f.fields||{},L=(m=b[Wc])===null||m===void 0?void 0:m.arrayValue,P=(g=S[Wc])===null||g===void 0?void 0:g.arrayValue,Q=It(((y=L==null?void 0:L.values)===null||y===void 0?void 0:y.length)||0,((E=P==null?void 0:P.values)===null||E===void 0?void 0:E.length)||0);return Q!==0?Q:Nv(L,P)}(r.mapValue,t.mapValue);case 11:return function(u,f){if(u===wc.mapValue&&f===wc.mapValue)return 0;if(u===wc.mapValue)return 1;if(f===wc.mapValue)return-1;const m=u.fields||{},g=Object.keys(m),y=f.fields||{},E=Object.keys(y);g.sort(),E.sort();for(let b=0;b<g.length&&b<E.length;++b){const S=um(g[b],E[b]);if(S!==0)return S;const L=Ga(m[g[b]],y[E[b]]);if(L!==0)return L}return It(g.length,E.length)}(r.mapValue,t.mapValue);default:throw _t(23264,{Pe:n})}}function Ov(r,t){if(typeof r=="string"&&typeof t=="string"&&r.length===t.length)return It(r,t);const n=Lr(r),s=Lr(t),o=It(n.seconds,s.seconds);return o!==0?o:It(n.nanos,s.nanos)}function Nv(r,t){const n=r.values||[],s=t.values||[];for(let o=0;o<n.length&&o<s.length;++o){const u=Ga(n[o],s[o]);if(u)return u}return It(n.length,s.length)}function Qa(r){return cm(r)}function cm(r){return"nullValue"in r?"null":"booleanValue"in r?""+r.booleanValue:"integerValue"in r?""+r.integerValue:"doubleValue"in r?""+r.doubleValue:"timestampValue"in r?function(n){const s=Lr(n);return`time(${s.seconds},${s.nanos})`}(r.timestampValue):"stringValue"in r?r.stringValue:"bytesValue"in r?function(n){return zr(n).toBase64()}(r.bytesValue):"referenceValue"in r?function(n){return pt.fromName(n).toString()}(r.referenceValue):"geoPointValue"in r?function(n){return`geo(${n.latitude},${n.longitude})`}(r.geoPointValue):"arrayValue"in r?function(n){let s="[",o=!0;for(const u of n.values||[])o?o=!1:s+=",",s+=cm(u);return s+"]"}(r.arrayValue):"mapValue"in r?function(n){const s=Object.keys(n.fields||{}).sort();let o="{",u=!0;for(const f of s)u?u=!1:o+=",",o+=`${f}:${cm(n.fields[f])}`;return o+"}"}(r.mapValue):_t(61005,{value:r})}function kc(r){switch(Br(r)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const t=_h(r);return t?16+kc(t):16;case 5:return 2*r.stringValue.length;case 6:return zr(r.bytesValue).approximateByteSize();case 7:return r.referenceValue.length;case 9:return function(s){return(s.values||[]).reduce((o,u)=>o+kc(u),0)}(r.arrayValue);case 10:case 11:return function(s){let o=0;return Us(s.fields,(u,f)=>{o+=u.length+kc(f)}),o}(r.mapValue);default:throw _t(13486,{value:r})}}function hm(r){return!!r&&"integerValue"in r}function Km(r){return!!r&&"arrayValue"in r}function Mv(r){return!!r&&"nullValue"in r}function Vv(r){return!!r&&"doubleValue"in r&&isNaN(Number(r.doubleValue))}function Uc(r){return!!r&&"mapValue"in r}function TC(r){var t,n;return((n=(((t=r==null?void 0:r.mapValue)===null||t===void 0?void 0:t.fields)||{})[H0])===null||n===void 0?void 0:n.stringValue)===q0}function wl(r){if(r.geoPointValue)return{geoPointValue:Object.assign({},r.geoPointValue)};if(r.timestampValue&&typeof r.timestampValue=="object")return{timestampValue:Object.assign({},r.timestampValue)};if(r.mapValue){const t={mapValue:{fields:{}}};return Us(r.mapValue.fields,(n,s)=>t.mapValue.fields[n]=wl(s)),t}if(r.arrayValue){const t={arrayValue:{values:[]}};for(let n=0;n<(r.arrayValue.values||[]).length;++n)t.arrayValue.values[n]=wl(r.arrayValue.values[n]);return t}return Object.assign({},r)}function AC(r){return(((r.mapValue||{}).fields||{}).__type__||{}).stringValue===EC}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class In{constructor(t){this.value=t}static empty(){return new In({mapValue:{}})}field(t){if(t.isEmpty())return this.value;{let n=this.value;for(let s=0;s<t.length-1;++s)if(n=(n.mapValue.fields||{})[t.get(s)],!Uc(n))return null;return n=(n.mapValue.fields||{})[t.lastSegment()],n||null}}set(t,n){this.getFieldsMap(t.popLast())[t.lastSegment()]=wl(n)}setAll(t){let n=He.emptyPath(),s={},o=[];t.forEach((f,m)=>{if(!n.isImmediateParentOf(m)){const g=this.getFieldsMap(n);this.applyChanges(g,s,o),s={},o=[],n=m.popLast()}f?s[m.lastSegment()]=wl(f):o.push(m.lastSegment())});const u=this.getFieldsMap(n);this.applyChanges(u,s,o)}delete(t){const n=this.field(t.popLast());Uc(n)&&n.mapValue.fields&&delete n.mapValue.fields[t.lastSegment()]}isEqual(t){return ci(this.value,t.value)}getFieldsMap(t){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let s=0;s<t.length;++s){let o=n.mapValue.fields[t.get(s)];Uc(o)&&o.mapValue.fields||(o={mapValue:{fields:{}}},n.mapValue.fields[t.get(s)]=o),n=o}return n.mapValue.fields}applyChanges(t,n,s){Us(n,(o,u)=>t[o]=u);for(const o of s)delete t[o]}clone(){return new In(wl(this.value))}}function j0(r){const t=[];return Us(r.fields,(n,s)=>{const o=new He([n]);if(Uc(s)){const u=j0(s.mapValue).fields;if(u.length===0)t.push(o);else for(const f of u)t.push(o.child(f))}else t.push(o)}),new Ln(t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ye{constructor(t,n,s,o,u,f,m){this.key=t,this.documentType=n,this.version=s,this.readTime=o,this.createTime=u,this.data=f,this.documentState=m}static newInvalidDocument(t){return new Ye(t,0,At.min(),At.min(),At.min(),In.empty(),0)}static newFoundDocument(t,n,s,o){return new Ye(t,1,n,At.min(),s,o,0)}static newNoDocument(t,n){return new Ye(t,2,n,At.min(),At.min(),In.empty(),0)}static newUnknownDocument(t,n){return new Ye(t,3,n,At.min(),At.min(),In.empty(),2)}convertToFoundDocument(t,n){return!this.createTime.isEqual(At.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=t),this.version=t,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(t){return this.version=t,this.documentType=2,this.data=In.empty(),this.documentState=0,this}convertToUnknownDocument(t){return this.version=t,this.documentType=3,this.data=In.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=At.min(),this}setReadTime(t){return this.readTime=t,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(t){return t instanceof Ye&&this.key.isEqual(t.key)&&this.version.isEqual(t.version)&&this.documentType===t.documentType&&this.documentState===t.documentState&&this.data.isEqual(t.data)}mutableCopy(){return new Ye(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jc{constructor(t,n){this.position=t,this.inclusive=n}}function xv(r,t,n){let s=0;for(let o=0;o<r.position.length;o++){const u=t[o],f=r.position[o];if(u.field.isKeyField()?s=pt.comparator(pt.fromName(f.referenceValue),n.key):s=Ga(f,n.data.field(u.field)),u.dir==="desc"&&(s*=-1),s!==0)break}return s}function Pv(r,t){if(r===null)return t===null;if(t===null||r.inclusive!==t.inclusive||r.position.length!==t.position.length)return!1;for(let n=0;n<r.position.length;n++)if(!ci(r.position[n],t.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class th{constructor(t,n="asc"){this.field=t,this.dir=n}}function SC(r,t){return r.dir===t.dir&&r.field.isEqual(t.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class F0{}class be extends F0{constructor(t,n,s){super(),this.field=t,this.op=n,this.value=s}static create(t,n,s){return t.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(t,n,s):new wC(t,n,s):n==="array-contains"?new CC(t,s):n==="in"?new DC(t,s):n==="not-in"?new OC(t,s):n==="array-contains-any"?new NC(t,s):new be(t,n,s)}static createKeyFieldInFilter(t,n,s){return n==="in"?new RC(t,s):new IC(t,s)}matches(t){const n=t.data.field(this.field);return this.op==="!="?n!==null&&n.nullValue===void 0&&this.matchesComparison(Ga(n,this.value)):n!==null&&Br(this.value)===Br(n)&&this.matchesComparison(Ga(n,this.value))}matchesComparison(t){switch(this.op){case"<":return t<0;case"<=":return t<=0;case"==":return t===0;case"!=":return t!==0;case">":return t>0;case">=":return t>=0;default:return _t(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class hi extends F0{constructor(t,n){super(),this.filters=t,this.op=n,this.Te=null}static create(t,n){return new hi(t,n)}matches(t){return G0(this)?this.filters.find(n=>!n.matches(t))===void 0:this.filters.find(n=>n.matches(t))!==void 0}getFlattenedFilters(){return this.Te!==null||(this.Te=this.filters.reduce((t,n)=>t.concat(n.getFlattenedFilters()),[])),this.Te}getFilters(){return Object.assign([],this.filters)}}function G0(r){return r.op==="and"}function Q0(r){return bC(r)&&G0(r)}function bC(r){for(const t of r.filters)if(t instanceof hi)return!1;return!0}function fm(r){if(r instanceof be)return r.field.canonicalString()+r.op.toString()+Qa(r.value);if(Q0(r))return r.filters.map(t=>fm(t)).join(",");{const t=r.filters.map(n=>fm(n)).join(",");return`${r.op}(${t})`}}function K0(r,t){return r instanceof be?function(s,o){return o instanceof be&&s.op===o.op&&s.field.isEqual(o.field)&&ci(s.value,o.value)}(r,t):r instanceof hi?function(s,o){return o instanceof hi&&s.op===o.op&&s.filters.length===o.filters.length?s.filters.reduce((u,f,m)=>u&&K0(f,o.filters[m]),!0):!1}(r,t):void _t(19439)}function Y0(r){return r instanceof be?function(n){return`${n.field.canonicalString()} ${n.op} ${Qa(n.value)}`}(r):r instanceof hi?function(n){return n.op.toString()+" {"+n.getFilters().map(Y0).join(" ,")+"}"}(r):"Filter"}class wC extends be{constructor(t,n,s){super(t,n,s),this.key=pt.fromName(s.referenceValue)}matches(t){const n=pt.comparator(t.key,this.key);return this.matchesComparison(n)}}class RC extends be{constructor(t,n){super(t,"in",n),this.keys=X0("in",n)}matches(t){return this.keys.some(n=>n.isEqual(t.key))}}class IC extends be{constructor(t,n){super(t,"not-in",n),this.keys=X0("not-in",n)}matches(t){return!this.keys.some(n=>n.isEqual(t.key))}}function X0(r,t){var n;return(((n=t.arrayValue)===null||n===void 0?void 0:n.values)||[]).map(s=>pt.fromName(s.referenceValue))}class CC extends be{constructor(t,n){super(t,"array-contains",n)}matches(t){const n=t.data.field(this.field);return Km(n)&&Pl(n.arrayValue,this.value)}}class DC extends be{constructor(t,n){super(t,"in",n)}matches(t){const n=t.data.field(this.field);return n!==null&&Pl(this.value.arrayValue,n)}}class OC extends be{constructor(t,n){super(t,"not-in",n)}matches(t){if(Pl(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=t.data.field(this.field);return n!==null&&n.nullValue===void 0&&!Pl(this.value.arrayValue,n)}}class NC extends be{constructor(t,n){super(t,"array-contains-any",n)}matches(t){const n=t.data.field(this.field);return!(!Km(n)||!n.arrayValue.values)&&n.arrayValue.values.some(s=>Pl(this.value.arrayValue,s))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class MC{constructor(t,n=null,s=[],o=[],u=null,f=null,m=null){this.path=t,this.collectionGroup=n,this.orderBy=s,this.filters=o,this.limit=u,this.startAt=f,this.endAt=m,this.Ie=null}}function kv(r,t=null,n=[],s=[],o=null,u=null,f=null){return new MC(r,t,n,s,o,u,f)}function Ym(r){const t=St(r);if(t.Ie===null){let n=t.path.canonicalString();t.collectionGroup!==null&&(n+="|cg:"+t.collectionGroup),n+="|f:",n+=t.filters.map(s=>fm(s)).join(","),n+="|ob:",n+=t.orderBy.map(s=>function(u){return u.field.canonicalString()+u.dir}(s)).join(","),yh(t.limit)||(n+="|l:",n+=t.limit),t.startAt&&(n+="|lb:",n+=t.startAt.inclusive?"b:":"a:",n+=t.startAt.position.map(s=>Qa(s)).join(",")),t.endAt&&(n+="|ub:",n+=t.endAt.inclusive?"a:":"b:",n+=t.endAt.position.map(s=>Qa(s)).join(",")),t.Ie=n}return t.Ie}function Xm(r,t){if(r.limit!==t.limit||r.orderBy.length!==t.orderBy.length)return!1;for(let n=0;n<r.orderBy.length;n++)if(!SC(r.orderBy[n],t.orderBy[n]))return!1;if(r.filters.length!==t.filters.length)return!1;for(let n=0;n<r.filters.length;n++)if(!K0(r.filters[n],t.filters[n]))return!1;return r.collectionGroup===t.collectionGroup&&!!r.path.isEqual(t.path)&&!!Pv(r.startAt,t.startAt)&&Pv(r.endAt,t.endAt)}function dm(r){return pt.isDocumentKey(r.path)&&r.collectionGroup===null&&r.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vh{constructor(t,n=null,s=[],o=[],u=null,f="F",m=null,g=null){this.path=t,this.collectionGroup=n,this.explicitOrderBy=s,this.filters=o,this.limit=u,this.limitType=f,this.startAt=m,this.endAt=g,this.Ee=null,this.de=null,this.Ae=null,this.startAt,this.endAt}}function VC(r,t,n,s,o,u,f,m){return new vh(r,t,n,s,o,u,f,m)}function $0(r){return new vh(r)}function Uv(r){return r.filters.length===0&&r.limit===null&&r.startAt==null&&r.endAt==null&&(r.explicitOrderBy.length===0||r.explicitOrderBy.length===1&&r.explicitOrderBy[0].field.isKeyField())}function xC(r){return r.collectionGroup!==null}function Rl(r){const t=St(r);if(t.Ee===null){t.Ee=[];const n=new Set;for(const u of t.explicitOrderBy)t.Ee.push(u),n.add(u.field.canonicalString());const s=t.explicitOrderBy.length>0?t.explicitOrderBy[t.explicitOrderBy.length-1].dir:"asc";(function(f){let m=new Re(He.comparator);return f.filters.forEach(g=>{g.getFlattenedFilters().forEach(y=>{y.isInequality()&&(m=m.add(y.field))})}),m})(t).forEach(u=>{n.has(u.canonicalString())||u.isKeyField()||t.Ee.push(new th(u,s))}),n.has(He.keyField().canonicalString())||t.Ee.push(new th(He.keyField(),s))}return t.Ee}function ai(r){const t=St(r);return t.de||(t.de=PC(t,Rl(r))),t.de}function PC(r,t){if(r.limitType==="F")return kv(r.path,r.collectionGroup,t,r.filters,r.limit,r.startAt,r.endAt);{t=t.map(o=>{const u=o.dir==="desc"?"asc":"desc";return new th(o.field,u)});const n=r.endAt?new Jc(r.endAt.position,r.endAt.inclusive):null,s=r.startAt?new Jc(r.startAt.position,r.startAt.inclusive):null;return kv(r.path,r.collectionGroup,t,r.filters,r.limit,n,s)}}function mm(r,t,n){return new vh(r.path,r.collectionGroup,r.explicitOrderBy.slice(),r.filters.slice(),t,n,r.startAt,r.endAt)}function Eh(r,t){return Xm(ai(r),ai(t))&&r.limitType===t.limitType}function Z0(r){return`${Ym(ai(r))}|lt:${r.limitType}`}function xa(r){return`Query(target=${function(n){let s=n.path.canonicalString();return n.collectionGroup!==null&&(s+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(s+=`, filters: [${n.filters.map(o=>Y0(o)).join(", ")}]`),yh(n.limit)||(s+=", limit: "+n.limit),n.orderBy.length>0&&(s+=`, orderBy: [${n.orderBy.map(o=>function(f){return`${f.field.canonicalString()} (${f.dir})`}(o)).join(", ")}]`),n.startAt&&(s+=", startAt: ",s+=n.startAt.inclusive?"b:":"a:",s+=n.startAt.position.map(o=>Qa(o)).join(",")),n.endAt&&(s+=", endAt: ",s+=n.endAt.inclusive?"a:":"b:",s+=n.endAt.position.map(o=>Qa(o)).join(",")),`Target(${s})`}(ai(r))}; limitType=${r.limitType})`}function Th(r,t){return t.isFoundDocument()&&function(s,o){const u=o.key.path;return s.collectionGroup!==null?o.key.hasCollectionId(s.collectionGroup)&&s.path.isPrefixOf(u):pt.isDocumentKey(s.path)?s.path.isEqual(u):s.path.isImmediateParentOf(u)}(r,t)&&function(s,o){for(const u of Rl(s))if(!u.field.isKeyField()&&o.data.field(u.field)===null)return!1;return!0}(r,t)&&function(s,o){for(const u of s.filters)if(!u.matches(o))return!1;return!0}(r,t)&&function(s,o){return!(s.startAt&&!function(f,m,g){const y=xv(f,m,g);return f.inclusive?y<=0:y<0}(s.startAt,Rl(s),o)||s.endAt&&!function(f,m,g){const y=xv(f,m,g);return f.inclusive?y>=0:y>0}(s.endAt,Rl(s),o))}(r,t)}function kC(r){return r.collectionGroup||(r.path.length%2==1?r.path.lastSegment():r.path.get(r.path.length-2))}function W0(r){return(t,n)=>{let s=!1;for(const o of Rl(r)){const u=UC(o,t,n);if(u!==0)return u;s=s||o.field.isKeyField()}return 0}}function UC(r,t,n){const s=r.field.isKeyField()?pt.comparator(t.key,n.key):function(u,f,m){const g=f.data.field(u),y=m.data.field(u);return g!==null&&y!==null?Ga(g,y):_t(42886)}(r.field,t,n);switch(r.dir){case"asc":return s;case"desc":return-1*s;default:return _t(19790,{direction:r.dir})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ls{constructor(t,n){this.mapKeyFn=t,this.equalsFn=n,this.inner={},this.innerSize=0}get(t){const n=this.mapKeyFn(t),s=this.inner[n];if(s!==void 0){for(const[o,u]of s)if(this.equalsFn(o,t))return u}}has(t){return this.get(t)!==void 0}set(t,n){const s=this.mapKeyFn(t),o=this.inner[s];if(o===void 0)return this.inner[s]=[[t,n]],void this.innerSize++;for(let u=0;u<o.length;u++)if(this.equalsFn(o[u][0],t))return void(o[u]=[t,n]);o.push([t,n]),this.innerSize++}delete(t){const n=this.mapKeyFn(t),s=this.inner[n];if(s===void 0)return!1;for(let o=0;o<s.length;o++)if(this.equalsFn(s[o][0],t))return s.length===1?delete this.inner[n]:s.splice(o,1),this.innerSize--,!0;return!1}forEach(t){Us(this.inner,(n,s)=>{for(const[o,u]of s)t(o,u)})}isEmpty(){return P0(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const LC=new se(pt.comparator);function Yi(){return LC}const J0=new se(pt.comparator);function Tl(...r){let t=J0;for(const n of r)t=t.insert(n.key,n);return t}function tT(r){let t=J0;return r.forEach((n,s)=>t=t.insert(n,s.overlayedDocument)),t}function Cs(){return Il()}function eT(){return Il()}function Il(){return new Ls(r=>r.toString(),(r,t)=>r.isEqual(t))}const zC=new se(pt.comparator),BC=new Re(pt.comparator);function Vt(...r){let t=BC;for(const n of r)t=t.add(n);return t}const HC=new Re(It);function qC(){return HC}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $m(r,t){if(r.useProto3Json){if(isNaN(t))return{doubleValue:"NaN"};if(t===1/0)return{doubleValue:"Infinity"};if(t===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:$c(t)?"-0":t}}function nT(r){return{integerValue:""+r}}function jC(r,t){return pC(t)?nT(t):$m(r,t)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ah{constructor(){this._=void 0}}function FC(r,t,n){return r instanceof eh?function(o,u){const f={fields:{[L0]:{stringValue:U0},[B0]:{timestampValue:{seconds:o.seconds,nanos:o.nanoseconds}}}};return u&&Qm(u)&&(u=_h(u)),u&&(f.fields[z0]=u),{mapValue:f}}(n,t):r instanceof kl?rT(r,t):r instanceof Ul?sT(r,t):function(o,u){const f=iT(o,u),m=Lv(f)+Lv(o.Re);return hm(f)&&hm(o.Re)?nT(m):$m(o.serializer,m)}(r,t)}function GC(r,t,n){return r instanceof kl?rT(r,t):r instanceof Ul?sT(r,t):n}function iT(r,t){return r instanceof nh?function(s){return hm(s)||function(u){return!!u&&"doubleValue"in u}(s)}(t)?t:{integerValue:0}:null}class eh extends Ah{}class kl extends Ah{constructor(t){super(),this.elements=t}}function rT(r,t){const n=aT(t);for(const s of r.elements)n.some(o=>ci(o,s))||n.push(s);return{arrayValue:{values:n}}}class Ul extends Ah{constructor(t){super(),this.elements=t}}function sT(r,t){let n=aT(t);for(const s of r.elements)n=n.filter(o=>!ci(o,s));return{arrayValue:{values:n}}}class nh extends Ah{constructor(t,n){super(),this.serializer=t,this.Re=n}}function Lv(r){return de(r.integerValue||r.doubleValue)}function aT(r){return Km(r)&&r.arrayValue.values?r.arrayValue.values.slice():[]}function QC(r,t){return r.field.isEqual(t.field)&&function(s,o){return s instanceof kl&&o instanceof kl||s instanceof Ul&&o instanceof Ul?Fa(s.elements,o.elements,ci):s instanceof nh&&o instanceof nh?ci(s.Re,o.Re):s instanceof eh&&o instanceof eh}(r.transform,t.transform)}class KC{constructor(t,n){this.version=t,this.transformResults=n}}class oi{constructor(t,n){this.updateTime=t,this.exists=n}static none(){return new oi}static exists(t){return new oi(void 0,t)}static updateTime(t){return new oi(t)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(t){return this.exists===t.exists&&(this.updateTime?!!t.updateTime&&this.updateTime.isEqual(t.updateTime):!t.updateTime)}}function Lc(r,t){return r.updateTime!==void 0?t.isFoundDocument()&&t.version.isEqual(r.updateTime):r.exists===void 0||r.exists===t.isFoundDocument()}class Sh{}function oT(r,t){if(!r.hasLocalMutations||t&&t.fields.length===0)return null;if(t===null)return r.isNoDocument()?new uT(r.key,oi.none()):new Kl(r.key,r.data,oi.none());{const n=r.data,s=In.empty();let o=new Re(He.comparator);for(let u of t.fields)if(!o.has(u)){let f=n.field(u);f===null&&u.length>1&&(u=u.popLast(),f=n.field(u)),f===null?s.delete(u):s.set(u,f),o=o.add(u)}return new zs(r.key,s,new Ln(o.toArray()),oi.none())}}function YC(r,t,n){r instanceof Kl?function(o,u,f){const m=o.value.clone(),g=Bv(o.fieldTransforms,u,f.transformResults);m.setAll(g),u.convertToFoundDocument(f.version,m).setHasCommittedMutations()}(r,t,n):r instanceof zs?function(o,u,f){if(!Lc(o.precondition,u))return void u.convertToUnknownDocument(f.version);const m=Bv(o.fieldTransforms,u,f.transformResults),g=u.data;g.setAll(lT(o)),g.setAll(m),u.convertToFoundDocument(f.version,g).setHasCommittedMutations()}(r,t,n):function(o,u,f){u.convertToNoDocument(f.version).setHasCommittedMutations()}(0,t,n)}function Cl(r,t,n,s){return r instanceof Kl?function(u,f,m,g){if(!Lc(u.precondition,f))return m;const y=u.value.clone(),E=Hv(u.fieldTransforms,g,f);return y.setAll(E),f.convertToFoundDocument(f.version,y).setHasLocalMutations(),null}(r,t,n,s):r instanceof zs?function(u,f,m,g){if(!Lc(u.precondition,f))return m;const y=Hv(u.fieldTransforms,g,f),E=f.data;return E.setAll(lT(u)),E.setAll(y),f.convertToFoundDocument(f.version,E).setHasLocalMutations(),m===null?null:m.unionWith(u.fieldMask.fields).unionWith(u.fieldTransforms.map(b=>b.field))}(r,t,n,s):function(u,f,m){return Lc(u.precondition,f)?(f.convertToNoDocument(f.version).setHasLocalMutations(),null):m}(r,t,n)}function XC(r,t){let n=null;for(const s of r.fieldTransforms){const o=t.data.field(s.field),u=iT(s.transform,o||null);u!=null&&(n===null&&(n=In.empty()),n.set(s.field,u))}return n||null}function zv(r,t){return r.type===t.type&&!!r.key.isEqual(t.key)&&!!r.precondition.isEqual(t.precondition)&&!!function(s,o){return s===void 0&&o===void 0||!(!s||!o)&&Fa(s,o,(u,f)=>QC(u,f))}(r.fieldTransforms,t.fieldTransforms)&&(r.type===0?r.value.isEqual(t.value):r.type!==1||r.data.isEqual(t.data)&&r.fieldMask.isEqual(t.fieldMask))}class Kl extends Sh{constructor(t,n,s,o=[]){super(),this.key=t,this.value=n,this.precondition=s,this.fieldTransforms=o,this.type=0}getFieldMask(){return null}}class zs extends Sh{constructor(t,n,s,o,u=[]){super(),this.key=t,this.data=n,this.fieldMask=s,this.precondition=o,this.fieldTransforms=u,this.type=1}getFieldMask(){return this.fieldMask}}function lT(r){const t=new Map;return r.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const s=r.data.field(n);t.set(n,s)}}),t}function Bv(r,t,n){const s=new Map;jt(r.length===n.length,32656,{Ve:n.length,me:r.length});for(let o=0;o<n.length;o++){const u=r[o],f=u.transform,m=t.data.field(u.field);s.set(u.field,GC(f,m,n[o]))}return s}function Hv(r,t,n){const s=new Map;for(const o of r){const u=o.transform,f=n.data.field(o.field);s.set(o.field,FC(u,f,t))}return s}class uT extends Sh{constructor(t,n){super(),this.key=t,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class $C extends Sh{constructor(t,n){super(),this.key=t,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ZC{constructor(t,n,s,o){this.batchId=t,this.localWriteTime=n,this.baseMutations=s,this.mutations=o}applyToRemoteDocument(t,n){const s=n.mutationResults;for(let o=0;o<this.mutations.length;o++){const u=this.mutations[o];u.key.isEqual(t.key)&&YC(u,t,s[o])}}applyToLocalView(t,n){for(const s of this.baseMutations)s.key.isEqual(t.key)&&(n=Cl(s,t,n,this.localWriteTime));for(const s of this.mutations)s.key.isEqual(t.key)&&(n=Cl(s,t,n,this.localWriteTime));return n}applyToLocalDocumentSet(t,n){const s=eT();return this.mutations.forEach(o=>{const u=t.get(o.key),f=u.overlayedDocument;let m=this.applyToLocalView(f,u.mutatedFields);m=n.has(o.key)?null:m;const g=oT(f,m);g!==null&&s.set(o.key,g),f.isValidDocument()||f.convertToNoDocument(At.min())}),s}keys(){return this.mutations.reduce((t,n)=>t.add(n.key),Vt())}isEqual(t){return this.batchId===t.batchId&&Fa(this.mutations,t.mutations,(n,s)=>zv(n,s))&&Fa(this.baseMutations,t.baseMutations,(n,s)=>zv(n,s))}}class Zm{constructor(t,n,s,o){this.batch=t,this.commitVersion=n,this.mutationResults=s,this.docVersions=o}static from(t,n,s){jt(t.mutations.length===s.length,58842,{fe:t.mutations.length,ge:s.length});let o=function(){return zC}();const u=t.mutations;for(let f=0;f<u.length;f++)o=o.insert(u[f].key,s[f].version);return new Zm(t,n,s,o)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class WC{constructor(t,n){this.largestBatchId=t,this.mutation=n}getKey(){return this.mutation.key}isEqual(t){return t!==null&&this.mutation===t.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class JC{constructor(t,n){this.count=t,this.unchangedNames=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var _e,Ut;function t2(r){switch(r){case et.OK:return _t(64938);case et.CANCELLED:case et.UNKNOWN:case et.DEADLINE_EXCEEDED:case et.RESOURCE_EXHAUSTED:case et.INTERNAL:case et.UNAVAILABLE:case et.UNAUTHENTICATED:return!1;case et.INVALID_ARGUMENT:case et.NOT_FOUND:case et.ALREADY_EXISTS:case et.PERMISSION_DENIED:case et.FAILED_PRECONDITION:case et.ABORTED:case et.OUT_OF_RANGE:case et.UNIMPLEMENTED:case et.DATA_LOSS:return!0;default:return _t(15467,{code:r})}}function cT(r){if(r===void 0)return Ki("GRPC error has no .code"),et.UNKNOWN;switch(r){case _e.OK:return et.OK;case _e.CANCELLED:return et.CANCELLED;case _e.UNKNOWN:return et.UNKNOWN;case _e.DEADLINE_EXCEEDED:return et.DEADLINE_EXCEEDED;case _e.RESOURCE_EXHAUSTED:return et.RESOURCE_EXHAUSTED;case _e.INTERNAL:return et.INTERNAL;case _e.UNAVAILABLE:return et.UNAVAILABLE;case _e.UNAUTHENTICATED:return et.UNAUTHENTICATED;case _e.INVALID_ARGUMENT:return et.INVALID_ARGUMENT;case _e.NOT_FOUND:return et.NOT_FOUND;case _e.ALREADY_EXISTS:return et.ALREADY_EXISTS;case _e.PERMISSION_DENIED:return et.PERMISSION_DENIED;case _e.FAILED_PRECONDITION:return et.FAILED_PRECONDITION;case _e.ABORTED:return et.ABORTED;case _e.OUT_OF_RANGE:return et.OUT_OF_RANGE;case _e.UNIMPLEMENTED:return et.UNIMPLEMENTED;case _e.DATA_LOSS:return et.DATA_LOSS;default:return _t(39323,{code:r})}}(Ut=_e||(_e={}))[Ut.OK=0]="OK",Ut[Ut.CANCELLED=1]="CANCELLED",Ut[Ut.UNKNOWN=2]="UNKNOWN",Ut[Ut.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Ut[Ut.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Ut[Ut.NOT_FOUND=5]="NOT_FOUND",Ut[Ut.ALREADY_EXISTS=6]="ALREADY_EXISTS",Ut[Ut.PERMISSION_DENIED=7]="PERMISSION_DENIED",Ut[Ut.UNAUTHENTICATED=16]="UNAUTHENTICATED",Ut[Ut.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Ut[Ut.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Ut[Ut.ABORTED=10]="ABORTED",Ut[Ut.OUT_OF_RANGE=11]="OUT_OF_RANGE",Ut[Ut.UNIMPLEMENTED=12]="UNIMPLEMENTED",Ut[Ut.INTERNAL=13]="INTERNAL",Ut[Ut.UNAVAILABLE=14]="UNAVAILABLE",Ut[Ut.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const e2=new xr([4294967295,4294967295],0);function qv(r){const t=M0().encode(r),n=new b0;return n.update(t),new Uint8Array(n.digest())}function jv(r){const t=new DataView(r.buffer),n=t.getUint32(0,!0),s=t.getUint32(4,!0),o=t.getUint32(8,!0),u=t.getUint32(12,!0);return[new xr([n,s],0),new xr([o,u],0)]}class Wm{constructor(t,n,s){if(this.bitmap=t,this.padding=n,this.hashCount=s,n<0||n>=8)throw new Al(`Invalid padding: ${n}`);if(s<0)throw new Al(`Invalid hash count: ${s}`);if(t.length>0&&this.hashCount===0)throw new Al(`Invalid hash count: ${s}`);if(t.length===0&&n!==0)throw new Al(`Invalid padding when bitmap length is 0: ${n}`);this.pe=8*t.length-n,this.ye=xr.fromNumber(this.pe)}we(t,n,s){let o=t.add(n.multiply(xr.fromNumber(s)));return o.compare(e2)===1&&(o=new xr([o.getBits(0),o.getBits(1)],0)),o.modulo(this.ye).toNumber()}be(t){return!!(this.bitmap[Math.floor(t/8)]&1<<t%8)}mightContain(t){if(this.pe===0)return!1;const n=qv(t),[s,o]=jv(n);for(let u=0;u<this.hashCount;u++){const f=this.we(s,o,u);if(!this.be(f))return!1}return!0}static create(t,n,s){const o=t%8==0?0:8-t%8,u=new Uint8Array(Math.ceil(t/8)),f=new Wm(u,o,n);return s.forEach(m=>f.insert(m)),f}insert(t){if(this.pe===0)return;const n=qv(t),[s,o]=jv(n);for(let u=0;u<this.hashCount;u++){const f=this.we(s,o,u);this.Se(f)}}Se(t){const n=Math.floor(t/8),s=t%8;this.bitmap[n]|=1<<s}}class Al extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bh{constructor(t,n,s,o,u){this.snapshotVersion=t,this.targetChanges=n,this.targetMismatches=s,this.documentUpdates=o,this.resolvedLimboDocuments=u}static createSynthesizedRemoteEventForCurrentChange(t,n,s){const o=new Map;return o.set(t,Yl.createSynthesizedTargetChangeForCurrentChange(t,n,s)),new bh(At.min(),o,new se(It),Yi(),Vt())}}class Yl{constructor(t,n,s,o,u){this.resumeToken=t,this.current=n,this.addedDocuments=s,this.modifiedDocuments=o,this.removedDocuments=u}static createSynthesizedTargetChangeForCurrentChange(t,n,s){return new Yl(s,n,Vt(),Vt(),Vt())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zc{constructor(t,n,s,o){this.De=t,this.removedTargetIds=n,this.key=s,this.ve=o}}class hT{constructor(t,n){this.targetId=t,this.Ce=n}}class fT{constructor(t,n,s=qe.EMPTY_BYTE_STRING,o=null){this.state=t,this.targetIds=n,this.resumeToken=s,this.cause=o}}class Fv{constructor(){this.Fe=0,this.Me=Gv(),this.xe=qe.EMPTY_BYTE_STRING,this.Oe=!1,this.Ne=!0}get current(){return this.Oe}get resumeToken(){return this.xe}get Be(){return this.Fe!==0}get Le(){return this.Ne}ke(t){t.approximateByteSize()>0&&(this.Ne=!0,this.xe=t)}qe(){let t=Vt(),n=Vt(),s=Vt();return this.Me.forEach((o,u)=>{switch(u){case 0:t=t.add(o);break;case 2:n=n.add(o);break;case 1:s=s.add(o);break;default:_t(38017,{changeType:u})}}),new Yl(this.xe,this.Oe,t,n,s)}Qe(){this.Ne=!1,this.Me=Gv()}$e(t,n){this.Ne=!0,this.Me=this.Me.insert(t,n)}Ue(t){this.Ne=!0,this.Me=this.Me.remove(t)}Ke(){this.Fe+=1}We(){this.Fe-=1,jt(this.Fe>=0,3241,{Fe:this.Fe})}Ge(){this.Ne=!0,this.Oe=!0}}class n2{constructor(t){this.ze=t,this.je=new Map,this.He=Yi(),this.Je=Rc(),this.Ye=Rc(),this.Ze=new se(It)}Xe(t){for(const n of t.De)t.ve&&t.ve.isFoundDocument()?this.et(n,t.ve):this.tt(n,t.key,t.ve);for(const n of t.removedTargetIds)this.tt(n,t.key,t.ve)}nt(t){this.forEachTarget(t,n=>{const s=this.rt(n);switch(t.state){case 0:this.it(n)&&s.ke(t.resumeToken);break;case 1:s.We(),s.Be||s.Qe(),s.ke(t.resumeToken);break;case 2:s.We(),s.Be||this.removeTarget(n);break;case 3:this.it(n)&&(s.Ge(),s.ke(t.resumeToken));break;case 4:this.it(n)&&(this.st(n),s.ke(t.resumeToken));break;default:_t(56790,{state:t.state})}})}forEachTarget(t,n){t.targetIds.length>0?t.targetIds.forEach(n):this.je.forEach((s,o)=>{this.it(o)&&n(o)})}ot(t){const n=t.targetId,s=t.Ce.count,o=this._t(n);if(o){const u=o.target;if(dm(u))if(s===0){const f=new pt(u.path);this.tt(n,f,Ye.newNoDocument(f,At.min()))}else jt(s===1,20013,{expectedCount:s});else{const f=this.ut(n);if(f!==s){const m=this.ct(t),g=m?this.lt(m,t,f):1;if(g!==0){this.st(n);const y=g===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ze=this.Ze.insert(n,y)}}}}}ct(t){const n=t.Ce.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:s="",padding:o=0},hashCount:u=0}=n;let f,m;try{f=zr(s).toUint8Array()}catch(g){if(g instanceof k0)return ja("Decoding the base64 bloom filter in existence filter failed ("+g.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw g}try{m=new Wm(f,o,u)}catch(g){return ja(g instanceof Al?"BloomFilter error: ":"Applying bloom filter failed: ",g),null}return m.pe===0?null:m}lt(t,n,s){return n.Ce.count===s-this.Tt(t,n.targetId)?0:2}Tt(t,n){const s=this.ze.getRemoteKeysForTarget(n);let o=0;return s.forEach(u=>{const f=this.ze.Pt(),m=`projects/${f.projectId}/databases/${f.database}/documents/${u.path.canonicalString()}`;t.mightContain(m)||(this.tt(n,u,null),o++)}),o}It(t){const n=new Map;this.je.forEach((u,f)=>{const m=this._t(f);if(m){if(u.current&&dm(m.target)){const g=new pt(m.target.path);this.Et(g).has(f)||this.dt(f,g)||this.tt(f,g,Ye.newNoDocument(g,t))}u.Le&&(n.set(f,u.qe()),u.Qe())}});let s=Vt();this.Ye.forEach((u,f)=>{let m=!0;f.forEachWhile(g=>{const y=this._t(g);return!y||y.purpose==="TargetPurposeLimboResolution"||(m=!1,!1)}),m&&(s=s.add(u))}),this.He.forEach((u,f)=>f.setReadTime(t));const o=new bh(t,n,this.Ze,this.He,s);return this.He=Yi(),this.Je=Rc(),this.Ye=Rc(),this.Ze=new se(It),o}et(t,n){if(!this.it(t))return;const s=this.dt(t,n.key)?2:0;this.rt(t).$e(n.key,s),this.He=this.He.insert(n.key,n),this.Je=this.Je.insert(n.key,this.Et(n.key).add(t)),this.Ye=this.Ye.insert(n.key,this.At(n.key).add(t))}tt(t,n,s){if(!this.it(t))return;const o=this.rt(t);this.dt(t,n)?o.$e(n,1):o.Ue(n),this.Ye=this.Ye.insert(n,this.At(n).delete(t)),this.Ye=this.Ye.insert(n,this.At(n).add(t)),s&&(this.He=this.He.insert(n,s))}removeTarget(t){this.je.delete(t)}ut(t){const n=this.rt(t).qe();return this.ze.getRemoteKeysForTarget(t).size+n.addedDocuments.size-n.removedDocuments.size}Ke(t){this.rt(t).Ke()}rt(t){let n=this.je.get(t);return n||(n=new Fv,this.je.set(t,n)),n}At(t){let n=this.Ye.get(t);return n||(n=new Re(It),this.Ye=this.Ye.insert(t,n)),n}Et(t){let n=this.Je.get(t);return n||(n=new Re(It),this.Je=this.Je.insert(t,n)),n}it(t){const n=this._t(t)!==null;return n||ot("WatchChangeAggregator","Detected inactive target",t),n}_t(t){const n=this.je.get(t);return n&&n.Be?null:this.ze.Rt(t)}st(t){this.je.set(t,new Fv),this.ze.getRemoteKeysForTarget(t).forEach(n=>{this.tt(t,n,null)})}dt(t,n){return this.ze.getRemoteKeysForTarget(t).has(n)}}function Rc(){return new se(pt.comparator)}function Gv(){return new se(pt.comparator)}const i2={asc:"ASCENDING",desc:"DESCENDING"},r2={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},s2={and:"AND",or:"OR"};class a2{constructor(t,n){this.databaseId=t,this.useProto3Json=n}}function pm(r,t){return r.useProto3Json||yh(t)?t:{value:t}}function ih(r,t){return r.useProto3Json?`${new Date(1e3*t.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+t.nanoseconds).slice(-9)}Z`:{seconds:""+t.seconds,nanos:t.nanoseconds}}function dT(r,t){return r.useProto3Json?t.toBase64():t.toUint8Array()}function o2(r,t){return ih(r,t.toTimestamp())}function li(r){return jt(!!r,49232),At.fromTimestamp(function(n){const s=Lr(n);return new we(s.seconds,s.nanos)}(r))}function Jm(r,t){return gm(r,t).canonicalString()}function gm(r,t){const n=function(o){return new ne(["projects",o.projectId,"databases",o.database])}(r).child("documents");return t===void 0?n:n.child(t)}function mT(r){const t=ne.fromString(r);return jt(vT(t),10190,{key:t.toString()}),t}function ym(r,t){return Jm(r.databaseId,t.path)}function Yd(r,t){const n=mT(t);if(n.get(1)!==r.databaseId.projectId)throw new dt(et.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+r.databaseId.projectId);if(n.get(3)!==r.databaseId.database)throw new dt(et.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+r.databaseId.database);return new pt(gT(n))}function pT(r,t){return Jm(r.databaseId,t)}function l2(r){const t=mT(r);return t.length===4?ne.emptyPath():gT(t)}function _m(r){return new ne(["projects",r.databaseId.projectId,"databases",r.databaseId.database]).canonicalString()}function gT(r){return jt(r.length>4&&r.get(4)==="documents",29091,{key:r.toString()}),r.popFirst(5)}function Qv(r,t,n){return{name:ym(r,t),fields:n.value.mapValue.fields}}function u2(r,t){let n;if("targetChange"in t){t.targetChange;const s=function(y){return y==="NO_CHANGE"?0:y==="ADD"?1:y==="REMOVE"?2:y==="CURRENT"?3:y==="RESET"?4:_t(39313,{state:y})}(t.targetChange.targetChangeType||"NO_CHANGE"),o=t.targetChange.targetIds||[],u=function(y,E){return y.useProto3Json?(jt(E===void 0||typeof E=="string",58123),qe.fromBase64String(E||"")):(jt(E===void 0||E instanceof Buffer||E instanceof Uint8Array,16193),qe.fromUint8Array(E||new Uint8Array))}(r,t.targetChange.resumeToken),f=t.targetChange.cause,m=f&&function(y){const E=y.code===void 0?et.UNKNOWN:cT(y.code);return new dt(E,y.message||"")}(f);n=new fT(s,o,u,m||null)}else if("documentChange"in t){t.documentChange;const s=t.documentChange;s.document,s.document.name,s.document.updateTime;const o=Yd(r,s.document.name),u=li(s.document.updateTime),f=s.document.createTime?li(s.document.createTime):At.min(),m=new In({mapValue:{fields:s.document.fields}}),g=Ye.newFoundDocument(o,u,f,m),y=s.targetIds||[],E=s.removedTargetIds||[];n=new zc(y,E,g.key,g)}else if("documentDelete"in t){t.documentDelete;const s=t.documentDelete;s.document;const o=Yd(r,s.document),u=s.readTime?li(s.readTime):At.min(),f=Ye.newNoDocument(o,u),m=s.removedTargetIds||[];n=new zc([],m,f.key,f)}else if("documentRemove"in t){t.documentRemove;const s=t.documentRemove;s.document;const o=Yd(r,s.document),u=s.removedTargetIds||[];n=new zc([],u,o,null)}else{if(!("filter"in t))return _t(11601,{Vt:t});{t.filter;const s=t.filter;s.targetId;const{count:o=0,unchangedNames:u}=s,f=new JC(o,u),m=s.targetId;n=new hT(m,f)}}return n}function c2(r,t){let n;if(t instanceof Kl)n={update:Qv(r,t.key,t.value)};else if(t instanceof uT)n={delete:ym(r,t.key)};else if(t instanceof zs)n={update:Qv(r,t.key,t.data),updateMask:v2(t.fieldMask)};else{if(!(t instanceof $C))return _t(16599,{ft:t.type});n={verify:ym(r,t.key)}}return t.fieldTransforms.length>0&&(n.updateTransforms=t.fieldTransforms.map(s=>function(u,f){const m=f.transform;if(m instanceof eh)return{fieldPath:f.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(m instanceof kl)return{fieldPath:f.field.canonicalString(),appendMissingElements:{values:m.elements}};if(m instanceof Ul)return{fieldPath:f.field.canonicalString(),removeAllFromArray:{values:m.elements}};if(m instanceof nh)return{fieldPath:f.field.canonicalString(),increment:m.Re};throw _t(20930,{transform:f.transform})}(0,s))),t.precondition.isNone||(n.currentDocument=function(o,u){return u.updateTime!==void 0?{updateTime:o2(o,u.updateTime)}:u.exists!==void 0?{exists:u.exists}:_t(27497)}(r,t.precondition)),n}function h2(r,t){return r&&r.length>0?(jt(t!==void 0,14353),r.map(n=>function(o,u){let f=o.updateTime?li(o.updateTime):li(u);return f.isEqual(At.min())&&(f=li(u)),new KC(f,o.transformResults||[])}(n,t))):[]}function f2(r,t){return{documents:[pT(r,t.path)]}}function d2(r,t){const n={structuredQuery:{}},s=t.path;let o;t.collectionGroup!==null?(o=s,n.structuredQuery.from=[{collectionId:t.collectionGroup,allDescendants:!0}]):(o=s.popLast(),n.structuredQuery.from=[{collectionId:s.lastSegment()}]),n.parent=pT(r,o);const u=function(y){if(y.length!==0)return _T(hi.create(y,"and"))}(t.filters);u&&(n.structuredQuery.where=u);const f=function(y){if(y.length!==0)return y.map(E=>function(S){return{field:Pa(S.field),direction:g2(S.dir)}}(E))}(t.orderBy);f&&(n.structuredQuery.orderBy=f);const m=pm(r,t.limit);return m!==null&&(n.structuredQuery.limit=m),t.startAt&&(n.structuredQuery.startAt=function(y){return{before:y.inclusive,values:y.position}}(t.startAt)),t.endAt&&(n.structuredQuery.endAt=function(y){return{before:!y.inclusive,values:y.position}}(t.endAt)),{gt:n,parent:o}}function m2(r){let t=l2(r.parent);const n=r.structuredQuery,s=n.from?n.from.length:0;let o=null;if(s>0){jt(s===1,65062);const E=n.from[0];E.allDescendants?o=E.collectionId:t=t.child(E.collectionId)}let u=[];n.where&&(u=function(b){const S=yT(b);return S instanceof hi&&Q0(S)?S.getFilters():[S]}(n.where));let f=[];n.orderBy&&(f=function(b){return b.map(S=>function(P){return new th(ka(P.field),function(F){switch(F){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(P.direction))}(S))}(n.orderBy));let m=null;n.limit&&(m=function(b){let S;return S=typeof b=="object"?b.value:b,yh(S)?null:S}(n.limit));let g=null;n.startAt&&(g=function(b){const S=!!b.before,L=b.values||[];return new Jc(L,S)}(n.startAt));let y=null;return n.endAt&&(y=function(b){const S=!b.before,L=b.values||[];return new Jc(L,S)}(n.endAt)),VC(t,o,f,u,m,"F",g,y)}function p2(r,t){const n=function(o){switch(o){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return _t(28987,{purpose:o})}}(t.purpose);return n==null?null:{"goog-listen-tags":n}}function yT(r){return r.unaryFilter!==void 0?function(n){switch(n.unaryFilter.op){case"IS_NAN":const s=ka(n.unaryFilter.field);return be.create(s,"==",{doubleValue:NaN});case"IS_NULL":const o=ka(n.unaryFilter.field);return be.create(o,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const u=ka(n.unaryFilter.field);return be.create(u,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const f=ka(n.unaryFilter.field);return be.create(f,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return _t(61313);default:return _t(60726)}}(r):r.fieldFilter!==void 0?function(n){return be.create(ka(n.fieldFilter.field),function(o){switch(o){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return _t(58110);default:return _t(50506)}}(n.fieldFilter.op),n.fieldFilter.value)}(r):r.compositeFilter!==void 0?function(n){return hi.create(n.compositeFilter.filters.map(s=>yT(s)),function(o){switch(o){case"AND":return"and";case"OR":return"or";default:return _t(1026)}}(n.compositeFilter.op))}(r):_t(30097,{filter:r})}function g2(r){return i2[r]}function y2(r){return r2[r]}function _2(r){return s2[r]}function Pa(r){return{fieldPath:r.canonicalString()}}function ka(r){return He.fromServerFormat(r.fieldPath)}function _T(r){return r instanceof be?function(n){if(n.op==="=="){if(Vv(n.value))return{unaryFilter:{field:Pa(n.field),op:"IS_NAN"}};if(Mv(n.value))return{unaryFilter:{field:Pa(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(Vv(n.value))return{unaryFilter:{field:Pa(n.field),op:"IS_NOT_NAN"}};if(Mv(n.value))return{unaryFilter:{field:Pa(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Pa(n.field),op:y2(n.op),value:n.value}}}(r):r instanceof hi?function(n){const s=n.getFilters().map(o=>_T(o));return s.length===1?s[0]:{compositeFilter:{op:_2(n.op),filters:s}}}(r):_t(54877,{filter:r})}function v2(r){const t=[];return r.fields.forEach(n=>t.push(n.canonicalString())),{fieldPaths:t}}function vT(r){return r.length>=4&&r.get(0)==="projects"&&r.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Or{constructor(t,n,s,o,u=At.min(),f=At.min(),m=qe.EMPTY_BYTE_STRING,g=null){this.target=t,this.targetId=n,this.purpose=s,this.sequenceNumber=o,this.snapshotVersion=u,this.lastLimboFreeSnapshotVersion=f,this.resumeToken=m,this.expectedCount=g}withSequenceNumber(t){return new Or(this.target,this.targetId,this.purpose,t,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(t,n){return new Or(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,t,null)}withExpectedCount(t){return new Or(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,t)}withLastLimboFreeSnapshotVersion(t){return new Or(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,t,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class E2{constructor(t){this.wt=t}}function T2(r){const t=m2({parent:r.parent,structuredQuery:r.structuredQuery});return r.limitType==="LAST"?mm(t,t.limit,"L"):t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class A2{constructor(){this.Cn=new S2}addToCollectionParentIndex(t,n){return this.Cn.add(n),W.resolve()}getCollectionParents(t,n){return W.resolve(this.Cn.getEntries(n))}addFieldIndex(t,n){return W.resolve()}deleteFieldIndex(t,n){return W.resolve()}deleteAllFieldIndexes(t){return W.resolve()}createTargetIndexes(t,n){return W.resolve()}getDocumentsMatchingTarget(t,n){return W.resolve(null)}getIndexType(t,n){return W.resolve(0)}getFieldIndexes(t,n){return W.resolve([])}getNextCollectionGroupToUpdate(t){return W.resolve(null)}getMinOffset(t,n){return W.resolve(Ur.min())}getMinOffsetFromCollectionGroup(t,n){return W.resolve(Ur.min())}updateCollectionGroup(t,n,s){return W.resolve()}updateIndexEntries(t,n){return W.resolve()}}class S2{constructor(){this.index={}}add(t){const n=t.lastSegment(),s=t.popLast(),o=this.index[n]||new Re(ne.comparator),u=!o.has(s);return this.index[n]=o.add(s),u}has(t){const n=t.lastSegment(),s=t.popLast(),o=this.index[n];return o&&o.has(s)}getEntries(t){return(this.index[t]||new Re(ne.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Kv={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},ET=41943040;class rn{static withCacheSize(t){return new rn(t,rn.DEFAULT_COLLECTION_PERCENTILE,rn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(t,n,s){this.cacheSizeCollectionThreshold=t,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=s}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */rn.DEFAULT_COLLECTION_PERCENTILE=10,rn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,rn.DEFAULT=new rn(ET,rn.DEFAULT_COLLECTION_PERCENTILE,rn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),rn.DISABLED=new rn(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ka{constructor(t){this.ur=t}next(){return this.ur+=2,this.ur}static cr(){return new Ka(0)}static lr(){return new Ka(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Yv="LruGarbageCollector",b2=1048576;function Xv([r,t],[n,s]){const o=It(r,n);return o===0?It(t,s):o}class w2{constructor(t){this.Er=t,this.buffer=new Re(Xv),this.dr=0}Ar(){return++this.dr}Rr(t){const n=[t,this.Ar()];if(this.buffer.size<this.Er)this.buffer=this.buffer.add(n);else{const s=this.buffer.last();Xv(n,s)<0&&(this.buffer=this.buffer.delete(s).add(n))}}get maxValue(){return this.buffer.last()[0]}}class R2{constructor(t,n,s){this.garbageCollector=t,this.asyncQueue=n,this.localStore=s,this.Vr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.mr(6e4)}stop(){this.Vr&&(this.Vr.cancel(),this.Vr=null)}get started(){return this.Vr!==null}mr(t){ot(Yv,`Garbage collection scheduled in ${t}ms`),this.Vr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",t,async()=>{this.Vr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(n){io(n)?ot(Yv,"Ignoring IndexedDB error during garbage collection: ",n):await no(n)}await this.mr(3e5)})}}class I2{constructor(t,n){this.gr=t,this.params=n}calculateTargetCount(t,n){return this.gr.pr(t).next(s=>Math.floor(n/100*s))}nthSequenceNumber(t,n){if(n===0)return W.resolve(gh.le);const s=new w2(n);return this.gr.forEachTarget(t,o=>s.Rr(o.sequenceNumber)).next(()=>this.gr.yr(t,o=>s.Rr(o))).next(()=>s.maxValue)}removeTargets(t,n,s){return this.gr.removeTargets(t,n,s)}removeOrphanedDocuments(t,n){return this.gr.removeOrphanedDocuments(t,n)}collect(t,n){return this.params.cacheSizeCollectionThreshold===-1?(ot("LruGarbageCollector","Garbage collection skipped; disabled"),W.resolve(Kv)):this.getCacheSize(t).next(s=>s<this.params.cacheSizeCollectionThreshold?(ot("LruGarbageCollector",`Garbage collection skipped; Cache size ${s} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),Kv):this.wr(t,n))}getCacheSize(t){return this.gr.getCacheSize(t)}wr(t,n){let s,o,u,f,m,g,y;const E=Date.now();return this.calculateTargetCount(t,this.params.percentileToCollect).next(b=>(b>this.params.maximumSequenceNumbersToCollect?(ot("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${b}`),o=this.params.maximumSequenceNumbersToCollect):o=b,f=Date.now(),this.nthSequenceNumber(t,o))).next(b=>(s=b,m=Date.now(),this.removeTargets(t,s,n))).next(b=>(u=b,g=Date.now(),this.removeOrphanedDocuments(t,s))).next(b=>(y=Date.now(),Va()<=Mt.DEBUG&&ot("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${f-E}ms
	Determined least recently used ${o} in `+(m-f)+`ms
	Removed ${u} targets in `+(g-m)+`ms
	Removed ${b} documents in `+(y-g)+`ms
Total Duration: ${y-E}ms`),W.resolve({didRun:!0,sequenceNumbersCollected:o,targetsRemoved:u,documentsRemoved:b})))}}function C2(r,t){return new I2(r,t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class D2{constructor(){this.changes=new Ls(t=>t.toString(),(t,n)=>t.isEqual(n)),this.changesApplied=!1}addEntry(t){this.assertNotApplied(),this.changes.set(t.key,t)}removeEntry(t,n){this.assertNotApplied(),this.changes.set(t,Ye.newInvalidDocument(t).setReadTime(n))}getEntry(t,n){this.assertNotApplied();const s=this.changes.get(n);return s!==void 0?W.resolve(s):this.getFromCache(t,n)}getEntries(t,n){return this.getAllFromCache(t,n)}apply(t){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(t)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class O2{constructor(t,n){this.overlayedDocument=t,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class N2{constructor(t,n,s,o){this.remoteDocumentCache=t,this.mutationQueue=n,this.documentOverlayCache=s,this.indexManager=o}getDocument(t,n){let s=null;return this.documentOverlayCache.getOverlay(t,n).next(o=>(s=o,this.remoteDocumentCache.getEntry(t,n))).next(o=>(s!==null&&Cl(s.mutation,o,Ln.empty(),we.now()),o))}getDocuments(t,n){return this.remoteDocumentCache.getEntries(t,n).next(s=>this.getLocalViewOfDocuments(t,s,Vt()).next(()=>s))}getLocalViewOfDocuments(t,n,s=Vt()){const o=Cs();return this.populateOverlays(t,o,n).next(()=>this.computeViews(t,n,o,s).next(u=>{let f=Tl();return u.forEach((m,g)=>{f=f.insert(m,g.overlayedDocument)}),f}))}getOverlayedDocuments(t,n){const s=Cs();return this.populateOverlays(t,s,n).next(()=>this.computeViews(t,n,s,Vt()))}populateOverlays(t,n,s){const o=[];return s.forEach(u=>{n.has(u)||o.push(u)}),this.documentOverlayCache.getOverlays(t,o).next(u=>{u.forEach((f,m)=>{n.set(f,m)})})}computeViews(t,n,s,o){let u=Yi();const f=Il(),m=function(){return Il()}();return n.forEach((g,y)=>{const E=s.get(y.key);o.has(y.key)&&(E===void 0||E.mutation instanceof zs)?u=u.insert(y.key,y):E!==void 0?(f.set(y.key,E.mutation.getFieldMask()),Cl(E.mutation,y,E.mutation.getFieldMask(),we.now())):f.set(y.key,Ln.empty())}),this.recalculateAndSaveOverlays(t,u).next(g=>(g.forEach((y,E)=>f.set(y,E)),n.forEach((y,E)=>{var b;return m.set(y,new O2(E,(b=f.get(y))!==null&&b!==void 0?b:null))}),m))}recalculateAndSaveOverlays(t,n){const s=Il();let o=new se((f,m)=>f-m),u=Vt();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(t,n).next(f=>{for(const m of f)m.keys().forEach(g=>{const y=n.get(g);if(y===null)return;let E=s.get(g)||Ln.empty();E=m.applyToLocalView(y,E),s.set(g,E);const b=(o.get(m.batchId)||Vt()).add(g);o=o.insert(m.batchId,b)})}).next(()=>{const f=[],m=o.getReverseIterator();for(;m.hasNext();){const g=m.getNext(),y=g.key,E=g.value,b=eT();E.forEach(S=>{if(!u.has(S)){const L=oT(n.get(S),s.get(S));L!==null&&b.set(S,L),u=u.add(S)}}),f.push(this.documentOverlayCache.saveOverlays(t,y,b))}return W.waitFor(f)}).next(()=>s)}recalculateAndSaveOverlaysForDocumentKeys(t,n){return this.remoteDocumentCache.getEntries(t,n).next(s=>this.recalculateAndSaveOverlays(t,s))}getDocumentsMatchingQuery(t,n,s,o){return function(f){return pt.isDocumentKey(f.path)&&f.collectionGroup===null&&f.filters.length===0}(n)?this.getDocumentsMatchingDocumentQuery(t,n.path):xC(n)?this.getDocumentsMatchingCollectionGroupQuery(t,n,s,o):this.getDocumentsMatchingCollectionQuery(t,n,s,o)}getNextDocuments(t,n,s,o){return this.remoteDocumentCache.getAllFromCollectionGroup(t,n,s,o).next(u=>{const f=o-u.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(t,n,s.largestBatchId,o-u.size):W.resolve(Cs());let m=Ml,g=u;return f.next(y=>W.forEach(y,(E,b)=>(m<b.largestBatchId&&(m=b.largestBatchId),u.get(E)?W.resolve():this.remoteDocumentCache.getEntry(t,E).next(S=>{g=g.insert(E,S)}))).next(()=>this.populateOverlays(t,y,u)).next(()=>this.computeViews(t,g,y,Vt())).next(E=>({batchId:m,changes:tT(E)})))})}getDocumentsMatchingDocumentQuery(t,n){return this.getDocument(t,new pt(n)).next(s=>{let o=Tl();return s.isFoundDocument()&&(o=o.insert(s.key,s)),o})}getDocumentsMatchingCollectionGroupQuery(t,n,s,o){const u=n.collectionGroup;let f=Tl();return this.indexManager.getCollectionParents(t,u).next(m=>W.forEach(m,g=>{const y=function(b,S){return new vh(S,null,b.explicitOrderBy.slice(),b.filters.slice(),b.limit,b.limitType,b.startAt,b.endAt)}(n,g.child(u));return this.getDocumentsMatchingCollectionQuery(t,y,s,o).next(E=>{E.forEach((b,S)=>{f=f.insert(b,S)})})}).next(()=>f))}getDocumentsMatchingCollectionQuery(t,n,s,o){let u;return this.documentOverlayCache.getOverlaysForCollection(t,n.path,s.largestBatchId).next(f=>(u=f,this.remoteDocumentCache.getDocumentsMatchingQuery(t,n,s,u,o))).next(f=>{u.forEach((g,y)=>{const E=y.getKey();f.get(E)===null&&(f=f.insert(E,Ye.newInvalidDocument(E)))});let m=Tl();return f.forEach((g,y)=>{const E=u.get(g);E!==void 0&&Cl(E.mutation,y,Ln.empty(),we.now()),Th(n,y)&&(m=m.insert(g,y))}),m})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class M2{constructor(t){this.serializer=t,this.kr=new Map,this.qr=new Map}getBundleMetadata(t,n){return W.resolve(this.kr.get(n))}saveBundleMetadata(t,n){return this.kr.set(n.id,function(o){return{id:o.id,version:o.version,createTime:li(o.createTime)}}(n)),W.resolve()}getNamedQuery(t,n){return W.resolve(this.qr.get(n))}saveNamedQuery(t,n){return this.qr.set(n.name,function(o){return{name:o.name,query:T2(o.bundledQuery),readTime:li(o.readTime)}}(n)),W.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class V2{constructor(){this.overlays=new se(pt.comparator),this.Qr=new Map}getOverlay(t,n){return W.resolve(this.overlays.get(n))}getOverlays(t,n){const s=Cs();return W.forEach(n,o=>this.getOverlay(t,o).next(u=>{u!==null&&s.set(o,u)})).next(()=>s)}saveOverlays(t,n,s){return s.forEach((o,u)=>{this.St(t,n,u)}),W.resolve()}removeOverlaysForBatchId(t,n,s){const o=this.Qr.get(s);return o!==void 0&&(o.forEach(u=>this.overlays=this.overlays.remove(u)),this.Qr.delete(s)),W.resolve()}getOverlaysForCollection(t,n,s){const o=Cs(),u=n.length+1,f=new pt(n.child("")),m=this.overlays.getIteratorFrom(f);for(;m.hasNext();){const g=m.getNext().value,y=g.getKey();if(!n.isPrefixOf(y.path))break;y.path.length===u&&g.largestBatchId>s&&o.set(g.getKey(),g)}return W.resolve(o)}getOverlaysForCollectionGroup(t,n,s,o){let u=new se((y,E)=>y-E);const f=this.overlays.getIterator();for(;f.hasNext();){const y=f.getNext().value;if(y.getKey().getCollectionGroup()===n&&y.largestBatchId>s){let E=u.get(y.largestBatchId);E===null&&(E=Cs(),u=u.insert(y.largestBatchId,E)),E.set(y.getKey(),y)}}const m=Cs(),g=u.getIterator();for(;g.hasNext()&&(g.getNext().value.forEach((y,E)=>m.set(y,E)),!(m.size()>=o)););return W.resolve(m)}St(t,n,s){const o=this.overlays.get(s.key);if(o!==null){const f=this.Qr.get(o.largestBatchId).delete(s.key);this.Qr.set(o.largestBatchId,f)}this.overlays=this.overlays.insert(s.key,new WC(n,s));let u=this.Qr.get(n);u===void 0&&(u=Vt(),this.Qr.set(n,u)),this.Qr.set(n,u.add(s.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class x2{constructor(){this.sessionToken=qe.EMPTY_BYTE_STRING}getSessionToken(t){return W.resolve(this.sessionToken)}setSessionToken(t,n){return this.sessionToken=n,W.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tp{constructor(){this.$r=new Re(Ve.Ur),this.Kr=new Re(Ve.Wr)}isEmpty(){return this.$r.isEmpty()}addReference(t,n){const s=new Ve(t,n);this.$r=this.$r.add(s),this.Kr=this.Kr.add(s)}Gr(t,n){t.forEach(s=>this.addReference(s,n))}removeReference(t,n){this.zr(new Ve(t,n))}jr(t,n){t.forEach(s=>this.removeReference(s,n))}Hr(t){const n=new pt(new ne([])),s=new Ve(n,t),o=new Ve(n,t+1),u=[];return this.Kr.forEachInRange([s,o],f=>{this.zr(f),u.push(f.key)}),u}Jr(){this.$r.forEach(t=>this.zr(t))}zr(t){this.$r=this.$r.delete(t),this.Kr=this.Kr.delete(t)}Yr(t){const n=new pt(new ne([])),s=new Ve(n,t),o=new Ve(n,t+1);let u=Vt();return this.Kr.forEachInRange([s,o],f=>{u=u.add(f.key)}),u}containsKey(t){const n=new Ve(t,0),s=this.$r.firstAfterOrEqual(n);return s!==null&&t.isEqual(s.key)}}class Ve{constructor(t,n){this.key=t,this.Zr=n}static Ur(t,n){return pt.comparator(t.key,n.key)||It(t.Zr,n.Zr)}static Wr(t,n){return It(t.Zr,n.Zr)||pt.comparator(t.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class P2{constructor(t,n){this.indexManager=t,this.referenceDelegate=n,this.mutationQueue=[],this.nr=1,this.Xr=new Re(Ve.Ur)}checkEmpty(t){return W.resolve(this.mutationQueue.length===0)}addMutationBatch(t,n,s,o){const u=this.nr;this.nr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const f=new ZC(u,n,s,o);this.mutationQueue.push(f);for(const m of o)this.Xr=this.Xr.add(new Ve(m.key,u)),this.indexManager.addToCollectionParentIndex(t,m.key.path.popLast());return W.resolve(f)}lookupMutationBatch(t,n){return W.resolve(this.ei(n))}getNextMutationBatchAfterBatchId(t,n){const s=n+1,o=this.ti(s),u=o<0?0:o;return W.resolve(this.mutationQueue.length>u?this.mutationQueue[u]:null)}getHighestUnacknowledgedBatchId(){return W.resolve(this.mutationQueue.length===0?Gm:this.nr-1)}getAllMutationBatches(t){return W.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(t,n){const s=new Ve(n,0),o=new Ve(n,Number.POSITIVE_INFINITY),u=[];return this.Xr.forEachInRange([s,o],f=>{const m=this.ei(f.Zr);u.push(m)}),W.resolve(u)}getAllMutationBatchesAffectingDocumentKeys(t,n){let s=new Re(It);return n.forEach(o=>{const u=new Ve(o,0),f=new Ve(o,Number.POSITIVE_INFINITY);this.Xr.forEachInRange([u,f],m=>{s=s.add(m.Zr)})}),W.resolve(this.ni(s))}getAllMutationBatchesAffectingQuery(t,n){const s=n.path,o=s.length+1;let u=s;pt.isDocumentKey(u)||(u=u.child(""));const f=new Ve(new pt(u),0);let m=new Re(It);return this.Xr.forEachWhile(g=>{const y=g.key.path;return!!s.isPrefixOf(y)&&(y.length===o&&(m=m.add(g.Zr)),!0)},f),W.resolve(this.ni(m))}ni(t){const n=[];return t.forEach(s=>{const o=this.ei(s);o!==null&&n.push(o)}),n}removeMutationBatch(t,n){jt(this.ri(n.batchId,"removed")===0,55003),this.mutationQueue.shift();let s=this.Xr;return W.forEach(n.mutations,o=>{const u=new Ve(o.key,n.batchId);return s=s.delete(u),this.referenceDelegate.markPotentiallyOrphaned(t,o.key)}).next(()=>{this.Xr=s})}sr(t){}containsKey(t,n){const s=new Ve(n,0),o=this.Xr.firstAfterOrEqual(s);return W.resolve(n.isEqual(o&&o.key))}performConsistencyCheck(t){return this.mutationQueue.length,W.resolve()}ri(t,n){return this.ti(t)}ti(t){return this.mutationQueue.length===0?0:t-this.mutationQueue[0].batchId}ei(t){const n=this.ti(t);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class k2{constructor(t){this.ii=t,this.docs=function(){return new se(pt.comparator)}(),this.size=0}setIndexManager(t){this.indexManager=t}addEntry(t,n){const s=n.key,o=this.docs.get(s),u=o?o.size:0,f=this.ii(n);return this.docs=this.docs.insert(s,{document:n.mutableCopy(),size:f}),this.size+=f-u,this.indexManager.addToCollectionParentIndex(t,s.path.popLast())}removeEntry(t){const n=this.docs.get(t);n&&(this.docs=this.docs.remove(t),this.size-=n.size)}getEntry(t,n){const s=this.docs.get(n);return W.resolve(s?s.document.mutableCopy():Ye.newInvalidDocument(n))}getEntries(t,n){let s=Yi();return n.forEach(o=>{const u=this.docs.get(o);s=s.insert(o,u?u.document.mutableCopy():Ye.newInvalidDocument(o))}),W.resolve(s)}getDocumentsMatchingQuery(t,n,s,o){let u=Yi();const f=n.path,m=new pt(f.child("__id-9223372036854775808__")),g=this.docs.getIteratorFrom(m);for(;g.hasNext();){const{key:y,value:{document:E}}=g.getNext();if(!f.isPrefixOf(y.path))break;y.path.length>f.length+1||hC(cC(E),s)<=0||(o.has(E.key)||Th(n,E))&&(u=u.insert(E.key,E.mutableCopy()))}return W.resolve(u)}getAllFromCollectionGroup(t,n,s,o){_t(9500)}si(t,n){return W.forEach(this.docs,s=>n(s))}newChangeBuffer(t){return new U2(this)}getSize(t){return W.resolve(this.size)}}class U2 extends D2{constructor(t){super(),this.Br=t}applyChanges(t){const n=[];return this.changes.forEach((s,o)=>{o.isValidDocument()?n.push(this.Br.addEntry(t,o)):this.Br.removeEntry(s)}),W.waitFor(n)}getFromCache(t,n){return this.Br.getEntry(t,n)}getAllFromCache(t,n){return this.Br.getEntries(t,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class L2{constructor(t){this.persistence=t,this.oi=new Ls(n=>Ym(n),Xm),this.lastRemoteSnapshotVersion=At.min(),this.highestTargetId=0,this._i=0,this.ai=new tp,this.targetCount=0,this.ui=Ka.cr()}forEachTarget(t,n){return this.oi.forEach((s,o)=>n(o)),W.resolve()}getLastRemoteSnapshotVersion(t){return W.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(t){return W.resolve(this._i)}allocateTargetId(t){return this.highestTargetId=this.ui.next(),W.resolve(this.highestTargetId)}setTargetsMetadata(t,n,s){return s&&(this.lastRemoteSnapshotVersion=s),n>this._i&&(this._i=n),W.resolve()}Tr(t){this.oi.set(t.target,t);const n=t.targetId;n>this.highestTargetId&&(this.ui=new Ka(n),this.highestTargetId=n),t.sequenceNumber>this._i&&(this._i=t.sequenceNumber)}addTargetData(t,n){return this.Tr(n),this.targetCount+=1,W.resolve()}updateTargetData(t,n){return this.Tr(n),W.resolve()}removeTargetData(t,n){return this.oi.delete(n.target),this.ai.Hr(n.targetId),this.targetCount-=1,W.resolve()}removeTargets(t,n,s){let o=0;const u=[];return this.oi.forEach((f,m)=>{m.sequenceNumber<=n&&s.get(m.targetId)===null&&(this.oi.delete(f),u.push(this.removeMatchingKeysForTargetId(t,m.targetId)),o++)}),W.waitFor(u).next(()=>o)}getTargetCount(t){return W.resolve(this.targetCount)}getTargetData(t,n){const s=this.oi.get(n)||null;return W.resolve(s)}addMatchingKeys(t,n,s){return this.ai.Gr(n,s),W.resolve()}removeMatchingKeys(t,n,s){this.ai.jr(n,s);const o=this.persistence.referenceDelegate,u=[];return o&&n.forEach(f=>{u.push(o.markPotentiallyOrphaned(t,f))}),W.waitFor(u)}removeMatchingKeysForTargetId(t,n){return this.ai.Hr(n),W.resolve()}getMatchingKeysForTargetId(t,n){const s=this.ai.Yr(n);return W.resolve(s)}containsKey(t,n){return W.resolve(this.ai.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TT{constructor(t,n){this.ci={},this.overlays={},this.li=new gh(0),this.hi=!1,this.hi=!0,this.Pi=new x2,this.referenceDelegate=t(this),this.Ti=new L2(this),this.indexManager=new A2,this.remoteDocumentCache=function(o){return new k2(o)}(s=>this.referenceDelegate.Ii(s)),this.serializer=new E2(n),this.Ei=new M2(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.hi=!1,Promise.resolve()}get started(){return this.hi}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(t){return this.indexManager}getDocumentOverlayCache(t){let n=this.overlays[t.toKey()];return n||(n=new V2,this.overlays[t.toKey()]=n),n}getMutationQueue(t,n){let s=this.ci[t.toKey()];return s||(s=new P2(n,this.referenceDelegate),this.ci[t.toKey()]=s),s}getGlobalsCache(){return this.Pi}getTargetCache(){return this.Ti}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ei}runTransaction(t,n,s){ot("MemoryPersistence","Starting transaction:",t);const o=new z2(this.li.next());return this.referenceDelegate.di(),s(o).next(u=>this.referenceDelegate.Ai(o).next(()=>u)).toPromise().then(u=>(o.raiseOnCommittedEvent(),u))}Ri(t,n){return W.or(Object.values(this.ci).map(s=>()=>s.containsKey(t,n)))}}class z2 extends dC{constructor(t){super(),this.currentSequenceNumber=t}}class ep{constructor(t){this.persistence=t,this.Vi=new tp,this.mi=null}static fi(t){return new ep(t)}get gi(){if(this.mi)return this.mi;throw _t(60996)}addReference(t,n,s){return this.Vi.addReference(s,n),this.gi.delete(s.toString()),W.resolve()}removeReference(t,n,s){return this.Vi.removeReference(s,n),this.gi.add(s.toString()),W.resolve()}markPotentiallyOrphaned(t,n){return this.gi.add(n.toString()),W.resolve()}removeTarget(t,n){this.Vi.Hr(n.targetId).forEach(o=>this.gi.add(o.toString()));const s=this.persistence.getTargetCache();return s.getMatchingKeysForTargetId(t,n.targetId).next(o=>{o.forEach(u=>this.gi.add(u.toString()))}).next(()=>s.removeTargetData(t,n))}di(){this.mi=new Set}Ai(t){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return W.forEach(this.gi,s=>{const o=pt.fromPath(s);return this.pi(t,o).next(u=>{u||n.removeEntry(o,At.min())})}).next(()=>(this.mi=null,n.apply(t)))}updateLimboDocument(t,n){return this.pi(t,n).next(s=>{s?this.gi.delete(n.toString()):this.gi.add(n.toString())})}Ii(t){return 0}pi(t,n){return W.or([()=>W.resolve(this.Vi.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(t,n),()=>this.persistence.Ri(t,n)])}}class rh{constructor(t,n){this.persistence=t,this.yi=new Ls(s=>gC(s.path),(s,o)=>s.isEqual(o)),this.garbageCollector=C2(this,n)}static fi(t,n){return new rh(t,n)}di(){}Ai(t){return W.resolve()}forEachTarget(t,n){return this.persistence.getTargetCache().forEachTarget(t,n)}pr(t){const n=this.br(t);return this.persistence.getTargetCache().getTargetCount(t).next(s=>n.next(o=>s+o))}br(t){let n=0;return this.yr(t,s=>{n++}).next(()=>n)}yr(t,n){return W.forEach(this.yi,(s,o)=>this.Dr(t,s,o).next(u=>u?W.resolve():n(o)))}removeTargets(t,n,s){return this.persistence.getTargetCache().removeTargets(t,n,s)}removeOrphanedDocuments(t,n){let s=0;const o=this.persistence.getRemoteDocumentCache(),u=o.newChangeBuffer();return o.si(t,f=>this.Dr(t,f,n).next(m=>{m||(s++,u.removeEntry(f,At.min()))})).next(()=>u.apply(t)).next(()=>s)}markPotentiallyOrphaned(t,n){return this.yi.set(n,t.currentSequenceNumber),W.resolve()}removeTarget(t,n){const s=n.withSequenceNumber(t.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(t,s)}addReference(t,n,s){return this.yi.set(s,t.currentSequenceNumber),W.resolve()}removeReference(t,n,s){return this.yi.set(s,t.currentSequenceNumber),W.resolve()}updateLimboDocument(t,n){return this.yi.set(n,t.currentSequenceNumber),W.resolve()}Ii(t){let n=t.key.toString().length;return t.isFoundDocument()&&(n+=kc(t.data.value)),n}Dr(t,n,s){return W.or([()=>this.persistence.Ri(t,n),()=>this.persistence.getTargetCache().containsKey(t,n),()=>{const o=this.yi.get(n);return W.resolve(o!==void 0&&o>s)}])}getCacheSize(t){return this.persistence.getRemoteDocumentCache().getSize(t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class np{constructor(t,n,s,o){this.targetId=t,this.fromCache=n,this.ds=s,this.As=o}static Rs(t,n){let s=Vt(),o=Vt();for(const u of n.docChanges)switch(u.type){case 0:s=s.add(u.doc.key);break;case 1:o=o.add(u.doc.key)}return new np(t,n.fromCache,s,o)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class B2{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(t){this._documentReadCount+=t}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class H2{constructor(){this.Vs=!1,this.fs=!1,this.gs=100,this.ps=function(){return xb()?8:mC(Xe())>0?6:4}()}initialize(t,n){this.ys=t,this.indexManager=n,this.Vs=!0}getDocumentsMatchingQuery(t,n,s,o){const u={result:null};return this.ws(t,n).next(f=>{u.result=f}).next(()=>{if(!u.result)return this.bs(t,n,o,s).next(f=>{u.result=f})}).next(()=>{if(u.result)return;const f=new B2;return this.Ss(t,n,f).next(m=>{if(u.result=m,this.fs)return this.Ds(t,n,f,m.size)})}).next(()=>u.result)}Ds(t,n,s,o){return s.documentReadCount<this.gs?(Va()<=Mt.DEBUG&&ot("QueryEngine","SDK will not create cache indexes for query:",xa(n),"since it only creates cache indexes for collection contains","more than or equal to",this.gs,"documents"),W.resolve()):(Va()<=Mt.DEBUG&&ot("QueryEngine","Query:",xa(n),"scans",s.documentReadCount,"local documents and returns",o,"documents as results."),s.documentReadCount>this.ps*o?(Va()<=Mt.DEBUG&&ot("QueryEngine","The SDK decides to create cache indexes for query:",xa(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(t,ai(n))):W.resolve())}ws(t,n){if(Uv(n))return W.resolve(null);let s=ai(n);return this.indexManager.getIndexType(t,s).next(o=>o===0?null:(n.limit!==null&&o===1&&(n=mm(n,null,"F"),s=ai(n)),this.indexManager.getDocumentsMatchingTarget(t,s).next(u=>{const f=Vt(...u);return this.ys.getDocuments(t,f).next(m=>this.indexManager.getMinOffset(t,s).next(g=>{const y=this.vs(n,m);return this.Cs(n,y,f,g.readTime)?this.ws(t,mm(n,null,"F")):this.Fs(t,y,n,g)}))})))}bs(t,n,s,o){return Uv(n)||o.isEqual(At.min())?W.resolve(null):this.ys.getDocuments(t,s).next(u=>{const f=this.vs(n,u);return this.Cs(n,f,s,o)?W.resolve(null):(Va()<=Mt.DEBUG&&ot("QueryEngine","Re-using previous result from %s to execute query: %s",o.toString(),xa(n)),this.Fs(t,f,n,uC(o,Ml)).next(m=>m))})}vs(t,n){let s=new Re(W0(t));return n.forEach((o,u)=>{Th(t,u)&&(s=s.add(u))}),s}Cs(t,n,s,o){if(t.limit===null)return!1;if(s.size!==n.size)return!0;const u=t.limitType==="F"?n.last():n.first();return!!u&&(u.hasPendingWrites||u.version.compareTo(o)>0)}Ss(t,n,s){return Va()<=Mt.DEBUG&&ot("QueryEngine","Using full collection scan to execute query:",xa(n)),this.ys.getDocumentsMatchingQuery(t,n,Ur.min(),s)}Fs(t,n,s,o){return this.ys.getDocumentsMatchingQuery(t,s,o).next(u=>(n.forEach(f=>{u=u.insert(f.key,f)}),u))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ip="LocalStore",q2=3e8;class j2{constructor(t,n,s,o){this.persistence=t,this.Ms=n,this.serializer=o,this.xs=new se(It),this.Os=new Ls(u=>Ym(u),Xm),this.Ns=new Map,this.Bs=t.getRemoteDocumentCache(),this.Ti=t.getTargetCache(),this.Ei=t.getBundleCache(),this.Ls(s)}Ls(t){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(t),this.indexManager=this.persistence.getIndexManager(t),this.mutationQueue=this.persistence.getMutationQueue(t,this.indexManager),this.localDocuments=new N2(this.Bs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Bs.setIndexManager(this.indexManager),this.Ms.initialize(this.localDocuments,this.indexManager)}collectGarbage(t){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>t.collect(n,this.xs))}}function F2(r,t,n,s){return new j2(r,t,n,s)}async function AT(r,t){const n=St(r);return await n.persistence.runTransaction("Handle user change","readonly",s=>{let o;return n.mutationQueue.getAllMutationBatches(s).next(u=>(o=u,n.Ls(t),n.mutationQueue.getAllMutationBatches(s))).next(u=>{const f=[],m=[];let g=Vt();for(const y of o){f.push(y.batchId);for(const E of y.mutations)g=g.add(E.key)}for(const y of u){m.push(y.batchId);for(const E of y.mutations)g=g.add(E.key)}return n.localDocuments.getDocuments(s,g).next(y=>({ks:y,removedBatchIds:f,addedBatchIds:m}))})})}function G2(r,t){const n=St(r);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",s=>{const o=t.batch.keys(),u=n.Bs.newChangeBuffer({trackRemovals:!0});return function(m,g,y,E){const b=y.batch,S=b.keys();let L=W.resolve();return S.forEach(P=>{L=L.next(()=>E.getEntry(g,P)).next(Q=>{const F=y.docVersions.get(P);jt(F!==null,48541),Q.version.compareTo(F)<0&&(b.applyToRemoteDocument(Q,y),Q.isValidDocument()&&(Q.setReadTime(y.commitVersion),E.addEntry(Q)))})}),L.next(()=>m.mutationQueue.removeMutationBatch(g,b))}(n,s,t,u).next(()=>u.apply(s)).next(()=>n.mutationQueue.performConsistencyCheck(s)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(s,o,t.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(s,function(m){let g=Vt();for(let y=0;y<m.mutationResults.length;++y)m.mutationResults[y].transformResults.length>0&&(g=g.add(m.batch.mutations[y].key));return g}(t))).next(()=>n.localDocuments.getDocuments(s,o))})}function ST(r){const t=St(r);return t.persistence.runTransaction("Get last remote snapshot version","readonly",n=>t.Ti.getLastRemoteSnapshotVersion(n))}function Q2(r,t){const n=St(r),s=t.snapshotVersion;let o=n.xs;return n.persistence.runTransaction("Apply remote event","readwrite-primary",u=>{const f=n.Bs.newChangeBuffer({trackRemovals:!0});o=n.xs;const m=[];t.targetChanges.forEach((E,b)=>{const S=o.get(b);if(!S)return;m.push(n.Ti.removeMatchingKeys(u,E.removedDocuments,b).next(()=>n.Ti.addMatchingKeys(u,E.addedDocuments,b)));let L=S.withSequenceNumber(u.currentSequenceNumber);t.targetMismatches.get(b)!==null?L=L.withResumeToken(qe.EMPTY_BYTE_STRING,At.min()).withLastLimboFreeSnapshotVersion(At.min()):E.resumeToken.approximateByteSize()>0&&(L=L.withResumeToken(E.resumeToken,s)),o=o.insert(b,L),function(Q,F,$){return Q.resumeToken.approximateByteSize()===0||F.snapshotVersion.toMicroseconds()-Q.snapshotVersion.toMicroseconds()>=q2?!0:$.addedDocuments.size+$.modifiedDocuments.size+$.removedDocuments.size>0}(S,L,E)&&m.push(n.Ti.updateTargetData(u,L))});let g=Yi(),y=Vt();if(t.documentUpdates.forEach(E=>{t.resolvedLimboDocuments.has(E)&&m.push(n.persistence.referenceDelegate.updateLimboDocument(u,E))}),m.push(K2(u,f,t.documentUpdates).next(E=>{g=E.qs,y=E.Qs})),!s.isEqual(At.min())){const E=n.Ti.getLastRemoteSnapshotVersion(u).next(b=>n.Ti.setTargetsMetadata(u,u.currentSequenceNumber,s));m.push(E)}return W.waitFor(m).next(()=>f.apply(u)).next(()=>n.localDocuments.getLocalViewOfDocuments(u,g,y)).next(()=>g)}).then(u=>(n.xs=o,u))}function K2(r,t,n){let s=Vt(),o=Vt();return n.forEach(u=>s=s.add(u)),t.getEntries(r,s).next(u=>{let f=Yi();return n.forEach((m,g)=>{const y=u.get(m);g.isFoundDocument()!==y.isFoundDocument()&&(o=o.add(m)),g.isNoDocument()&&g.version.isEqual(At.min())?(t.removeEntry(m,g.readTime),f=f.insert(m,g)):!y.isValidDocument()||g.version.compareTo(y.version)>0||g.version.compareTo(y.version)===0&&y.hasPendingWrites?(t.addEntry(g),f=f.insert(m,g)):ot(ip,"Ignoring outdated watch update for ",m,". Current version:",y.version," Watch version:",g.version)}),{qs:f,Qs:o}})}function Y2(r,t){const n=St(r);return n.persistence.runTransaction("Get next mutation batch","readonly",s=>(t===void 0&&(t=Gm),n.mutationQueue.getNextMutationBatchAfterBatchId(s,t)))}function X2(r,t){const n=St(r);return n.persistence.runTransaction("Allocate target","readwrite",s=>{let o;return n.Ti.getTargetData(s,t).next(u=>u?(o=u,W.resolve(o)):n.Ti.allocateTargetId(s).next(f=>(o=new Or(t,f,"TargetPurposeListen",s.currentSequenceNumber),n.Ti.addTargetData(s,o).next(()=>o))))}).then(s=>{const o=n.xs.get(s.targetId);return(o===null||s.snapshotVersion.compareTo(o.snapshotVersion)>0)&&(n.xs=n.xs.insert(s.targetId,s),n.Os.set(t,s.targetId)),s})}async function vm(r,t,n){const s=St(r),o=s.xs.get(t),u=n?"readwrite":"readwrite-primary";try{n||await s.persistence.runTransaction("Release target",u,f=>s.persistence.referenceDelegate.removeTarget(f,o))}catch(f){if(!io(f))throw f;ot(ip,`Failed to update sequence numbers for target ${t}: ${f}`)}s.xs=s.xs.remove(t),s.Os.delete(o.target)}function $v(r,t,n){const s=St(r);let o=At.min(),u=Vt();return s.persistence.runTransaction("Execute query","readwrite",f=>function(g,y,E){const b=St(g),S=b.Os.get(E);return S!==void 0?W.resolve(b.xs.get(S)):b.Ti.getTargetData(y,E)}(s,f,ai(t)).next(m=>{if(m)return o=m.lastLimboFreeSnapshotVersion,s.Ti.getMatchingKeysForTargetId(f,m.targetId).next(g=>{u=g})}).next(()=>s.Ms.getDocumentsMatchingQuery(f,t,n?o:At.min(),n?u:Vt())).next(m=>($2(s,kC(t),m),{documents:m,$s:u})))}function $2(r,t,n){let s=r.Ns.get(t)||At.min();n.forEach((o,u)=>{u.readTime.compareTo(s)>0&&(s=u.readTime)}),r.Ns.set(t,s)}class Zv{constructor(){this.activeTargetIds=qC()}js(t){this.activeTargetIds=this.activeTargetIds.add(t)}Hs(t){this.activeTargetIds=this.activeTargetIds.delete(t)}zs(){const t={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(t)}}class Z2{constructor(){this.xo=new Zv,this.Oo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(t){}updateMutationState(t,n,s){}addLocalQueryTarget(t,n=!0){return n&&this.xo.js(t),this.Oo[t]||"not-current"}updateQueryState(t,n,s){this.Oo[t]=n}removeLocalQueryTarget(t){this.xo.Hs(t)}isLocalQueryTarget(t){return this.xo.activeTargetIds.has(t)}clearQueryState(t){delete this.Oo[t]}getAllActiveQueryTargets(){return this.xo.activeTargetIds}isActiveQueryTarget(t){return this.xo.activeTargetIds.has(t)}start(){return this.xo=new Zv,Promise.resolve()}handleUserChange(t,n,s){}setOnlineState(t){}shutdown(){}writeSequenceNumber(t){}notifyBundleLoaded(t){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class W2{No(t){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Wv="ConnectivityMonitor";class Jv{constructor(){this.Bo=()=>this.Lo(),this.ko=()=>this.qo(),this.Qo=[],this.$o()}No(t){this.Qo.push(t)}shutdown(){window.removeEventListener("online",this.Bo),window.removeEventListener("offline",this.ko)}$o(){window.addEventListener("online",this.Bo),window.addEventListener("offline",this.ko)}Lo(){ot(Wv,"Network connectivity changed: AVAILABLE");for(const t of this.Qo)t(0)}qo(){ot(Wv,"Network connectivity changed: UNAVAILABLE");for(const t of this.Qo)t(1)}static C(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Ic=null;function Em(){return Ic===null?Ic=function(){return 268435456+Math.round(2147483648*Math.random())}():Ic++,"0x"+Ic.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Xd="RestConnection",J2={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class tD{get Uo(){return!1}constructor(t){this.databaseInfo=t,this.databaseId=t.databaseId;const n=t.ssl?"https":"http",s=encodeURIComponent(this.databaseId.projectId),o=encodeURIComponent(this.databaseId.database);this.Ko=n+"://"+t.host,this.Wo=`projects/${s}/databases/${o}`,this.Go=this.databaseId.database===Zc?`project_id=${s}`:`project_id=${s}&database_id=${o}`}zo(t,n,s,o,u){const f=Em(),m=this.jo(t,n.toUriEncodedString());ot(Xd,`Sending RPC '${t}' ${f}:`,m,s);const g={"google-cloud-resource-prefix":this.Wo,"x-goog-request-params":this.Go};this.Ho(g,o,u);const{host:y}=new URL(m),E=Hl(y);return this.Jo(t,m,g,s,E).then(b=>(ot(Xd,`Received RPC '${t}' ${f}: `,b),b),b=>{throw ja(Xd,`RPC '${t}' ${f} failed with error: `,b,"url: ",m,"request:",s),b})}Yo(t,n,s,o,u,f){return this.zo(t,n,s,o,u)}Ho(t,n,s){t["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+eo}(),t["Content-Type"]="text/plain",this.databaseInfo.appId&&(t["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach((o,u)=>t[u]=o),s&&s.headers.forEach((o,u)=>t[u]=o)}jo(t,n){const s=J2[t];return`${this.Ko}/v1/${n}:${s}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eD{constructor(t){this.Zo=t.Zo,this.Xo=t.Xo}e_(t){this.t_=t}n_(t){this.r_=t}i_(t){this.s_=t}onMessage(t){this.o_=t}close(){this.Xo()}send(t){this.Zo(t)}__(){this.t_()}a_(){this.r_()}u_(t){this.s_(t)}c_(t){this.o_(t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Qe="WebChannelConnection";class nD extends tD{constructor(t){super(t),this.l_=[],this.forceLongPolling=t.forceLongPolling,this.autoDetectLongPolling=t.autoDetectLongPolling,this.useFetchStreams=t.useFetchStreams,this.longPollingOptions=t.longPollingOptions}Jo(t,n,s,o,u){const f=Em();return new Promise((m,g)=>{const y=new w0;y.setWithCredentials(!0),y.listenOnce(R0.COMPLETE,()=>{try{switch(y.getLastErrorCode()){case Pc.NO_ERROR:const b=y.getResponseJson();ot(Qe,`XHR for RPC '${t}' ${f} received:`,JSON.stringify(b)),m(b);break;case Pc.TIMEOUT:ot(Qe,`RPC '${t}' ${f} timed out`),g(new dt(et.DEADLINE_EXCEEDED,"Request time out"));break;case Pc.HTTP_ERROR:const S=y.getStatus();if(ot(Qe,`RPC '${t}' ${f} failed with status:`,S,"response text:",y.getResponseText()),S>0){let L=y.getResponseJson();Array.isArray(L)&&(L=L[0]);const P=L==null?void 0:L.error;if(P&&P.status&&P.message){const Q=function($){const J=$.toLowerCase().replace(/_/g,"-");return Object.values(et).indexOf(J)>=0?J:et.UNKNOWN}(P.status);g(new dt(Q,P.message))}else g(new dt(et.UNKNOWN,"Server responded with status "+y.getStatus()))}else g(new dt(et.UNAVAILABLE,"Connection failed."));break;default:_t(9055,{h_:t,streamId:f,P_:y.getLastErrorCode(),T_:y.getLastError()})}}finally{ot(Qe,`RPC '${t}' ${f} completed.`)}});const E=JSON.stringify(o);ot(Qe,`RPC '${t}' ${f} sending request:`,o),y.send(n,"POST",E,s,15)})}I_(t,n,s){const o=Em(),u=[this.Ko,"/","google.firestore.v1.Firestore","/",t,"/channel"],f=D0(),m=C0(),g={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},y=this.longPollingOptions.timeoutSeconds;y!==void 0&&(g.longPollingTimeout=Math.round(1e3*y)),this.useFetchStreams&&(g.useFetchStreams=!0),this.Ho(g.initMessageHeaders,n,s),g.encodeInitMessageHeaders=!0;const E=u.join("");ot(Qe,`Creating RPC '${t}' stream ${o}: ${E}`,g);const b=f.createWebChannel(E,g);this.E_(b);let S=!1,L=!1;const P=new eD({Zo:F=>{L?ot(Qe,`Not sending because RPC '${t}' stream ${o} is closed:`,F):(S||(ot(Qe,`Opening RPC '${t}' stream ${o} transport.`),b.open(),S=!0),ot(Qe,`RPC '${t}' stream ${o} sending:`,F),b.send(F))},Xo:()=>b.close()}),Q=(F,$,J)=>{F.listen($,it=>{try{J(it)}catch(ht){setTimeout(()=>{throw ht},0)}})};return Q(b,El.EventType.OPEN,()=>{L||(ot(Qe,`RPC '${t}' stream ${o} transport opened.`),P.__())}),Q(b,El.EventType.CLOSE,()=>{L||(L=!0,ot(Qe,`RPC '${t}' stream ${o} transport closed`),P.u_(),this.d_(b))}),Q(b,El.EventType.ERROR,F=>{L||(L=!0,ja(Qe,`RPC '${t}' stream ${o} transport errored. Name:`,F.name,"Message:",F.message),P.u_(new dt(et.UNAVAILABLE,"The operation could not be completed")))}),Q(b,El.EventType.MESSAGE,F=>{var $;if(!L){const J=F.data[0];jt(!!J,16349);const it=J,ht=(it==null?void 0:it.error)||(($=it[0])===null||$===void 0?void 0:$.error);if(ht){ot(Qe,`RPC '${t}' stream ${o} received error:`,ht);const ut=ht.status;let bt=function(R){const O=_e[R];if(O!==void 0)return cT(O)}(ut),M=ht.message;bt===void 0&&(bt=et.INTERNAL,M="Unknown error status: "+ut+" with message "+ht.message),L=!0,P.u_(new dt(bt,M)),b.close()}else ot(Qe,`RPC '${t}' stream ${o} received:`,J),P.c_(J)}}),Q(m,I0.STAT_EVENT,F=>{F.stat===lm.PROXY?ot(Qe,`RPC '${t}' stream ${o} detected buffering proxy`):F.stat===lm.NOPROXY&&ot(Qe,`RPC '${t}' stream ${o} detected no buffering proxy`)}),setTimeout(()=>{P.a_()},0),P}terminate(){this.l_.forEach(t=>t.close()),this.l_=[]}E_(t){this.l_.push(t)}d_(t){this.l_=this.l_.filter(n=>n===t)}}function $d(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wh(r){return new a2(r,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bT{constructor(t,n,s=1e3,o=1.5,u=6e4){this.xi=t,this.timerId=n,this.A_=s,this.R_=o,this.V_=u,this.m_=0,this.f_=null,this.g_=Date.now(),this.reset()}reset(){this.m_=0}p_(){this.m_=this.V_}y_(t){this.cancel();const n=Math.floor(this.m_+this.w_()),s=Math.max(0,Date.now()-this.g_),o=Math.max(0,n-s);o>0&&ot("ExponentialBackoff",`Backing off for ${o} ms (base delay: ${this.m_} ms, delay with jitter: ${n} ms, last attempt: ${s} ms ago)`),this.f_=this.xi.enqueueAfterDelay(this.timerId,o,()=>(this.g_=Date.now(),t())),this.m_*=this.R_,this.m_<this.A_&&(this.m_=this.A_),this.m_>this.V_&&(this.m_=this.V_)}b_(){this.f_!==null&&(this.f_.skipDelay(),this.f_=null)}cancel(){this.f_!==null&&(this.f_.cancel(),this.f_=null)}w_(){return(Math.random()-.5)*this.m_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tE="PersistentStream";class wT{constructor(t,n,s,o,u,f,m,g){this.xi=t,this.S_=s,this.D_=o,this.connection=u,this.authCredentialsProvider=f,this.appCheckCredentialsProvider=m,this.listener=g,this.state=0,this.v_=0,this.C_=null,this.F_=null,this.stream=null,this.M_=0,this.x_=new bT(t,n)}O_(){return this.state===1||this.state===5||this.N_()}N_(){return this.state===2||this.state===3}start(){this.M_=0,this.state!==4?this.auth():this.B_()}async stop(){this.O_()&&await this.close(0)}L_(){this.state=0,this.x_.reset()}k_(){this.N_()&&this.C_===null&&(this.C_=this.xi.enqueueAfterDelay(this.S_,6e4,()=>this.q_()))}Q_(t){this.U_(),this.stream.send(t)}async q_(){if(this.N_())return this.close(0)}U_(){this.C_&&(this.C_.cancel(),this.C_=null)}K_(){this.F_&&(this.F_.cancel(),this.F_=null)}async close(t,n){this.U_(),this.K_(),this.x_.cancel(),this.v_++,t!==4?this.x_.reset():n&&n.code===et.RESOURCE_EXHAUSTED?(Ki(n.toString()),Ki("Using maximum backoff delay to prevent overloading the backend."),this.x_.p_()):n&&n.code===et.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.W_(),this.stream.close(),this.stream=null),this.state=t,await this.listener.i_(n)}W_(){}auth(){this.state=1;const t=this.G_(this.v_),n=this.v_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([s,o])=>{this.v_===n&&this.z_(s,o)},s=>{t(()=>{const o=new dt(et.UNKNOWN,"Fetching auth token failed: "+s.message);return this.j_(o)})})}z_(t,n){const s=this.G_(this.v_);this.stream=this.H_(t,n),this.stream.e_(()=>{s(()=>this.listener.e_())}),this.stream.n_(()=>{s(()=>(this.state=2,this.F_=this.xi.enqueueAfterDelay(this.D_,1e4,()=>(this.N_()&&(this.state=3),Promise.resolve())),this.listener.n_()))}),this.stream.i_(o=>{s(()=>this.j_(o))}),this.stream.onMessage(o=>{s(()=>++this.M_==1?this.J_(o):this.onNext(o))})}B_(){this.state=5,this.x_.y_(async()=>{this.state=0,this.start()})}j_(t){return ot(tE,`close with error: ${t}`),this.stream=null,this.close(4,t)}G_(t){return n=>{this.xi.enqueueAndForget(()=>this.v_===t?n():(ot(tE,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class iD extends wT{constructor(t,n,s,o,u,f){super(t,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,s,o,f),this.serializer=u}H_(t,n){return this.connection.I_("Listen",t,n)}J_(t){return this.onNext(t)}onNext(t){this.x_.reset();const n=u2(this.serializer,t),s=function(u){if(!("targetChange"in u))return At.min();const f=u.targetChange;return f.targetIds&&f.targetIds.length?At.min():f.readTime?li(f.readTime):At.min()}(t);return this.listener.Y_(n,s)}Z_(t){const n={};n.database=_m(this.serializer),n.addTarget=function(u,f){let m;const g=f.target;if(m=dm(g)?{documents:f2(u,g)}:{query:d2(u,g).gt},m.targetId=f.targetId,f.resumeToken.approximateByteSize()>0){m.resumeToken=dT(u,f.resumeToken);const y=pm(u,f.expectedCount);y!==null&&(m.expectedCount=y)}else if(f.snapshotVersion.compareTo(At.min())>0){m.readTime=ih(u,f.snapshotVersion.toTimestamp());const y=pm(u,f.expectedCount);y!==null&&(m.expectedCount=y)}return m}(this.serializer,t);const s=p2(this.serializer,t);s&&(n.labels=s),this.Q_(n)}X_(t){const n={};n.database=_m(this.serializer),n.removeTarget=t,this.Q_(n)}}class rD extends wT{constructor(t,n,s,o,u,f){super(t,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,s,o,f),this.serializer=u}get ea(){return this.M_>0}start(){this.lastStreamToken=void 0,super.start()}W_(){this.ea&&this.ta([])}H_(t,n){return this.connection.I_("Write",t,n)}J_(t){return jt(!!t.streamToken,31322),this.lastStreamToken=t.streamToken,jt(!t.writeResults||t.writeResults.length===0,55816),this.listener.na()}onNext(t){jt(!!t.streamToken,12678),this.lastStreamToken=t.streamToken,this.x_.reset();const n=h2(t.writeResults,t.commitTime),s=li(t.commitTime);return this.listener.ra(s,n)}ia(){const t={};t.database=_m(this.serializer),this.Q_(t)}ta(t){const n={streamToken:this.lastStreamToken,writes:t.map(s=>c2(this.serializer,s))};this.Q_(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sD{}class aD extends sD{constructor(t,n,s,o){super(),this.authCredentials=t,this.appCheckCredentials=n,this.connection=s,this.serializer=o,this.sa=!1}oa(){if(this.sa)throw new dt(et.FAILED_PRECONDITION,"The client has already been terminated.")}zo(t,n,s,o){return this.oa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([u,f])=>this.connection.zo(t,gm(n,s),o,u,f)).catch(u=>{throw u.name==="FirebaseError"?(u.code===et.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),u):new dt(et.UNKNOWN,u.toString())})}Yo(t,n,s,o,u){return this.oa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([f,m])=>this.connection.Yo(t,gm(n,s),o,f,m,u)).catch(f=>{throw f.name==="FirebaseError"?(f.code===et.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),f):new dt(et.UNKNOWN,f.toString())})}terminate(){this.sa=!0,this.connection.terminate()}}class oD{constructor(t,n){this.asyncQueue=t,this.onlineStateHandler=n,this.state="Unknown",this._a=0,this.aa=null,this.ua=!0}ca(){this._a===0&&(this.la("Unknown"),this.aa=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.aa=null,this.ha("Backend didn't respond within 10 seconds."),this.la("Offline"),Promise.resolve())))}Pa(t){this.state==="Online"?this.la("Unknown"):(this._a++,this._a>=1&&(this.Ta(),this.ha(`Connection failed 1 times. Most recent error: ${t.toString()}`),this.la("Offline")))}set(t){this.Ta(),this._a=0,t==="Online"&&(this.ua=!1),this.la(t)}la(t){t!==this.state&&(this.state=t,this.onlineStateHandler(t))}ha(t){const n=`Could not reach Cloud Firestore backend. ${t}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.ua?(Ki(n),this.ua=!1):ot("OnlineStateTracker",n)}Ta(){this.aa!==null&&(this.aa.cancel(),this.aa=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xs="RemoteStore";class lD{constructor(t,n,s,o,u){this.localStore=t,this.datastore=n,this.asyncQueue=s,this.remoteSyncer={},this.Ia=[],this.Ea=new Map,this.da=new Set,this.Aa=[],this.Ra=u,this.Ra.No(f=>{s.enqueueAndForget(async()=>{Bs(this)&&(ot(xs,"Restarting streams for network reachability change."),await async function(g){const y=St(g);y.da.add(4),await Xl(y),y.Va.set("Unknown"),y.da.delete(4),await Rh(y)}(this))})}),this.Va=new oD(s,o)}}async function Rh(r){if(Bs(r))for(const t of r.Aa)await t(!0)}async function Xl(r){for(const t of r.Aa)await t(!1)}function RT(r,t){const n=St(r);n.Ea.has(t.targetId)||(n.Ea.set(t.targetId,t),op(n)?ap(n):ro(n).N_()&&sp(n,t))}function rp(r,t){const n=St(r),s=ro(n);n.Ea.delete(t),s.N_()&&IT(n,t),n.Ea.size===0&&(s.N_()?s.k_():Bs(n)&&n.Va.set("Unknown"))}function sp(r,t){if(r.ma.Ke(t.targetId),t.resumeToken.approximateByteSize()>0||t.snapshotVersion.compareTo(At.min())>0){const n=r.remoteSyncer.getRemoteKeysForTarget(t.targetId).size;t=t.withExpectedCount(n)}ro(r).Z_(t)}function IT(r,t){r.ma.Ke(t),ro(r).X_(t)}function ap(r){r.ma=new n2({getRemoteKeysForTarget:t=>r.remoteSyncer.getRemoteKeysForTarget(t),Rt:t=>r.Ea.get(t)||null,Pt:()=>r.datastore.serializer.databaseId}),ro(r).start(),r.Va.ca()}function op(r){return Bs(r)&&!ro(r).O_()&&r.Ea.size>0}function Bs(r){return St(r).da.size===0}function CT(r){r.ma=void 0}async function uD(r){r.Va.set("Online")}async function cD(r){r.Ea.forEach((t,n)=>{sp(r,t)})}async function hD(r,t){CT(r),op(r)?(r.Va.Pa(t),ap(r)):r.Va.set("Unknown")}async function fD(r,t,n){if(r.Va.set("Online"),t instanceof fT&&t.state===2&&t.cause)try{await async function(o,u){const f=u.cause;for(const m of u.targetIds)o.Ea.has(m)&&(await o.remoteSyncer.rejectListen(m,f),o.Ea.delete(m),o.ma.removeTarget(m))}(r,t)}catch(s){ot(xs,"Failed to remove targets %s: %s ",t.targetIds.join(","),s),await sh(r,s)}else if(t instanceof zc?r.ma.Xe(t):t instanceof hT?r.ma.ot(t):r.ma.nt(t),!n.isEqual(At.min()))try{const s=await ST(r.localStore);n.compareTo(s)>=0&&await function(u,f){const m=u.ma.It(f);return m.targetChanges.forEach((g,y)=>{if(g.resumeToken.approximateByteSize()>0){const E=u.Ea.get(y);E&&u.Ea.set(y,E.withResumeToken(g.resumeToken,f))}}),m.targetMismatches.forEach((g,y)=>{const E=u.Ea.get(g);if(!E)return;u.Ea.set(g,E.withResumeToken(qe.EMPTY_BYTE_STRING,E.snapshotVersion)),IT(u,g);const b=new Or(E.target,g,y,E.sequenceNumber);sp(u,b)}),u.remoteSyncer.applyRemoteEvent(m)}(r,n)}catch(s){ot(xs,"Failed to raise snapshot:",s),await sh(r,s)}}async function sh(r,t,n){if(!io(t))throw t;r.da.add(1),await Xl(r),r.Va.set("Offline"),n||(n=()=>ST(r.localStore)),r.asyncQueue.enqueueRetryable(async()=>{ot(xs,"Retrying IndexedDB access"),await n(),r.da.delete(1),await Rh(r)})}function DT(r,t){return t().catch(n=>sh(r,n,t))}async function Ih(r){const t=St(r),n=Hr(t);let s=t.Ia.length>0?t.Ia[t.Ia.length-1].batchId:Gm;for(;dD(t);)try{const o=await Y2(t.localStore,s);if(o===null){t.Ia.length===0&&n.k_();break}s=o.batchId,mD(t,o)}catch(o){await sh(t,o)}OT(t)&&NT(t)}function dD(r){return Bs(r)&&r.Ia.length<10}function mD(r,t){r.Ia.push(t);const n=Hr(r);n.N_()&&n.ea&&n.ta(t.mutations)}function OT(r){return Bs(r)&&!Hr(r).O_()&&r.Ia.length>0}function NT(r){Hr(r).start()}async function pD(r){Hr(r).ia()}async function gD(r){const t=Hr(r);for(const n of r.Ia)t.ta(n.mutations)}async function yD(r,t,n){const s=r.Ia.shift(),o=Zm.from(s,t,n);await DT(r,()=>r.remoteSyncer.applySuccessfulWrite(o)),await Ih(r)}async function _D(r,t){t&&Hr(r).ea&&await async function(s,o){if(function(f){return t2(f)&&f!==et.ABORTED}(o.code)){const u=s.Ia.shift();Hr(s).L_(),await DT(s,()=>s.remoteSyncer.rejectFailedWrite(u.batchId,o)),await Ih(s)}}(r,t),OT(r)&&NT(r)}async function eE(r,t){const n=St(r);n.asyncQueue.verifyOperationInProgress(),ot(xs,"RemoteStore received new credentials");const s=Bs(n);n.da.add(3),await Xl(n),s&&n.Va.set("Unknown"),await n.remoteSyncer.handleCredentialChange(t),n.da.delete(3),await Rh(n)}async function vD(r,t){const n=St(r);t?(n.da.delete(2),await Rh(n)):t||(n.da.add(2),await Xl(n),n.Va.set("Unknown"))}function ro(r){return r.fa||(r.fa=function(n,s,o){const u=St(n);return u.oa(),new iD(s,u.connection,u.authCredentials,u.appCheckCredentials,u.serializer,o)}(r.datastore,r.asyncQueue,{e_:uD.bind(null,r),n_:cD.bind(null,r),i_:hD.bind(null,r),Y_:fD.bind(null,r)}),r.Aa.push(async t=>{t?(r.fa.L_(),op(r)?ap(r):r.Va.set("Unknown")):(await r.fa.stop(),CT(r))})),r.fa}function Hr(r){return r.ga||(r.ga=function(n,s,o){const u=St(n);return u.oa(),new rD(s,u.connection,u.authCredentials,u.appCheckCredentials,u.serializer,o)}(r.datastore,r.asyncQueue,{e_:()=>Promise.resolve(),n_:pD.bind(null,r),i_:_D.bind(null,r),na:gD.bind(null,r),ra:yD.bind(null,r)}),r.Aa.push(async t=>{t?(r.ga.L_(),await Ih(r)):(await r.ga.stop(),r.Ia.length>0&&(ot(xs,`Stopping write stream with ${r.Ia.length} pending writes`),r.Ia=[]))})),r.ga}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lp{constructor(t,n,s,o,u){this.asyncQueue=t,this.timerId=n,this.targetTimeMs=s,this.op=o,this.removalCallback=u,this.deferred=new Pr,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(f=>{})}get promise(){return this.deferred.promise}static createAndSchedule(t,n,s,o,u){const f=Date.now()+s,m=new lp(t,n,f,o,u);return m.start(s),m}start(t){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),t)}skipDelay(){return this.handleDelayElapsed()}cancel(t){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new dt(et.CANCELLED,"Operation cancelled"+(t?": "+t:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(t=>this.deferred.resolve(t))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function up(r,t){if(Ki("AsyncQueue",`${t}: ${r}`),io(r))return new dt(et.UNAVAILABLE,`${t}: ${r}`);throw r}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ba{static emptySet(t){return new Ba(t.comparator)}constructor(t){this.comparator=t?(n,s)=>t(n,s)||pt.comparator(n.key,s.key):(n,s)=>pt.comparator(n.key,s.key),this.keyedMap=Tl(),this.sortedSet=new se(this.comparator)}has(t){return this.keyedMap.get(t)!=null}get(t){return this.keyedMap.get(t)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(t){const n=this.keyedMap.get(t);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(t){this.sortedSet.inorderTraversal((n,s)=>(t(n),!1))}add(t){const n=this.delete(t.key);return n.copy(n.keyedMap.insert(t.key,t),n.sortedSet.insert(t,null))}delete(t){const n=this.get(t);return n?this.copy(this.keyedMap.remove(t),this.sortedSet.remove(n)):this}isEqual(t){if(!(t instanceof Ba)||this.size!==t.size)return!1;const n=this.sortedSet.getIterator(),s=t.sortedSet.getIterator();for(;n.hasNext();){const o=n.getNext().key,u=s.getNext().key;if(!o.isEqual(u))return!1}return!0}toString(){const t=[];return this.forEach(n=>{t.push(n.toString())}),t.length===0?"DocumentSet ()":`DocumentSet (
  `+t.join(`  
`)+`
)`}copy(t,n){const s=new Ba;return s.comparator=this.comparator,s.keyedMap=t,s.sortedSet=n,s}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nE{constructor(){this.pa=new se(pt.comparator)}track(t){const n=t.doc.key,s=this.pa.get(n);s?t.type!==0&&s.type===3?this.pa=this.pa.insert(n,t):t.type===3&&s.type!==1?this.pa=this.pa.insert(n,{type:s.type,doc:t.doc}):t.type===2&&s.type===2?this.pa=this.pa.insert(n,{type:2,doc:t.doc}):t.type===2&&s.type===0?this.pa=this.pa.insert(n,{type:0,doc:t.doc}):t.type===1&&s.type===0?this.pa=this.pa.remove(n):t.type===1&&s.type===2?this.pa=this.pa.insert(n,{type:1,doc:s.doc}):t.type===0&&s.type===1?this.pa=this.pa.insert(n,{type:2,doc:t.doc}):_t(63341,{Vt:t,ya:s}):this.pa=this.pa.insert(n,t)}wa(){const t=[];return this.pa.inorderTraversal((n,s)=>{t.push(s)}),t}}class Ya{constructor(t,n,s,o,u,f,m,g,y){this.query=t,this.docs=n,this.oldDocs=s,this.docChanges=o,this.mutatedKeys=u,this.fromCache=f,this.syncStateChanged=m,this.excludesMetadataChanges=g,this.hasCachedResults=y}static fromInitialDocuments(t,n,s,o,u){const f=[];return n.forEach(m=>{f.push({type:0,doc:m})}),new Ya(t,n,Ba.emptySet(n),f,s,o,!0,!1,u)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(t){if(!(this.fromCache===t.fromCache&&this.hasCachedResults===t.hasCachedResults&&this.syncStateChanged===t.syncStateChanged&&this.mutatedKeys.isEqual(t.mutatedKeys)&&Eh(this.query,t.query)&&this.docs.isEqual(t.docs)&&this.oldDocs.isEqual(t.oldDocs)))return!1;const n=this.docChanges,s=t.docChanges;if(n.length!==s.length)return!1;for(let o=0;o<n.length;o++)if(n[o].type!==s[o].type||!n[o].doc.isEqual(s[o].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ED{constructor(){this.ba=void 0,this.Sa=[]}Da(){return this.Sa.some(t=>t.va())}}class TD{constructor(){this.queries=iE(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(n,s){const o=St(n),u=o.queries;o.queries=iE(),u.forEach((f,m)=>{for(const g of m.Sa)g.onError(s)})})(this,new dt(et.ABORTED,"Firestore shutting down"))}}function iE(){return new Ls(r=>Z0(r),Eh)}async function AD(r,t){const n=St(r);let s=3;const o=t.query;let u=n.queries.get(o);u?!u.Da()&&t.va()&&(s=2):(u=new ED,s=t.va()?0:1);try{switch(s){case 0:u.ba=await n.onListen(o,!0);break;case 1:u.ba=await n.onListen(o,!1);break;case 2:await n.onFirstRemoteStoreListen(o)}}catch(f){const m=up(f,`Initialization of query '${xa(t.query)}' failed`);return void t.onError(m)}n.queries.set(o,u),u.Sa.push(t),t.Fa(n.onlineState),u.ba&&t.Ma(u.ba)&&cp(n)}async function SD(r,t){const n=St(r),s=t.query;let o=3;const u=n.queries.get(s);if(u){const f=u.Sa.indexOf(t);f>=0&&(u.Sa.splice(f,1),u.Sa.length===0?o=t.va()?0:1:!u.Da()&&t.va()&&(o=2))}switch(o){case 0:return n.queries.delete(s),n.onUnlisten(s,!0);case 1:return n.queries.delete(s),n.onUnlisten(s,!1);case 2:return n.onLastRemoteStoreUnlisten(s);default:return}}function bD(r,t){const n=St(r);let s=!1;for(const o of t){const u=o.query,f=n.queries.get(u);if(f){for(const m of f.Sa)m.Ma(o)&&(s=!0);f.ba=o}}s&&cp(n)}function wD(r,t,n){const s=St(r),o=s.queries.get(t);if(o)for(const u of o.Sa)u.onError(n);s.queries.delete(t)}function cp(r){r.Ca.forEach(t=>{t.next()})}var Tm,rE;(rE=Tm||(Tm={})).xa="default",rE.Cache="cache";class RD{constructor(t,n,s){this.query=t,this.Oa=n,this.Na=!1,this.Ba=null,this.onlineState="Unknown",this.options=s||{}}Ma(t){if(!this.options.includeMetadataChanges){const s=[];for(const o of t.docChanges)o.type!==3&&s.push(o);t=new Ya(t.query,t.docs,t.oldDocs,s,t.mutatedKeys,t.fromCache,t.syncStateChanged,!0,t.hasCachedResults)}let n=!1;return this.Na?this.La(t)&&(this.Oa.next(t),n=!0):this.ka(t,this.onlineState)&&(this.qa(t),n=!0),this.Ba=t,n}onError(t){this.Oa.error(t)}Fa(t){this.onlineState=t;let n=!1;return this.Ba&&!this.Na&&this.ka(this.Ba,t)&&(this.qa(this.Ba),n=!0),n}ka(t,n){if(!t.fromCache||!this.va())return!0;const s=n!=="Offline";return(!this.options.Qa||!s)&&(!t.docs.isEmpty()||t.hasCachedResults||n==="Offline")}La(t){if(t.docChanges.length>0)return!0;const n=this.Ba&&this.Ba.hasPendingWrites!==t.hasPendingWrites;return!(!t.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}qa(t){t=Ya.fromInitialDocuments(t.query,t.docs,t.mutatedKeys,t.fromCache,t.hasCachedResults),this.Na=!0,this.Oa.next(t)}va(){return this.options.source!==Tm.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class MT{constructor(t){this.key=t}}class VT{constructor(t){this.key=t}}class ID{constructor(t,n){this.query=t,this.Ha=n,this.Ja=null,this.hasCachedResults=!1,this.current=!1,this.Ya=Vt(),this.mutatedKeys=Vt(),this.Za=W0(t),this.Xa=new Ba(this.Za)}get eu(){return this.Ha}tu(t,n){const s=n?n.nu:new nE,o=n?n.Xa:this.Xa;let u=n?n.mutatedKeys:this.mutatedKeys,f=o,m=!1;const g=this.query.limitType==="F"&&o.size===this.query.limit?o.last():null,y=this.query.limitType==="L"&&o.size===this.query.limit?o.first():null;if(t.inorderTraversal((E,b)=>{const S=o.get(E),L=Th(this.query,b)?b:null,P=!!S&&this.mutatedKeys.has(S.key),Q=!!L&&(L.hasLocalMutations||this.mutatedKeys.has(L.key)&&L.hasCommittedMutations);let F=!1;S&&L?S.data.isEqual(L.data)?P!==Q&&(s.track({type:3,doc:L}),F=!0):this.ru(S,L)||(s.track({type:2,doc:L}),F=!0,(g&&this.Za(L,g)>0||y&&this.Za(L,y)<0)&&(m=!0)):!S&&L?(s.track({type:0,doc:L}),F=!0):S&&!L&&(s.track({type:1,doc:S}),F=!0,(g||y)&&(m=!0)),F&&(L?(f=f.add(L),u=Q?u.add(E):u.delete(E)):(f=f.delete(E),u=u.delete(E)))}),this.query.limit!==null)for(;f.size>this.query.limit;){const E=this.query.limitType==="F"?f.last():f.first();f=f.delete(E.key),u=u.delete(E.key),s.track({type:1,doc:E})}return{Xa:f,nu:s,Cs:m,mutatedKeys:u}}ru(t,n){return t.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(t,n,s,o){const u=this.Xa;this.Xa=t.Xa,this.mutatedKeys=t.mutatedKeys;const f=t.nu.wa();f.sort((E,b)=>function(L,P){const Q=F=>{switch(F){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return _t(20277,{Vt:F})}};return Q(L)-Q(P)}(E.type,b.type)||this.Za(E.doc,b.doc)),this.iu(s),o=o!=null&&o;const m=n&&!o?this.su():[],g=this.Ya.size===0&&this.current&&!o?1:0,y=g!==this.Ja;return this.Ja=g,f.length!==0||y?{snapshot:new Ya(this.query,t.Xa,u,f,t.mutatedKeys,g===0,y,!1,!!s&&s.resumeToken.approximateByteSize()>0),ou:m}:{ou:m}}Fa(t){return this.current&&t==="Offline"?(this.current=!1,this.applyChanges({Xa:this.Xa,nu:new nE,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{ou:[]}}_u(t){return!this.Ha.has(t)&&!!this.Xa.has(t)&&!this.Xa.get(t).hasLocalMutations}iu(t){t&&(t.addedDocuments.forEach(n=>this.Ha=this.Ha.add(n)),t.modifiedDocuments.forEach(n=>{}),t.removedDocuments.forEach(n=>this.Ha=this.Ha.delete(n)),this.current=t.current)}su(){if(!this.current)return[];const t=this.Ya;this.Ya=Vt(),this.Xa.forEach(s=>{this._u(s.key)&&(this.Ya=this.Ya.add(s.key))});const n=[];return t.forEach(s=>{this.Ya.has(s)||n.push(new VT(s))}),this.Ya.forEach(s=>{t.has(s)||n.push(new MT(s))}),n}au(t){this.Ha=t.$s,this.Ya=Vt();const n=this.tu(t.documents);return this.applyChanges(n,!0)}uu(){return Ya.fromInitialDocuments(this.query,this.Xa,this.mutatedKeys,this.Ja===0,this.hasCachedResults)}}const hp="SyncEngine";class CD{constructor(t,n,s){this.query=t,this.targetId=n,this.view=s}}class DD{constructor(t){this.key=t,this.cu=!1}}class OD{constructor(t,n,s,o,u,f){this.localStore=t,this.remoteStore=n,this.eventManager=s,this.sharedClientState=o,this.currentUser=u,this.maxConcurrentLimboResolutions=f,this.lu={},this.hu=new Ls(m=>Z0(m),Eh),this.Pu=new Map,this.Tu=new Set,this.Iu=new se(pt.comparator),this.Eu=new Map,this.du=new tp,this.Au={},this.Ru=new Map,this.Vu=Ka.lr(),this.onlineState="Unknown",this.mu=void 0}get isPrimaryClient(){return this.mu===!0}}async function ND(r,t,n=!0){const s=zT(r);let o;const u=s.hu.get(t);return u?(s.sharedClientState.addLocalQueryTarget(u.targetId),o=u.view.uu()):o=await xT(s,t,n,!0),o}async function MD(r,t){const n=zT(r);await xT(n,t,!0,!1)}async function xT(r,t,n,s){const o=await X2(r.localStore,ai(t)),u=o.targetId,f=r.sharedClientState.addLocalQueryTarget(u,n);let m;return s&&(m=await VD(r,t,u,f==="current",o.resumeToken)),r.isPrimaryClient&&n&&RT(r.remoteStore,o),m}async function VD(r,t,n,s,o){r.fu=(b,S,L)=>async function(Q,F,$,J){let it=F.view.tu($);it.Cs&&(it=await $v(Q.localStore,F.query,!1).then(({documents:M})=>F.view.tu(M,it)));const ht=J&&J.targetChanges.get(F.targetId),ut=J&&J.targetMismatches.get(F.targetId)!=null,bt=F.view.applyChanges(it,Q.isPrimaryClient,ht,ut);return aE(Q,F.targetId,bt.ou),bt.snapshot}(r,b,S,L);const u=await $v(r.localStore,t,!0),f=new ID(t,u.$s),m=f.tu(u.documents),g=Yl.createSynthesizedTargetChangeForCurrentChange(n,s&&r.onlineState!=="Offline",o),y=f.applyChanges(m,r.isPrimaryClient,g);aE(r,n,y.ou);const E=new CD(t,n,f);return r.hu.set(t,E),r.Pu.has(n)?r.Pu.get(n).push(t):r.Pu.set(n,[t]),y.snapshot}async function xD(r,t,n){const s=St(r),o=s.hu.get(t),u=s.Pu.get(o.targetId);if(u.length>1)return s.Pu.set(o.targetId,u.filter(f=>!Eh(f,t))),void s.hu.delete(t);s.isPrimaryClient?(s.sharedClientState.removeLocalQueryTarget(o.targetId),s.sharedClientState.isActiveQueryTarget(o.targetId)||await vm(s.localStore,o.targetId,!1).then(()=>{s.sharedClientState.clearQueryState(o.targetId),n&&rp(s.remoteStore,o.targetId),Am(s,o.targetId)}).catch(no)):(Am(s,o.targetId),await vm(s.localStore,o.targetId,!0))}async function PD(r,t){const n=St(r),s=n.hu.get(t),o=n.Pu.get(s.targetId);n.isPrimaryClient&&o.length===1&&(n.sharedClientState.removeLocalQueryTarget(s.targetId),rp(n.remoteStore,s.targetId))}async function kD(r,t,n){const s=jD(r);try{const o=await function(f,m){const g=St(f),y=we.now(),E=m.reduce((L,P)=>L.add(P.key),Vt());let b,S;return g.persistence.runTransaction("Locally write mutations","readwrite",L=>{let P=Yi(),Q=Vt();return g.Bs.getEntries(L,E).next(F=>{P=F,P.forEach(($,J)=>{J.isValidDocument()||(Q=Q.add($))})}).next(()=>g.localDocuments.getOverlayedDocuments(L,P)).next(F=>{b=F;const $=[];for(const J of m){const it=XC(J,b.get(J.key).overlayedDocument);it!=null&&$.push(new zs(J.key,it,j0(it.value.mapValue),oi.exists(!0)))}return g.mutationQueue.addMutationBatch(L,y,$,m)}).next(F=>{S=F;const $=F.applyToLocalDocumentSet(b,Q);return g.documentOverlayCache.saveOverlays(L,F.batchId,$)})}).then(()=>({batchId:S.batchId,changes:tT(b)}))}(s.localStore,t);s.sharedClientState.addPendingMutation(o.batchId),function(f,m,g){let y=f.Au[f.currentUser.toKey()];y||(y=new se(It)),y=y.insert(m,g),f.Au[f.currentUser.toKey()]=y}(s,o.batchId,n),await $l(s,o.changes),await Ih(s.remoteStore)}catch(o){const u=up(o,"Failed to persist write");n.reject(u)}}async function PT(r,t){const n=St(r);try{const s=await Q2(n.localStore,t);t.targetChanges.forEach((o,u)=>{const f=n.Eu.get(u);f&&(jt(o.addedDocuments.size+o.modifiedDocuments.size+o.removedDocuments.size<=1,22616),o.addedDocuments.size>0?f.cu=!0:o.modifiedDocuments.size>0?jt(f.cu,14607):o.removedDocuments.size>0&&(jt(f.cu,42227),f.cu=!1))}),await $l(n,s,t)}catch(s){await no(s)}}function sE(r,t,n){const s=St(r);if(s.isPrimaryClient&&n===0||!s.isPrimaryClient&&n===1){const o=[];s.hu.forEach((u,f)=>{const m=f.view.Fa(t);m.snapshot&&o.push(m.snapshot)}),function(f,m){const g=St(f);g.onlineState=m;let y=!1;g.queries.forEach((E,b)=>{for(const S of b.Sa)S.Fa(m)&&(y=!0)}),y&&cp(g)}(s.eventManager,t),o.length&&s.lu.Y_(o),s.onlineState=t,s.isPrimaryClient&&s.sharedClientState.setOnlineState(t)}}async function UD(r,t,n){const s=St(r);s.sharedClientState.updateQueryState(t,"rejected",n);const o=s.Eu.get(t),u=o&&o.key;if(u){let f=new se(pt.comparator);f=f.insert(u,Ye.newNoDocument(u,At.min()));const m=Vt().add(u),g=new bh(At.min(),new Map,new se(It),f,m);await PT(s,g),s.Iu=s.Iu.remove(u),s.Eu.delete(t),fp(s)}else await vm(s.localStore,t,!1).then(()=>Am(s,t,n)).catch(no)}async function LD(r,t){const n=St(r),s=t.batch.batchId;try{const o=await G2(n.localStore,t);UT(n,s,null),kT(n,s),n.sharedClientState.updateMutationState(s,"acknowledged"),await $l(n,o)}catch(o){await no(o)}}async function zD(r,t,n){const s=St(r);try{const o=await function(f,m){const g=St(f);return g.persistence.runTransaction("Reject batch","readwrite-primary",y=>{let E;return g.mutationQueue.lookupMutationBatch(y,m).next(b=>(jt(b!==null,37113),E=b.keys(),g.mutationQueue.removeMutationBatch(y,b))).next(()=>g.mutationQueue.performConsistencyCheck(y)).next(()=>g.documentOverlayCache.removeOverlaysForBatchId(y,E,m)).next(()=>g.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(y,E)).next(()=>g.localDocuments.getDocuments(y,E))})}(s.localStore,t);UT(s,t,n),kT(s,t),s.sharedClientState.updateMutationState(t,"rejected",n),await $l(s,o)}catch(o){await no(o)}}function kT(r,t){(r.Ru.get(t)||[]).forEach(n=>{n.resolve()}),r.Ru.delete(t)}function UT(r,t,n){const s=St(r);let o=s.Au[s.currentUser.toKey()];if(o){const u=o.get(t);u&&(n?u.reject(n):u.resolve(),o=o.remove(t)),s.Au[s.currentUser.toKey()]=o}}function Am(r,t,n=null){r.sharedClientState.removeLocalQueryTarget(t);for(const s of r.Pu.get(t))r.hu.delete(s),n&&r.lu.gu(s,n);r.Pu.delete(t),r.isPrimaryClient&&r.du.Hr(t).forEach(s=>{r.du.containsKey(s)||LT(r,s)})}function LT(r,t){r.Tu.delete(t.path.canonicalString());const n=r.Iu.get(t);n!==null&&(rp(r.remoteStore,n),r.Iu=r.Iu.remove(t),r.Eu.delete(n),fp(r))}function aE(r,t,n){for(const s of n)s instanceof MT?(r.du.addReference(s.key,t),BD(r,s)):s instanceof VT?(ot(hp,"Document no longer in limbo: "+s.key),r.du.removeReference(s.key,t),r.du.containsKey(s.key)||LT(r,s.key)):_t(19791,{pu:s})}function BD(r,t){const n=t.key,s=n.path.canonicalString();r.Iu.get(n)||r.Tu.has(s)||(ot(hp,"New document in limbo: "+n),r.Tu.add(s),fp(r))}function fp(r){for(;r.Tu.size>0&&r.Iu.size<r.maxConcurrentLimboResolutions;){const t=r.Tu.values().next().value;r.Tu.delete(t);const n=new pt(ne.fromString(t)),s=r.Vu.next();r.Eu.set(s,new DD(n)),r.Iu=r.Iu.insert(n,s),RT(r.remoteStore,new Or(ai($0(n.path)),s,"TargetPurposeLimboResolution",gh.le))}}async function $l(r,t,n){const s=St(r),o=[],u=[],f=[];s.hu.isEmpty()||(s.hu.forEach((m,g)=>{f.push(s.fu(g,t,n).then(y=>{var E;if((y||n)&&s.isPrimaryClient){const b=y?!y.fromCache:(E=n==null?void 0:n.targetChanges.get(g.targetId))===null||E===void 0?void 0:E.current;s.sharedClientState.updateQueryState(g.targetId,b?"current":"not-current")}if(y){o.push(y);const b=np.Rs(g.targetId,y);u.push(b)}}))}),await Promise.all(f),s.lu.Y_(o),await async function(g,y){const E=St(g);try{await E.persistence.runTransaction("notifyLocalViewChanges","readwrite",b=>W.forEach(y,S=>W.forEach(S.ds,L=>E.persistence.referenceDelegate.addReference(b,S.targetId,L)).next(()=>W.forEach(S.As,L=>E.persistence.referenceDelegate.removeReference(b,S.targetId,L)))))}catch(b){if(!io(b))throw b;ot(ip,"Failed to update sequence numbers: "+b)}for(const b of y){const S=b.targetId;if(!b.fromCache){const L=E.xs.get(S),P=L.snapshotVersion,Q=L.withLastLimboFreeSnapshotVersion(P);E.xs=E.xs.insert(S,Q)}}}(s.localStore,u))}async function HD(r,t){const n=St(r);if(!n.currentUser.isEqual(t)){ot(hp,"User change. New user:",t.toKey());const s=await AT(n.localStore,t);n.currentUser=t,function(u,f){u.Ru.forEach(m=>{m.forEach(g=>{g.reject(new dt(et.CANCELLED,f))})}),u.Ru.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(t,s.removedBatchIds,s.addedBatchIds),await $l(n,s.ks)}}function qD(r,t){const n=St(r),s=n.Eu.get(t);if(s&&s.cu)return Vt().add(s.key);{let o=Vt();const u=n.Pu.get(t);if(!u)return o;for(const f of u){const m=n.hu.get(f);o=o.unionWith(m.view.eu)}return o}}function zT(r){const t=St(r);return t.remoteStore.remoteSyncer.applyRemoteEvent=PT.bind(null,t),t.remoteStore.remoteSyncer.getRemoteKeysForTarget=qD.bind(null,t),t.remoteStore.remoteSyncer.rejectListen=UD.bind(null,t),t.lu.Y_=bD.bind(null,t.eventManager),t.lu.gu=wD.bind(null,t.eventManager),t}function jD(r){const t=St(r);return t.remoteStore.remoteSyncer.applySuccessfulWrite=LD.bind(null,t),t.remoteStore.remoteSyncer.rejectFailedWrite=zD.bind(null,t),t}class ah{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(t){this.serializer=wh(t.databaseInfo.databaseId),this.sharedClientState=this.bu(t),this.persistence=this.Su(t),await this.persistence.start(),this.localStore=this.Du(t),this.gcScheduler=this.vu(t,this.localStore),this.indexBackfillerScheduler=this.Cu(t,this.localStore)}vu(t,n){return null}Cu(t,n){return null}Du(t){return F2(this.persistence,new H2,t.initialUser,this.serializer)}Su(t){return new TT(ep.fi,this.serializer)}bu(t){return new Z2}async terminate(){var t,n;(t=this.gcScheduler)===null||t===void 0||t.stop(),(n=this.indexBackfillerScheduler)===null||n===void 0||n.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}ah.provider={build:()=>new ah};class FD extends ah{constructor(t){super(),this.cacheSizeBytes=t}vu(t,n){jt(this.persistence.referenceDelegate instanceof rh,46915);const s=this.persistence.referenceDelegate.garbageCollector;return new R2(s,t.asyncQueue,n)}Su(t){const n=this.cacheSizeBytes!==void 0?rn.withCacheSize(this.cacheSizeBytes):rn.DEFAULT;return new TT(s=>rh.fi(s,n),this.serializer)}}class Sm{async initialize(t,n){this.localStore||(this.localStore=t.localStore,this.sharedClientState=t.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!t.synchronizeTabs),this.sharedClientState.onlineStateHandler=s=>sE(this.syncEngine,s,1),this.remoteStore.remoteSyncer.handleCredentialChange=HD.bind(null,this.syncEngine),await vD(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(t){return function(){return new TD}()}createDatastore(t){const n=wh(t.databaseInfo.databaseId),s=function(u){return new nD(u)}(t.databaseInfo);return function(u,f,m,g){return new aD(u,f,m,g)}(t.authCredentials,t.appCheckCredentials,s,n)}createRemoteStore(t){return function(s,o,u,f,m){return new lD(s,o,u,f,m)}(this.localStore,this.datastore,t.asyncQueue,n=>sE(this.syncEngine,n,0),function(){return Jv.C()?new Jv:new W2}())}createSyncEngine(t,n){return function(o,u,f,m,g,y,E){const b=new OD(o,u,f,m,g,y);return E&&(b.mu=!0),b}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,t.initialUser,t.maxConcurrentLimboResolutions,n)}async terminate(){var t,n;await async function(o){const u=St(o);ot(xs,"RemoteStore shutting down."),u.da.add(5),await Xl(u),u.Ra.shutdown(),u.Va.set("Unknown")}(this.remoteStore),(t=this.datastore)===null||t===void 0||t.terminate(),(n=this.eventManager)===null||n===void 0||n.terminate()}}Sm.provider={build:()=>new Sm};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GD{constructor(t){this.observer=t,this.muted=!1}next(t){this.muted||this.observer.next&&this.Mu(this.observer.next,t)}error(t){this.muted||(this.observer.error?this.Mu(this.observer.error,t):Ki("Uncaught Error in snapshot listener:",t.toString()))}xu(){this.muted=!0}Mu(t,n){setTimeout(()=>{this.muted||t(n)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qr="FirestoreClient";class QD{constructor(t,n,s,o,u){this.authCredentials=t,this.appCheckCredentials=n,this.asyncQueue=s,this.databaseInfo=o,this.user=Ke.UNAUTHENTICATED,this.clientId=V0.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=u,this.authCredentials.start(s,async f=>{ot(qr,"Received user=",f.uid),await this.authCredentialListener(f),this.user=f}),this.appCheckCredentials.start(s,f=>(ot(qr,"Received new app check token=",f),this.appCheckCredentialListener(f,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(t){this.authCredentialListener=t}setAppCheckTokenChangeListener(t){this.appCheckCredentialListener=t}terminate(){this.asyncQueue.enterRestrictedMode();const t=new Pr;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),t.resolve()}catch(n){const s=up(n,"Failed to shutdown persistence");t.reject(s)}}),t.promise}}async function Zd(r,t){r.asyncQueue.verifyOperationInProgress(),ot(qr,"Initializing OfflineComponentProvider");const n=r.configuration;await t.initialize(n);let s=n.initialUser;r.setCredentialChangeListener(async o=>{s.isEqual(o)||(await AT(t.localStore,o),s=o)}),t.persistence.setDatabaseDeletedListener(()=>r.terminate()),r._offlineComponents=t}async function oE(r,t){r.asyncQueue.verifyOperationInProgress();const n=await KD(r);ot(qr,"Initializing OnlineComponentProvider"),await t.initialize(n,r.configuration),r.setCredentialChangeListener(s=>eE(t.remoteStore,s)),r.setAppCheckTokenChangeListener((s,o)=>eE(t.remoteStore,o)),r._onlineComponents=t}async function KD(r){if(!r._offlineComponents)if(r._uninitializedComponentsProvider){ot(qr,"Using user provided OfflineComponentProvider");try{await Zd(r,r._uninitializedComponentsProvider._offline)}catch(t){const n=t;if(!function(o){return o.name==="FirebaseError"?o.code===et.FAILED_PRECONDITION||o.code===et.UNIMPLEMENTED:!(typeof DOMException<"u"&&o instanceof DOMException)||o.code===22||o.code===20||o.code===11}(n))throw n;ja("Error using user provided cache. Falling back to memory cache: "+n),await Zd(r,new ah)}}else ot(qr,"Using default OfflineComponentProvider"),await Zd(r,new FD(void 0));return r._offlineComponents}async function BT(r){return r._onlineComponents||(r._uninitializedComponentsProvider?(ot(qr,"Using user provided OnlineComponentProvider"),await oE(r,r._uninitializedComponentsProvider._online)):(ot(qr,"Using default OnlineComponentProvider"),await oE(r,new Sm))),r._onlineComponents}function YD(r){return BT(r).then(t=>t.syncEngine)}async function XD(r){const t=await BT(r),n=t.eventManager;return n.onListen=ND.bind(null,t.syncEngine),n.onUnlisten=xD.bind(null,t.syncEngine),n.onFirstRemoteStoreListen=MD.bind(null,t.syncEngine),n.onLastRemoteStoreUnlisten=PD.bind(null,t.syncEngine),n}function $D(r,t,n={}){const s=new Pr;return r.asyncQueue.enqueueAndForget(async()=>function(u,f,m,g,y){const E=new GD({next:S=>{E.xu(),f.enqueueAndForget(()=>SD(u,b)),S.fromCache&&g.source==="server"?y.reject(new dt(et.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):y.resolve(S)},error:S=>y.reject(S)}),b=new RD(m,E,{includeMetadataChanges:!0,Qa:!0});return AD(u,b)}(await XD(r),r.asyncQueue,t,n,s)),s.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function HT(r){const t={};return r.timeoutSeconds!==void 0&&(t.timeoutSeconds=r.timeoutSeconds),t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lE=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qT(r,t,n){if(!n)throw new dt(et.INVALID_ARGUMENT,`Function ${r}() cannot be called with an empty ${t}.`)}function ZD(r,t,n,s){if(t===!0&&s===!0)throw new dt(et.INVALID_ARGUMENT,`${r} and ${n} cannot be used together.`)}function uE(r){if(!pt.isDocumentKey(r))throw new dt(et.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${r} has ${r.length}.`)}function cE(r){if(pt.isDocumentKey(r))throw new dt(et.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${r} has ${r.length}.`)}function dp(r){if(r===void 0)return"undefined";if(r===null)return"null";if(typeof r=="string")return r.length>20&&(r=`${r.substring(0,20)}...`),JSON.stringify(r);if(typeof r=="number"||typeof r=="boolean")return""+r;if(typeof r=="object"){if(r instanceof Array)return"an array";{const t=function(s){return s.constructor?s.constructor.name:null}(r);return t?`a custom ${t} object`:"an object"}}return typeof r=="function"?"a function":_t(12329,{type:typeof r})}function Xa(r,t){if("_delegate"in r&&(r=r._delegate),!(r instanceof t)){if(t.name===r.constructor.name)throw new dt(et.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=dp(r);throw new dt(et.INVALID_ARGUMENT,`Expected type '${t.name}', but it was: ${n}`)}}return r}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jT="firestore.googleapis.com",hE=!0;class fE{constructor(t){var n,s;if(t.host===void 0){if(t.ssl!==void 0)throw new dt(et.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=jT,this.ssl=hE}else this.host=t.host,this.ssl=(n=t.ssl)!==null&&n!==void 0?n:hE;if(this.isUsingEmulator=t.emulatorOptions!==void 0,this.credentials=t.credentials,this.ignoreUndefinedProperties=!!t.ignoreUndefinedProperties,this.localCache=t.localCache,t.cacheSizeBytes===void 0)this.cacheSizeBytes=ET;else{if(t.cacheSizeBytes!==-1&&t.cacheSizeBytes<b2)throw new dt(et.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=t.cacheSizeBytes}ZD("experimentalForceLongPolling",t.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",t.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!t.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:t.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!t.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=HT((s=t.experimentalLongPollingOptions)!==null&&s!==void 0?s:{}),function(u){if(u.timeoutSeconds!==void 0){if(isNaN(u.timeoutSeconds))throw new dt(et.INVALID_ARGUMENT,`invalid long polling timeout: ${u.timeoutSeconds} (must not be NaN)`);if(u.timeoutSeconds<5)throw new dt(et.INVALID_ARGUMENT,`invalid long polling timeout: ${u.timeoutSeconds} (minimum allowed value is 5)`);if(u.timeoutSeconds>30)throw new dt(et.INVALID_ARGUMENT,`invalid long polling timeout: ${u.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!t.useFetchStreams}isEqual(t){return this.host===t.host&&this.ssl===t.ssl&&this.credentials===t.credentials&&this.cacheSizeBytes===t.cacheSizeBytes&&this.experimentalForceLongPolling===t.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===t.experimentalAutoDetectLongPolling&&function(s,o){return s.timeoutSeconds===o.timeoutSeconds}(this.experimentalLongPollingOptions,t.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===t.ignoreUndefinedProperties&&this.useFetchStreams===t.useFetchStreams}}class Ch{constructor(t,n,s,o){this._authCredentials=t,this._appCheckCredentials=n,this._databaseId=s,this._app=o,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new fE({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new dt(et.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(t){if(this._settingsFrozen)throw new dt(et.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new fE(t),this._emulatorOptions=t.emulatorOptions||{},t.credentials!==void 0&&(this._authCredentials=function(s){if(!s)return new tC;switch(s.type){case"firstParty":return new rC(s.sessionIndex||"0",s.iamToken||null,s.authTokenFactory||null);case"provider":return s.client;default:throw new dt(et.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(t.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(n){const s=lE.get(n);s&&(ot("ComponentProvider","Removing Datastore"),lE.delete(n),s.terminate())}(this),Promise.resolve()}}function WD(r,t,n,s={}){var o;r=Xa(r,Ch);const u=Hl(t),f=r._getSettings(),m=Object.assign(Object.assign({},f),{emulatorOptions:r._getEmulatorOptions()}),g=`${t}:${n}`;u&&(BE(`https://${g}`),HE("Firestore",!0)),f.host!==jT&&f.host!==g&&ja("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const y=Object.assign(Object.assign({},f),{host:g,ssl:u,emulatorOptions:s});if(!Os(y,m)&&(r._setSettings(y),s.mockUserToken)){let E,b;if(typeof s.mockUserToken=="string")E=s.mockUserToken,b=Ke.MOCK_USER;else{E=wb(s.mockUserToken,(o=r._app)===null||o===void 0?void 0:o.options.projectId);const S=s.mockUserToken.sub||s.mockUserToken.user_id;if(!S)throw new dt(et.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");b=new Ke(S)}r._authCredentials=new eC(new N0(E,b))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dh{constructor(t,n,s){this.converter=n,this._query=s,this.type="query",this.firestore=t}withConverter(t){return new Dh(this.firestore,t,this._query)}}class Cn{constructor(t,n,s){this.converter=n,this._key=s,this.type="document",this.firestore=t}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new kr(this.firestore,this.converter,this._key.path.popLast())}withConverter(t){return new Cn(this.firestore,t,this._key)}}class kr extends Dh{constructor(t,n,s){super(t,n,$0(s)),this._path=s,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const t=this._path.popLast();return t.isEmpty()?null:new Cn(this.firestore,null,new pt(t))}withConverter(t){return new kr(this.firestore,t,this._path)}}function Oh(r,t,...n){if(r=Dn(r),qT("collection","path",t),r instanceof Ch){const s=ne.fromString(t,...n);return cE(s),new kr(r,null,s)}{if(!(r instanceof Cn||r instanceof kr))throw new dt(et.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=r._path.child(ne.fromString(t,...n));return cE(s),new kr(r.firestore,null,s)}}function mp(r,t,...n){if(r=Dn(r),arguments.length===1&&(t=V0.newId()),qT("doc","path",t),r instanceof Ch){const s=ne.fromString(t,...n);return uE(s),new Cn(r,null,new pt(s))}{if(!(r instanceof Cn||r instanceof kr))throw new dt(et.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=r._path.child(ne.fromString(t,...n));return uE(s),new Cn(r.firestore,r instanceof kr?r.converter:null,new pt(s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dE="AsyncQueue";class mE{constructor(t=Promise.resolve()){this.Ju=[],this.Yu=!1,this.Zu=[],this.Xu=null,this.ec=!1,this.tc=!1,this.nc=[],this.x_=new bT(this,"async_queue_retry"),this.rc=()=>{const s=$d();s&&ot(dE,"Visibility state changed to "+s.visibilityState),this.x_.b_()},this.sc=t;const n=$d();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this.rc)}get isShuttingDown(){return this.Yu}enqueueAndForget(t){this.enqueue(t)}enqueueAndForgetEvenWhileRestricted(t){this.oc(),this._c(t)}enterRestrictedMode(t){if(!this.Yu){this.Yu=!0,this.tc=t||!1;const n=$d();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this.rc)}}enqueue(t){if(this.oc(),this.Yu)return new Promise(()=>{});const n=new Pr;return this._c(()=>this.Yu&&this.tc?Promise.resolve():(t().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(t){this.enqueueAndForget(()=>(this.Ju.push(t),this.ac()))}async ac(){if(this.Ju.length!==0){try{await this.Ju[0](),this.Ju.shift(),this.x_.reset()}catch(t){if(!io(t))throw t;ot(dE,"Operation failed with retryable error: "+t)}this.Ju.length>0&&this.x_.y_(()=>this.ac())}}_c(t){const n=this.sc.then(()=>(this.ec=!0,t().catch(s=>{throw this.Xu=s,this.ec=!1,Ki("INTERNAL UNHANDLED ERROR: ",pE(s)),s}).then(s=>(this.ec=!1,s))));return this.sc=n,n}enqueueAfterDelay(t,n,s){this.oc(),this.nc.indexOf(t)>-1&&(n=0);const o=lp.createAndSchedule(this,t,n,s,u=>this.uc(u));return this.Zu.push(o),o}oc(){this.Xu&&_t(47125,{cc:pE(this.Xu)})}verifyOperationInProgress(){}async lc(){let t;do t=this.sc,await t;while(t!==this.sc)}hc(t){for(const n of this.Zu)if(n.timerId===t)return!0;return!1}Pc(t){return this.lc().then(()=>{this.Zu.sort((n,s)=>n.targetTimeMs-s.targetTimeMs);for(const n of this.Zu)if(n.skipDelay(),t!=="all"&&n.timerId===t)break;return this.lc()})}Tc(t){this.nc.push(t)}uc(t){const n=this.Zu.indexOf(t);this.Zu.splice(n,1)}}function pE(r){let t=r.message||"";return r.stack&&(t=r.stack.includes(r.message)?r.stack:r.message+`
`+r.stack),t}class Nh extends Ch{constructor(t,n,s,o){super(t,n,s,o),this.type="firestore",this._queue=new mE,this._persistenceKey=(o==null?void 0:o.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const t=this._firestoreClient.terminate();this._queue=new mE(t),this._firestoreClient=void 0,await t}}}function JD(r,t){const n=typeof r=="object"?r:GE(),s=typeof r=="string"?r:Zc,o=Mm(n,"firestore").getImmediate({identifier:s});if(!o._initialized){const u=Sb("firestore");u&&WD(o,...u)}return o}function FT(r){if(r._terminated)throw new dt(et.FAILED_PRECONDITION,"The client has already been terminated.");return r._firestoreClient||tO(r),r._firestoreClient}function tO(r){var t,n,s;const o=r._freezeSettings(),u=function(m,g,y,E){return new vC(m,g,y,E.host,E.ssl,E.experimentalForceLongPolling,E.experimentalAutoDetectLongPolling,HT(E.experimentalLongPollingOptions),E.useFetchStreams,E.isUsingEmulator)}(r._databaseId,((t=r._app)===null||t===void 0?void 0:t.options.appId)||"",r._persistenceKey,o);r._componentsProvider||!((n=o.localCache)===null||n===void 0)&&n._offlineComponentProvider&&(!((s=o.localCache)===null||s===void 0)&&s._onlineComponentProvider)&&(r._componentsProvider={_offline:o.localCache._offlineComponentProvider,_online:o.localCache._onlineComponentProvider}),r._firestoreClient=new QD(r._authCredentials,r._appCheckCredentials,r._queue,u,r._componentsProvider&&function(m){const g=m==null?void 0:m._online.build();return{_offline:m==null?void 0:m._offline.build(g),_online:g}}(r._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $a{constructor(t){this._byteString=t}static fromBase64String(t){try{return new $a(qe.fromBase64String(t))}catch(n){throw new dt(et.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(t){return new $a(qe.fromUint8Array(t))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(t){return this._byteString.isEqual(t._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pp{constructor(...t){for(let n=0;n<t.length;++n)if(t[n].length===0)throw new dt(et.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new He(t)}isEqual(t){return this._internalPath.isEqual(t._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GT{constructor(t){this._methodName=t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gp{constructor(t,n){if(!isFinite(t)||t<-90||t>90)throw new dt(et.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+t);if(!isFinite(n)||n<-180||n>180)throw new dt(et.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=t,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(t){return this._lat===t._lat&&this._long===t._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(t){return It(this._lat,t._lat)||It(this._long,t._long)}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yp{constructor(t){this._values=(t||[]).map(n=>n)}toArray(){return this._values.map(t=>t)}isEqual(t){return function(s,o){if(s.length!==o.length)return!1;for(let u=0;u<s.length;++u)if(s[u]!==o[u])return!1;return!0}(this._values,t._values)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const eO=/^__.*__$/;class nO{constructor(t,n,s){this.data=t,this.fieldMask=n,this.fieldTransforms=s}toMutation(t,n){return this.fieldMask!==null?new zs(t,this.data,this.fieldMask,n,this.fieldTransforms):new Kl(t,this.data,n,this.fieldTransforms)}}function QT(r){switch(r){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw _t(40011,{Ic:r})}}class _p{constructor(t,n,s,o,u,f){this.settings=t,this.databaseId=n,this.serializer=s,this.ignoreUndefinedProperties=o,u===void 0&&this.Ec(),this.fieldTransforms=u||[],this.fieldMask=f||[]}get path(){return this.settings.path}get Ic(){return this.settings.Ic}dc(t){return new _p(Object.assign(Object.assign({},this.settings),t),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Ac(t){var n;const s=(n=this.path)===null||n===void 0?void 0:n.child(t),o=this.dc({path:s,Rc:!1});return o.Vc(t),o}mc(t){var n;const s=(n=this.path)===null||n===void 0?void 0:n.child(t),o=this.dc({path:s,Rc:!1});return o.Ec(),o}fc(t){return this.dc({path:void 0,Rc:!0})}gc(t){return oh(t,this.settings.methodName,this.settings.yc||!1,this.path,this.settings.wc)}contains(t){return this.fieldMask.find(n=>t.isPrefixOf(n))!==void 0||this.fieldTransforms.find(n=>t.isPrefixOf(n.field))!==void 0}Ec(){if(this.path)for(let t=0;t<this.path.length;t++)this.Vc(this.path.get(t))}Vc(t){if(t.length===0)throw this.gc("Document fields must not be empty");if(QT(this.Ic)&&eO.test(t))throw this.gc('Document fields cannot begin and end with "__"')}}class iO{constructor(t,n,s){this.databaseId=t,this.ignoreUndefinedProperties=n,this.serializer=s||wh(t)}bc(t,n,s,o=!1){return new _p({Ic:t,methodName:n,wc:s,path:He.emptyPath(),Rc:!1,yc:o},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function KT(r){const t=r._freezeSettings(),n=wh(r._databaseId);return new iO(r._databaseId,!!t.ignoreUndefinedProperties,n)}function YT(r,t,n,s,o,u={}){const f=r.bc(u.merge||u.mergeFields?2:0,t,n,o);WT("Data must be an object, but it was:",f,s);const m=$T(s,f);let g,y;if(u.merge)g=new Ln(f.fieldMask),y=f.fieldTransforms;else if(u.mergeFields){const E=[];for(const b of u.mergeFields){const S=rO(t,b,n);if(!f.contains(S))throw new dt(et.INVALID_ARGUMENT,`Field '${S}' is specified in your field mask but missing from your input data.`);aO(E,S)||E.push(S)}g=new Ln(E),y=f.fieldTransforms.filter(b=>g.covers(b.field))}else g=null,y=f.fieldTransforms;return new nO(new In(m),g,y)}function XT(r,t){if(ZT(r=Dn(r)))return WT("Unsupported field value:",t,r),$T(r,t);if(r instanceof GT)return function(s,o){if(!QT(o.Ic))throw o.gc(`${s._methodName}() can only be used with update() and set()`);if(!o.path)throw o.gc(`${s._methodName}() is not currently supported inside arrays`);const u=s._toFieldTransform(o);u&&o.fieldTransforms.push(u)}(r,t),null;if(r===void 0&&t.ignoreUndefinedProperties)return null;if(t.path&&t.fieldMask.push(t.path),r instanceof Array){if(t.settings.Rc&&t.Ic!==4)throw t.gc("Nested arrays are not supported");return function(s,o){const u=[];let f=0;for(const m of s){let g=XT(m,o.fc(f));g==null&&(g={nullValue:"NULL_VALUE"}),u.push(g),f++}return{arrayValue:{values:u}}}(r,t)}return function(s,o){if((s=Dn(s))===null)return{nullValue:"NULL_VALUE"};if(typeof s=="number")return jC(o.serializer,s);if(typeof s=="boolean")return{booleanValue:s};if(typeof s=="string")return{stringValue:s};if(s instanceof Date){const u=we.fromDate(s);return{timestampValue:ih(o.serializer,u)}}if(s instanceof we){const u=new we(s.seconds,1e3*Math.floor(s.nanoseconds/1e3));return{timestampValue:ih(o.serializer,u)}}if(s instanceof gp)return{geoPointValue:{latitude:s.latitude,longitude:s.longitude}};if(s instanceof $a)return{bytesValue:dT(o.serializer,s._byteString)};if(s instanceof Cn){const u=o.databaseId,f=s.firestore._databaseId;if(!f.isEqual(u))throw o.gc(`Document reference is for database ${f.projectId}/${f.database} but should be for database ${u.projectId}/${u.database}`);return{referenceValue:Jm(s.firestore._databaseId||o.databaseId,s._key.path)}}if(s instanceof yp)return function(f,m){return{mapValue:{fields:{[H0]:{stringValue:q0},[Wc]:{arrayValue:{values:f.toArray().map(y=>{if(typeof y!="number")throw m.gc("VectorValues must only contain numeric values.");return $m(m.serializer,y)})}}}}}}(s,o);throw o.gc(`Unsupported field value: ${dp(s)}`)}(r,t)}function $T(r,t){const n={};return P0(r)?t.path&&t.path.length>0&&t.fieldMask.push(t.path):Us(r,(s,o)=>{const u=XT(o,t.Ac(s));u!=null&&(n[s]=u)}),{mapValue:{fields:n}}}function ZT(r){return!(typeof r!="object"||r===null||r instanceof Array||r instanceof Date||r instanceof we||r instanceof gp||r instanceof $a||r instanceof Cn||r instanceof GT||r instanceof yp)}function WT(r,t,n){if(!ZT(n)||!function(o){return typeof o=="object"&&o!==null&&(Object.getPrototypeOf(o)===Object.prototype||Object.getPrototypeOf(o)===null)}(n)){const s=dp(n);throw s==="an object"?t.gc(r+" a custom object"):t.gc(r+" "+s)}}function rO(r,t,n){if((t=Dn(t))instanceof pp)return t._internalPath;if(typeof t=="string")return JT(r,t);throw oh("Field path arguments must be of type string or ",r,!1,void 0,n)}const sO=new RegExp("[~\\*/\\[\\]]");function JT(r,t,n){if(t.search(sO)>=0)throw oh(`Invalid field path (${t}). Paths must not contain '~', '*', '/', '[', or ']'`,r,!1,void 0,n);try{return new pp(...t.split("."))._internalPath}catch{throw oh(`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,r,!1,void 0,n)}}function oh(r,t,n,s,o){const u=s&&!s.isEmpty(),f=o!==void 0;let m=`Function ${t}() called with invalid data`;n&&(m+=" (via `toFirestore()`)"),m+=". ";let g="";return(u||f)&&(g+=" (found",u&&(g+=` in field ${s}`),f&&(g+=` in document ${o}`),g+=")"),new dt(et.INVALID_ARGUMENT,m+r+g)}function aO(r,t){return r.some(n=>n.isEqual(t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tA{constructor(t,n,s,o,u){this._firestore=t,this._userDataWriter=n,this._key=s,this._document=o,this._converter=u}get id(){return this._key.path.lastSegment()}get ref(){return new Cn(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const t=new oO(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(t)}return this._userDataWriter.convertValue(this._document.data.value)}}get(t){if(this._document){const n=this._document.data.field(eA("DocumentSnapshot.get",t));if(n!==null)return this._userDataWriter.convertValue(n)}}}class oO extends tA{data(){return super.data()}}function eA(r,t){return typeof t=="string"?JT(r,t):t instanceof pp?t._internalPath:t._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function lO(r){if(r.limitType==="L"&&r.explicitOrderBy.length===0)throw new dt(et.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class uO{convertValue(t,n="none"){switch(Br(t)){case 0:return null;case 1:return t.booleanValue;case 2:return de(t.integerValue||t.doubleValue);case 3:return this.convertTimestamp(t.timestampValue);case 4:return this.convertServerTimestamp(t,n);case 5:return t.stringValue;case 6:return this.convertBytes(zr(t.bytesValue));case 7:return this.convertReference(t.referenceValue);case 8:return this.convertGeoPoint(t.geoPointValue);case 9:return this.convertArray(t.arrayValue,n);case 11:return this.convertObject(t.mapValue,n);case 10:return this.convertVectorValue(t.mapValue);default:throw _t(62114,{value:t})}}convertObject(t,n){return this.convertObjectMap(t.fields,n)}convertObjectMap(t,n="none"){const s={};return Us(t,(o,u)=>{s[o]=this.convertValue(u,n)}),s}convertVectorValue(t){var n,s,o;const u=(o=(s=(n=t.fields)===null||n===void 0?void 0:n[Wc].arrayValue)===null||s===void 0?void 0:s.values)===null||o===void 0?void 0:o.map(f=>de(f.doubleValue));return new yp(u)}convertGeoPoint(t){return new gp(de(t.latitude),de(t.longitude))}convertArray(t,n){return(t.values||[]).map(s=>this.convertValue(s,n))}convertServerTimestamp(t,n){switch(n){case"previous":const s=_h(t);return s==null?null:this.convertValue(s,n);case"estimate":return this.convertTimestamp(Vl(t));default:return null}}convertTimestamp(t){const n=Lr(t);return new we(n.seconds,n.nanos)}convertDocumentKey(t,n){const s=ne.fromString(t);jt(vT(s),9688,{name:t});const o=new xl(s.get(1),s.get(3)),u=new pt(s.popFirst(5));return o.isEqual(n)||Ki(`Document ${u} contains a document reference within a different database (${o.projectId}/${o.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),u}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function nA(r,t,n){let s;return s=r?r.toFirestore(t):t,s}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cc{constructor(t,n){this.hasPendingWrites=t,this.fromCache=n}isEqual(t){return this.hasPendingWrites===t.hasPendingWrites&&this.fromCache===t.fromCache}}class cO extends tA{constructor(t,n,s,o,u,f){super(t,n,s,o,f),this._firestore=t,this._firestoreImpl=t,this.metadata=u}exists(){return super.exists()}data(t={}){if(this._document){if(this._converter){const n=new Bc(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,t)}return this._userDataWriter.convertValue(this._document.data.value,t.serverTimestamps)}}get(t,n={}){if(this._document){const s=this._document.data.field(eA("DocumentSnapshot.get",t));if(s!==null)return this._userDataWriter.convertValue(s,n.serverTimestamps)}}}class Bc extends cO{data(t={}){return super.data(t)}}class hO{constructor(t,n,s,o){this._firestore=t,this._userDataWriter=n,this._snapshot=o,this.metadata=new Cc(o.hasPendingWrites,o.fromCache),this.query=s}get docs(){const t=[];return this.forEach(n=>t.push(n)),t}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(t,n){this._snapshot.docs.forEach(s=>{t.call(n,new Bc(this._firestore,this._userDataWriter,s.key,s,new Cc(this._snapshot.mutatedKeys.has(s.key),this._snapshot.fromCache),this.query.converter))})}docChanges(t={}){const n=!!t.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new dt(et.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(o,u){if(o._snapshot.oldDocs.isEmpty()){let f=0;return o._snapshot.docChanges.map(m=>{const g=new Bc(o._firestore,o._userDataWriter,m.doc.key,m.doc,new Cc(o._snapshot.mutatedKeys.has(m.doc.key),o._snapshot.fromCache),o.query.converter);return m.doc,{type:"added",doc:g,oldIndex:-1,newIndex:f++}})}{let f=o._snapshot.oldDocs;return o._snapshot.docChanges.filter(m=>u||m.type!==3).map(m=>{const g=new Bc(o._firestore,o._userDataWriter,m.doc.key,m.doc,new Cc(o._snapshot.mutatedKeys.has(m.doc.key),o._snapshot.fromCache),o.query.converter);let y=-1,E=-1;return m.type!==0&&(y=f.indexOf(m.doc.key),f=f.delete(m.doc.key)),m.type!==1&&(f=f.add(m.doc),E=f.indexOf(m.doc.key)),{type:fO(m.type),doc:g,oldIndex:y,newIndex:E}})}}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}}function fO(r){switch(r){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return _t(61501,{type:r})}}class dO extends uO{constructor(t){super(),this.firestore=t}convertBytes(t){return new $a(t)}convertReference(t){const n=this.convertDocumentKey(t,this.firestore._databaseId);return new Cn(this.firestore,null,n)}}function iA(r){r=Xa(r,Dh);const t=Xa(r.firestore,Nh),n=FT(t),s=new dO(t);return lO(r._query),$D(n,r._query).then(o=>new hO(t,s,r,o))}function rA(r,t,n){r=Xa(r,Cn);const s=Xa(r.firestore,Nh),o=nA(r.converter,t);return aA(s,[YT(KT(s),"setDoc",r._key,o,r.converter!==null,n).toMutation(r._key,oi.none())])}function sA(r,t){const n=Xa(r.firestore,Nh),s=mp(r),o=nA(r.converter,t);return aA(n,[YT(KT(r.firestore),"addDoc",s._key,o,r.converter!==null,{}).toMutation(s._key,oi.exists(!1))]).then(()=>s)}function aA(r,t){return function(s,o){const u=new Pr;return s.asyncQueue.enqueueAndForget(async()=>kD(await YD(s),o,u)),u.promise}(FT(r),t)}(function(t,n=!0){(function(o){eo=o})(Ja),Ha(new Ns("firestore",(s,{instanceIdentifier:o,options:u})=>{const f=s.getProvider("app").getImmediate(),m=new Nh(new nC(s.getProvider("auth-internal")),new sC(f,s.getProvider("app-check-internal")),function(y,E){if(!Object.prototype.hasOwnProperty.apply(y.options,["projectId"]))throw new dt(et.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new xl(y.options.projectId,E)}(f,o),f);return u=Object.assign({useFetchStreams:n},u),m._setSettings(u),m},"PUBLIC").setMultipleInstances(!0)),Vr(Ev,Tv,t),Vr(Ev,Tv,"esm2017")})();const mO={apiKey:"AIzaSyC9G6Aky0LRTMj6rnpQFFCVeZfw5SA4SlM",authDomain:"fasttrack-69875.firebaseapp.com",projectId:"fasttrack-69875",storageBucket:"fasttrack-69875.firebasestorage.app",messagingSenderId:"14126042112",appId:"1:14126042112:web:35d898ba9a64ab0e1d5ce5",measurementId:"G-Q06R30V83M"},oA=FE(mO),gE=$I(oA),pO=new Bi,Za=JD(oA),so=G.createContext(null),gO=({children:r})=>{const[t,n]=G.useState(null);G.useEffect(()=>{const o=zR(gE,async u=>{console.log("onAuthStateChanged:",u),u&&n(u)});return()=>o()},[]);const s=async()=>{await sI(gE,pO)};return Lt.jsx(Lt.Fragment,{children:Lt.jsx(so.Provider,{value:{curUser:t,signIn:s},children:r})})};class yO{constructor(t,n="",s=""){wr(this,"name","");wr(this,"muscles","");wr(this,"id");this.setName(n),this.setMuscles(s),this.setId(t)}getName(){return this.name}getMuscles(){return this.muscles}getId(){return this.id}setName(t){this.name=t}setMuscles(t){this.muscles=t}setId(t){this.id=t}}const _O=async r=>{const t=await sA(Oh(Za,"users",r.uid,"exercises"),{});await rA(mp(Za,"users",r.uid,"exercises",t.id),{id:t.id,name:"Bench press"})},vO=()=>{var o;const r=G.useContext(so),[t,n]=G.useState([]);async function s(){const u=await iA(Oh(Za,"users",r.curUser.uid,"exercises")),f=[];u.forEach(m=>{const g=m.data();f.push(new yO(g.id,g.name,g.muscles))}),n(f)}return G.useEffect(()=>{var u;(u=r==null?void 0:r.curUser)!=null&&u.uid&&s()},[(o=r==null?void 0:r.curUser)==null?void 0:o.uid]),{exercises:t,getExercises:s}};function EO({exercise:r}){return Lt.jsx("div",{className:"card",children:Lt.jsx(hh,{to:r.getId(),children:r.getName()})})}const TO=()=>{console.log("TEST GJE RJA");const{exercises:r,getExercises:t}=vO(),n=G.useContext(so),s=uh();G.useEffect(()=>{(!n||!n.curUser)&&s("/FastTrack")});async function o(){await _O(n.curUser),t()}return Lt.jsxs("div",{className:"exerciseList",children:[r.map(u=>Lt.jsx(EO,{exercise:u},u.getId())),Lt.jsx("button",{onClick:o,children:"Add Exercise"})]})},yE=()=>{const r=G.useContext(so),t=uh(),[n,s]=G.useState("signIn");return G.useEffect(()=>{r!=null&&r.curUser&&t("/FastTrack/ExerciseListView")},[r==null?void 0:r.curUser]),Lt.jsxs(Lt.Fragment,{children:[Lt.jsxs("div",{className:"tabs",children:[Lt.jsx("button",{className:n==="signIn"?"active":"inactive",onClick:()=>s("signIn"),children:"Sign In"}),Lt.jsx("button",{className:n==="calculator"?"active":"inactive",onClick:()=>s("calculator"),children:"Max Calculator"})]}),Lt.jsx("button",{onClick:r==null?void 0:r.signIn,children:"Sign in"}),Lt.jsx(hh,{to:"/ExerciseListView",children:"View Exercises"})]})};let AO=class{constructor(t,n="",s="",o=""){wr(this,"id");wr(this,"setNumber","");wr(this,"weight","");wr(this,"reps","");this.setId(t),this.setSetNumber(n),this.setWeight(s),this.setReps(o)}getId(){return this.id}getSetNumber(){return this.setNumber}getWeight(){return this.weight}getReps(){return this.reps}setId(t){this.id=t}setSetNumber(t){this.setNumber=t}setWeight(t){this.weight=t}setReps(t){this.reps=t}};const SO=async(r,t)=>{console.log(t);const n=await sA(Oh(Za,"users",r.uid,"exercises",t,"sets"),{});await rA(mp(Za,"users",r.uid,"exercises",t,"sets",n.id),{id:n.id})},bO=r=>{var u;const t=G.useContext(so),[n,s]=G.useState([]);async function o(){const f=await iA(Oh(Za,"users",t.curUser.uid,"exercises",r,"sets")),m=[];f.forEach(g=>{const y=g.data();m.push(new AO(y.id,y.setNumber,y.weight,y.reps))}),s(m)}return G.useEffect(()=>{var f;(f=t==null?void 0:t.curUser)!=null&&f.uid&&o()},[(u=t==null?void 0:t.curUser)==null?void 0:u.uid]),{sets:n,getSets:o}};function wO({set:r}){return Lt.jsx("div",{className:"card",children:r.getId()})}const RO=()=>{const r=G.useContext(so),t=uh(),n=E1().exerciseId,{sets:s,getSets:o}=bO(n);G.useEffect(()=>{(!r||!r.curUser)&&t("/")});async function u(f){await SO(r.curUser,f),o()}return Lt.jsxs("div",{className:"setList",children:[s.map(f=>Lt.jsx(wO,{set:f},f.getId())),Lt.jsx("button",{onClick:()=>u(n),children:"Add Set"})]})};function IO(){return Lt.jsx(Lt.Fragment,{children:Lt.jsx(gO,{children:Lt.jsx(sb,{children:Lt.jsxs(P1,{children:[Lt.jsx(vl,{path:"/",element:Lt.jsx(yE,{})}),Lt.jsx(vl,{path:"/FastTrack/ExerciseListView",element:Lt.jsx(TO,{})})," // /FastTrack/....",Lt.jsx(vl,{path:"/FastTrack/ExerciseListView/:exerciseId",element:Lt.jsx(RO,{})})," // /FastTrack/....",Lt.jsx(vl,{path:"*",element:Lt.jsx(yE,{})})]})})})})}jS.createRoot(document.getElementById("root")).render(Lt.jsx(G.StrictMode,{children:Lt.jsx(IO,{})}));
